!function(e,t){"object"==typeof exports&&"undefined"!=typeof module?t(require("antd"),require("vue")):"function"==typeof define&&define.amd?define(["antd","vue"],t):t((e="undefined"!=typeof globalThis?globalThis:e||self).antd,e.Vue)}(this,function(e,t){"use strict";function n(e){return e.replace(/`{3}<([^`]+)>\n([^`]+)`{3}/g,function(e,t,n){let i="",r="";return n.split(/\n/).forEach(e=>{const[t,...n]=e.trim().split(":"),o=n.join(":");"string"==typeof t&&(o?r+=` ${t}="${o}"`:i=t)}),`<${t}${r}>${i}</${t}>`})}!function(){function e(e){var t=Object.create(null);return function(n){var i=r(n)?n:JSON.stringify(n);return t[i]||(t[i]=e(n))}}var t=e(function(e){return e.replace(/([A-Z])/g,function(e){return"-"+e.toLowerCase()})}),n=Object.prototype.hasOwnProperty,i=Object.assign||function(e){for(var t=arguments,i=1;i<arguments.length;i++){var r=Object(t[i]);for(var o in r)n.call(r,o)&&(e[o]=r[o])}return e};function r(e){return"string"==typeof e||"number"==typeof e}function o(){}function s(e){return"function"==typeof e}function a(e){var t=e.match(/^([^:/?#]+:)?(?:\/{2,}([^/?#]*))?([^?#]+)?(\?[^#]*)?(#.*)?/);return"string"==typeof t[1]&&t[1].length>0&&t[1].toLowerCase()!==location.protocol||("string"==typeof t[2]&&t[2].length>0&&t[2].replace(new RegExp(":("+{"http:":80,"https:":443}[location.protocol]+")?$"),"")!==location.host||!!/^\/\\/.test(e))}var l=document.body.clientWidth<=600,c=window.history&&window.history.pushState&&window.history.replaceState&&!navigator.userAgent.match(/((iPod|iPhone|iPad).+\bOS\s+[1-4]\D|WebApps\/.+CFNetwork)/),u={};function h(e,t){if(void 0===t&&(t=!1),"string"==typeof e){if(void 0!==window.Vue)return g(e);e=t?g(e):u[e]||(u[e]=g(e))}return e}var d=document,p=d.body,f=d.head;function g(e,t){return t?e.querySelector(t):d.querySelector(e)}function m(e,t){return[].slice.call(t?e.querySelectorAll(t):d.querySelectorAll(e))}function v(e,t){return e=d.createElement(e),t&&(e.innerHTML=t),e}function _(e,t){return e.appendChild(t)}function y(e,t){return e.insertBefore(t,e.children[0])}function x(e,t,n){s(t)?window.addEventListener(e,t):e.addEventListener(t,n)}function b(e,t,n){s(t)?window.removeEventListener(e,t):e.removeEventListener(t,n)}function w(e,t,n){e&&e.classList[n?t:"toggle"](n||t)}function k(e,t){void 0===t&&(t=document);var n=t.readyState;if("complete"===n||"interactive"===n)return setTimeout(e,0);t.addEventListener("DOMContentLoaded",e)}var S=Object.freeze({__proto__:null,getNode:h,$:d,body:p,head:f,find:g,findAll:m,create:v,appendTo:_,before:y,on:x,off:b,toggleClass:w,style:function(e){_(f,v("style",e))},documentReady:k});function C(e,t){return-1!==e.indexOf(t,e.length-t.length)}var E=decodeURIComponent,T=encodeURIComponent;function R(e){var t={};return(e=e.trim().replace(/^(\?|#|&)/,""))?(e.split("&").forEach(function(e){var n=e.replace(/\+/g," ").split("=");t[n[0]]=n[1]&&E(n[1])}),t):t}function M(e,t){void 0===t&&(t=[]);var n=[];for(var i in e)t.indexOf(i)>-1||n.push(e[i]?(T(i)+"="+T(e[i])).toLowerCase():T(i));return n.length?"?"+n.join("&"):""}var I=e(function(e){return/(:|(\/{2}))/g.test(e)}),A=e(function(e){return e.split(/[?#]/)[0]}),P=e(function(e){if(/\/$/g.test(e))return e;var t=e.match(/(\S*\/)[^/]+$/);return t?t[1]:""}),F=e(function(e){return e.replace(/^\/+/,"/").replace(/([^:])\/{2,}/g,"$1/")}),L=e(function(e){for(var t=e.replace(/^\//,"").split("/"),n=[],i=0,r=t.length;i<r;i++){var o=t[i];".."===o?n.pop():"."!==o&&n.push(o)}return"/"+n.join("/")});function z(e){return e.split("/").filter(function(e){return-1===e.indexOf("#")}).join("/")}function O(){for(var e=[],t=arguments.length;t--;)e[t]=arguments[t];return F(e.map(z).join("/"))}var D=e(function(e){return e.replace("#","?id=")}),j={};function N(e,t,n){var i=Object.keys(t).filter(function(t){return(j[t]||(j[t]=new RegExp("^"+t+"$"))).test(e)&&e!==n})[0];return i?N(e.replace(j[i],t[i]),t,e):e}var $=function(e){this.config=e};function B(e){var t=location.href.indexOf("#");location.replace(location.href.slice(0,t>=0?t:0)+"#"+e)}$.prototype.getBasePath=function(){return this.config.basePath},$.prototype.getFile=function(e,t){void 0===e&&(e=this.getCurrentPath());var n=this.config,i=this.getBasePath(),r="string"==typeof n.ext?n.ext:".md";return e=function(e,t){return new RegExp("\\.("+t.replace(/^\./,"")+"|html)$","g").test(e)?e:/\/$/g.test(e)?e+"README"+t:""+e+t}(e=n.alias?N(e,n.alias):e,r),e=e==="/README"+r&&n.homepage||e,e=I(e)?e:O(i,e),t&&(e=e.replace(new RegExp("^"+i),"")),e},$.prototype.onchange=function(e){void 0===e&&(e=o),e()},$.prototype.getCurrentPath=function(){},$.prototype.normalize=function(){},$.prototype.parse=function(){},$.prototype.toURL=function(e,t,n){var r=n&&"#"===e[0],o=this.parse(D(e));if(o.query=i({},o.query,t),e=(e=o.path+M(o.query)).replace(/\.md(\?)|\.md$/,"$1"),r){var s=n.indexOf("?");e=(s>0?n.substring(0,s):n)+e}if(this.config.relativePath&&0!==e.indexOf("/")){var a=n.substring(0,n.lastIndexOf("/")+1);return F(L(a+e))}return F("/"+e)};var G=function(e){function t(t){e.call(this,t),this.mode="hash"}return e&&(t.__proto__=e),t.prototype=Object.create(e&&e.prototype),t.prototype.constructor=t,t.prototype.getBasePath=function(){var e=window.location.pathname||"",t=this.config.basePath,n=C(e,".html")?e+"#/"+t:e+"/"+t;return/^(\/|https?:)/g.test(t)?t:F(n)},t.prototype.getCurrentPath=function(){var e=location.href,t=e.indexOf("#");return-1===t?"":e.slice(t+1)},t.prototype.onchange=function(e){void 0===e&&(e=o);var t=!1;x("click",function(e){var n="A"===e.target.tagName?e.target:e.target.parentNode;n&&"A"===n.tagName&&!a(n.href)&&(t=!0)}),x("hashchange",function(n){var i=t?"navigate":"history";t=!1,e({event:n,source:i})})},t.prototype.normalize=function(){var e=this.getCurrentPath();if("/"===(e=D(e)).charAt(0))return B(e);B("/"+e)},t.prototype.parse=function(e){void 0===e&&(e=location.href);var t="",n=e.indexOf("#");n>=0&&(e=e.slice(n+1));var i=e.indexOf("?");return i>=0&&(t=e.slice(i+1),e=e.slice(0,i)),{path:e,file:this.getFile(e,!0),query:R(t)}},t.prototype.toURL=function(t,n,i){return"#"+e.prototype.toURL.call(this,t,n,i)},t}($),q=function(e){function t(t){e.call(this,t),this.mode="history"}return e&&(t.__proto__=e),t.prototype=Object.create(e&&e.prototype),t.prototype.constructor=t,t.prototype.getCurrentPath=function(){var e=this.getBasePath(),t=window.location.pathname;return e&&0===t.indexOf(e)&&(t=t.slice(e.length)),(t||"/")+window.location.search+window.location.hash},t.prototype.onchange=function(e){void 0===e&&(e=o),x("click",function(t){var n="A"===t.target.tagName?t.target:t.target.parentNode;if(n&&"A"===n.tagName&&!a(n.href)){t.preventDefault();var i=n.href;window.history.pushState({key:i},"",i),e({event:t,source:"navigate"})}}),x("popstate",function(t){e({event:t,source:"history"})})},t.prototype.parse=function(e){void 0===e&&(e=location.href);var t="",n=e.indexOf("?");n>=0&&(t=e.slice(n+1),e=e.slice(0,n));var i=O(location.origin),r=e.indexOf(i);return r>-1&&(e=e.slice(r+i.length)),{path:e,file:this.getFile(e),query:R(t)}},t}($),W={};var X,U,H=/([^{]*?)\w(?=\})/g,V={YYYY:"getFullYear",YY:"getYear",MM:function(e){return e.getMonth()+1},DD:"getDate",HH:"getHours",mm:"getMinutes",ss:"getSeconds",fff:"getMilliseconds"};function Y(e){var t,n,i=e.loaded,r=e.total,o=e.step;!X&&((n=v("div")).classList.add("progress"),_(p,n),X=n),t=o?(t=parseInt(X.style.width||0,10)+o)>80?80:t:Math.floor(i/r*100),X.style.opacity=1,X.style.width=t>=95?"100%":t+"%",t>=95&&(clearTimeout(U),U=setTimeout(function(e){X.style.opacity=0,X.style.width="0%"},200))}var Z={};function K(e,t,i){void 0===t&&(t=!1),void 0===i&&(i={});var r=new XMLHttpRequest,s=function(){r.addEventListener.apply(r,arguments)},a=Z[e];if(a)return{then:function(e){return e(a.content,a.opt)},abort:o};for(var l in r.open("GET",e),i)n.call(i,l)&&r.setRequestHeader(l,i[l]);return r.send(),{then:function(n,i){if(void 0===i&&(i=o),t){var a=setInterval(function(e){return Y({step:Math.floor(5*Math.random()+1)})},500);s("progress",Y),s("loadend",function(e){Y(e),clearInterval(a)})}s("error",i),s("load",function(t){var o=t.target;if(o.status>=400)i(o);else{var s=Z[e]={content:o.response,opt:{updatedAt:r.getResponseHeader("last-modified")}};n(s.content,s.opt)}})},abort:function(e){return 4!==r.readyState&&r.abort()}}}function J(e,t){e.innerHTML=e.innerHTML.replace(/var\(\s*--theme-color.*?\)/g,t)}var Q=d.title;function ee(){var e=h("section.cover");if(e){var t=e.getBoundingClientRect().height;window.pageYOffset>=t||e.classList.contains("hidden")?w(p,"add","sticky"):w(p,"remove","sticky")}}function te(e,t,n,i){var r=[];null!=(t=h(t))&&(r=m(t,"a"));var o,s=decodeURI(e.toURL(e.getCurrentPath()));return r.sort(function(e,t){return t.href.length-e.href.length}).forEach(function(e){var t=decodeURI(e.getAttribute("href")),i=n?e.parentNode:e;e.title=e.title||e.innerText,0!==s.indexOf(t)||o?w(i,"remove","active"):(o=e,w(i,"add","active"))}),i&&(d.title=o?o.title||o.innerText+" - "+Q:Q),o}var ne=function(){function e(e,t){for(var n=0;n<t.length;n++){var i=t[n];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(e,i.key,i)}}return function(t,n,i){return n&&e(t.prototype,n),i&&e(t,i),t}}();var ie=function(){function e(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,e),this.start=t.start,this.end=t.end,this.decimal=t.decimal}return ne(e,[{key:"getIntermediateValue",value:function(e){return this.decimal?e:Math.round(e)}},{key:"getFinalValue",value:function(){return this.end}}]),e}(),re=function(){function e(e,t){for(var n=0;n<t.length;n++){var i=t[n];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(e,i.key,i)}}return function(t,n,i){return n&&e(t.prototype,n),i&&e(t,i),t}}();var oe=function(){function e(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,e),this.duration=t.duration||1e3,this.ease=t.easing||this._defaultEase,this.tweener=t.tweener||new ie(t),this.start=this.tweener.start,this.end=this.tweener.end,this.frame=null,this.next=null,this.isRunning=!1,this.events={},this.direction=this.start<this.end?"up":"down"}return re(e,[{key:"begin",value:function(){return this.isRunning||this.next===this.end||(this.frame=window.requestAnimationFrame(this._tick.bind(this))),this}},{key:"stop",value:function(){return window.cancelAnimationFrame(this.frame),this.isRunning=!1,this.frame=null,this.timeStart=null,this.next=null,this}},{key:"on",value:function(e,t){return this.events[e]=this.events[e]||[],this.events[e].push(t),this}},{key:"_emit",value:function(e,t){var n=this,i=this.events[e];i&&i.forEach(function(e){return e.call(n,t)})}},{key:"_tick",value:function(e){this.isRunning=!0;var t=this.next||this.start;this.timeStart||(this.timeStart=e),this.timeElapsed=e-this.timeStart,this.next=this.ease(this.timeElapsed,this.start,this.end-this.start,this.duration),this._shouldTick(t)?(this._emit("tick",this.tweener.getIntermediateValue(this.next)),this.frame=window.requestAnimationFrame(this._tick.bind(this))):(this._emit("tick",this.tweener.getFinalValue()),this._emit("done",null))}},{key:"_shouldTick",value:function(e){return{up:this.next<this.end&&e<=this.next,down:this.next>this.end&&e>=this.next}[this.direction]}},{key:"_defaultEase",value:function(e,t,n,i){return(e/=i/2)<1?n/2*e*e+t:-n/2*(--e*(e-2)-1)+t}}]),e}(),se=document.currentScript;function ae(e){var o=i({auto2top:!1,autoHeader:!1,basePath:"",catchPluginErrors:!0,cornerExternalLinkTarget:"_blank",coverpage:"",el:"#app",executeScript:null,ext:".md",externalLinkRel:"noopener",externalLinkTarget:"_blank",formatUpdated:"",ga:"",homepage:"README.md",loadNavbar:null,loadSidebar:null,maxLevel:6,mergeNavbar:!1,name:"",nameLink:window.location.pathname,nativeEmoji:!1,noCompileLinks:[],noEmoji:!1,notFoundPage:!0,relativePath:!1,repo:"",routes:{},routerMode:"hash",subMaxLevel:0,themeColor:"",topMargin:0},"function"==typeof window.$docsify?window.$docsify(e):window.$docsify),s=se||[].slice.call(document.getElementsByTagName("script")).filter(function(e){return/docsify\./.test(e.src)})[0];if(s)for(var a in o)if(n.call(o,a)){var l=s.getAttribute("data-"+t(a));r(l)&&(o[a]=""===l||l)}return!0===o.loadSidebar&&(o.loadSidebar="_sidebar"+o.ext),!0===o.loadNavbar&&(o.loadNavbar="_navbar"+o.ext),!0===o.coverpage&&(o.coverpage="_coverpage"+o.ext),!0===o.repo&&(o.repo=""),!0===o.name&&(o.name=""),window.$docsify=o,o}var le={},ce=!1,ue=null,he=!0,de=0;function pe(e){if(he){for(var t,n=h(".sidebar"),i=m(".anchor"),r=g(n,".sidebar-nav"),o=g(n,"li.active"),s=document.documentElement,a=(s&&s.scrollTop||document.body.scrollTop)-de,l=0,c=i.length;l<c;l+=1){var u=i[l];if(u.offsetTop>a){t||(t=u);break}t=u}if(t){var d=le[fe(e,t.getAttribute("data-id"))];if(d&&d!==o&&(o&&o.classList.remove("active"),d.classList.add("active"),o=d,!ce&&p.classList.contains("sticky"))){var f=n.clientHeight,v=o.offsetTop+o.clientHeight+40,_=o.offsetTop>=r.scrollTop&&v<=r.scrollTop+f,y=v-0<f;n.scrollTop=_?r.scrollTop:y?0:v-f}}}}function fe(e,t){return decodeURIComponent(e)+"?id="+decodeURIComponent(t)}function ge(e,t){if(t){var n,i,r=ae().topMargin,o=g("#"+t);o&&(n=o,void 0===(i=r)&&(i=0),ue&&ue.stop(),he=!1,ue=new oe({start:window.pageYOffset,end:Math.round(n.getBoundingClientRect().top)+window.pageYOffset-i,duration:500}).on("tick",function(e){return window.scrollTo(0,e)}).on("done",function(){he=!0,ue=null}).begin());var s=le[fe(e,t)],a=g(h(".sidebar"),"li.active");a&&a.classList.remove("active"),s&&s.classList.add("active")}}var me=d.scrollingElement||d.documentElement;var ve="undefined"!=typeof globalThis?globalThis:"undefined"!=typeof window?window:"undefined"!=typeof global?global:"undefined"!=typeof self?self:{};function _e(e,t){return e(t={exports:{}},t.exports),t.exports}var ye=_e(function(e){function t(){return{baseUrl:null,breaks:!1,gfm:!0,headerIds:!0,headerPrefix:"",highlight:null,langPrefix:"language-",mangle:!0,pedantic:!1,renderer:null,sanitize:!1,sanitizer:null,silent:!1,smartLists:!1,smartypants:!1,tokenizer:null,walkTokens:null,xhtml:!1}}e.exports={defaults:{baseUrl:null,breaks:!1,gfm:!0,headerIds:!0,headerPrefix:"",highlight:null,langPrefix:"language-",mangle:!0,pedantic:!1,renderer:null,sanitize:!1,sanitizer:null,silent:!1,smartLists:!1,smartypants:!1,tokenizer:null,walkTokens:null,xhtml:!1},getDefaults:t,changeDefaults:function(t){e.exports.defaults=t}}});ye.defaults,ye.getDefaults,ye.changeDefaults;var xe=/[&<>"']/,be=/[&<>"']/g,we=/[<>"']|&(?!#?\w+;)/,ke=/[<>"']|&(?!#?\w+;)/g,Se={"&":"&amp;","<":"&lt;",">":"&gt;",'"':"&quot;","'":"&#39;"},Ce=function(e){return Se[e]};var Ee=/&(#(?:\d+)|(?:#x[0-9A-Fa-f]+)|(?:\w+));?/gi;function Te(e){return e.replace(Ee,function(e,t){return"colon"===(t=t.toLowerCase())?":":"#"===t.charAt(0)?"x"===t.charAt(1)?String.fromCharCode(parseInt(t.substring(2),16)):String.fromCharCode(+t.substring(1)):""})}var Re=/(^|[^\[])\^/g;var Me=/[^\w:]/g,Ie=/^$|^[a-z][a-z0-9+.-]*:|^[?#]/i;var Ae={},Pe=/^[^:]+:\/*[^/]*$/,Fe=/^([^:]+:)[\s\S]*$/,Le=/^([^:]+:\/*[^/]*)[\s\S]*$/;function ze(e,t,n){var i=e.length;if(0===i)return"";for(var r=0;r<i;){var o=e.charAt(i-r-1);if(o!==t||n){if(o===t||!n)break;r++}else r++}return e.substr(0,i-r)}var Oe=function(e,t){if(t){if(xe.test(e))return e.replace(be,Ce)}else if(we.test(e))return e.replace(ke,Ce);return e},De=Te,je=function(e,t){e=e.source||e,t=t||"";var n={replace:function(t,i){return i=(i=i.source||i).replace(Re,"$1"),e=e.replace(t,i),n},getRegex:function(){return new RegExp(e,t)}};return n},Ne=function(e,t,n){if(e){var i;try{i=decodeURIComponent(Te(n)).replace(Me,"").toLowerCase()}catch(Ze){return null}if(0===i.indexOf("javascript:")||0===i.indexOf("vbscript:")||0===i.indexOf("data:"))return null}t&&!Ie.test(n)&&(n=function(e,t){Ae[" "+e]||(Pe.test(e)?Ae[" "+e]=e+"/":Ae[" "+e]=ze(e,"/",!0));e=Ae[" "+e];var n=-1===e.indexOf(":");return"//"===t.substring(0,2)?n?t:e.replace(Fe,"$1")+t:"/"===t.charAt(0)?n?t:e.replace(Le,"$1")+t:e+t}(t,n));try{n=encodeURI(n).replace(/%25/g,"%")}catch(Ze){return null}return n},$e={exec:function(){}},Be=function(e){for(var t,n,i=arguments,r=1;r<arguments.length;r++)for(n in t=i[r])Object.prototype.hasOwnProperty.call(t,n)&&(e[n]=t[n]);return e},Ge=function(e,t){var n=e.replace(/\|/g,function(e,t,n){for(var i=!1,r=t;--r>=0&&"\\"===n[r];)i=!i;return i?"|":" |"}).split(/ \|/),i=0;if(n.length>t)n.splice(t);else for(;n.length<t;)n.push("");for(;i<n.length;i++)n[i]=n[i].trim().replace(/\\\|/g,"|");return n},qe=ze,We=function(e,t){if(-1===e.indexOf(t[1]))return-1;for(var n=e.length,i=0,r=0;r<n;r++)if("\\"===e[r])r++;else if(e[r]===t[0])i++;else if(e[r]===t[1]&&--i<0)return r;return-1},Xe=function(e){e&&e.sanitize&&e.silent},Ue=function(e,t){if(t<1)return"";for(var n="";t>1;)1&t&&(n+=e),t>>=1,e+=e;return n+e},He=ye.defaults,Ve=qe,Ye=Ge,Ke=Oe,Je=We;function Qe(e,t,n){var i=t.href,r=t.title?Ke(t.title):null,o=e[1].replace(/\\([\[\]])/g,"$1");return"!"!==e[0].charAt(0)?{type:"link",raw:n,href:i,title:r,text:o}:{type:"image",raw:n,href:i,title:r,text:Ke(o)}}var et=function(){function e(e){this.options=e||He}return e.prototype.space=function(e){var t=this.rules.block.newline.exec(e);if(t)return t[0].length>1?{type:"space",raw:t[0]}:{raw:"\n"}},e.prototype.code=function(e,t){var n=this.rules.block.code.exec(e);if(n){var i=t[t.length-1];if(i&&"paragraph"===i.type)return{raw:n[0],text:n[0].trimRight()};var r=n[0].replace(/^ {1,4}/gm,"");return{type:"code",raw:n[0],codeBlockStyle:"indented",text:this.options.pedantic?r:Ve(r,"\n")}}},e.prototype.fences=function(e){var t=this.rules.block.fences.exec(e);if(t){var n=t[0],i=function(e,t){var n=e.match(/^(\s+)(?:```)/);if(null===n)return t;var i=n[1];return t.split("\n").map(function(e){var t=e.match(/^\s+/);return null===t?e:t[0].length>=i.length?e.slice(i.length):e}).join("\n")}(n,t[3]||"");return{type:"code",raw:n,lang:t[2]?t[2].trim():t[2],text:i}}},e.prototype.heading=function(e){var t=this.rules.block.heading.exec(e);if(t){var n=t[2].trim();if(/#$/.test(n)){var i=Ve(n,"#");this.options.pedantic?n=i.trim():i&&!/ $/.test(i)||(n=i.trim())}return{type:"heading",raw:t[0],depth:t[1].length,text:n}}},e.prototype.nptable=function(e){var t=this.rules.block.nptable.exec(e);if(t){var n={type:"table",header:Ye(t[1].replace(/^ *| *\| *$/g,"")),align:t[2].replace(/^ *|\| *$/g,"").split(/ *\| */),cells:t[3]?t[3].replace(/\n$/,"").split("\n"):[],raw:t[0]};if(n.header.length===n.align.length){var i,r=n.align.length;for(i=0;i<r;i++)/^ *-+: *$/.test(n.align[i])?n.align[i]="right":/^ *:-+: *$/.test(n.align[i])?n.align[i]="center":/^ *:-+ *$/.test(n.align[i])?n.align[i]="left":n.align[i]=null;for(r=n.cells.length,i=0;i<r;i++)n.cells[i]=Ye(n.cells[i],n.header.length);return n}}},e.prototype.hr=function(e){var t=this.rules.block.hr.exec(e);if(t)return{type:"hr",raw:t[0]}},e.prototype.blockquote=function(e){var t=this.rules.block.blockquote.exec(e);if(t){var n=t[0].replace(/^ *> ?/gm,"");return{type:"blockquote",raw:t[0],text:n}}},e.prototype.list=function(e){var t=this.rules.block.list.exec(e);if(t){var n,i,r,o,s,a,l,c,u=t[0],h=t[2],d=h.length>1,p={type:"list",raw:u,ordered:d,start:d?+h.slice(0,-1):"",loose:!1,items:[]},f=t[0].match(this.rules.block.item),g=!1,m=f.length;r=this.rules.block.listItemStart.exec(f[0]);for(var v=0;v<m;v++){if(u=n=f[v],v!==m-1){if(o=this.rules.block.listItemStart.exec(f[v+1]),this.options.pedantic?o[1].length>r[1].length:o[1].length>r[0].length||o[1].length>3){f.splice(v,2,f[v]+"\n"+f[v+1]),v--,m--;continue}(!this.options.pedantic||this.options.smartLists?o[2][o[2].length-1]!==h[h.length-1]:d===(1===o[2].length))&&(s=f.slice(v+1).join("\n"),p.raw=p.raw.substring(0,p.raw.length-s.length),v=m-1),r=o}i=n.length,~(n=n.replace(/^ *([*+-]|\d+[.)]) ?/,"")).indexOf("\n ")&&(i-=n.length,n=this.options.pedantic?n.replace(/^ {1,4}/gm,""):n.replace(new RegExp("^ {1,"+i+"}","gm"),"")),a=g||/\n\n(?!\s*$)/.test(n),v!==m-1&&(g="\n"===n.charAt(n.length-1),a||(a=g)),a&&(p.loose=!0),this.options.gfm&&(c=void 0,(l=/^\[[ xX]\] /.test(n))&&(c=" "!==n[1],n=n.replace(/^\[[ xX]\] +/,""))),p.items.push({type:"list_item",raw:u,task:l,checked:c,loose:a,text:n})}return p}},e.prototype.html=function(e){var t=this.rules.block.html.exec(e);if(t)return{type:this.options.sanitize?"paragraph":"html",raw:t[0],pre:!this.options.sanitizer&&("pre"===t[1]||"script"===t[1]||"style"===t[1]),text:this.options.sanitize?this.options.sanitizer?this.options.sanitizer(t[0]):Ke(t[0]):t[0]}},e.prototype.def=function(e){var t=this.rules.block.def.exec(e);if(t)return t[3]&&(t[3]=t[3].substring(1,t[3].length-1)),{tag:t[1].toLowerCase().replace(/\s+/g," "),raw:t[0],href:t[2],title:t[3]}},e.prototype.table=function(e){var t=this.rules.block.table.exec(e);if(t){var n={type:"table",header:Ye(t[1].replace(/^ *| *\| *$/g,"")),align:t[2].replace(/^ *|\| *$/g,"").split(/ *\| */),cells:t[3]?t[3].replace(/\n$/,"").split("\n"):[]};if(n.header.length===n.align.length){n.raw=t[0];var i,r=n.align.length;for(i=0;i<r;i++)/^ *-+: *$/.test(n.align[i])?n.align[i]="right":/^ *:-+: *$/.test(n.align[i])?n.align[i]="center":/^ *:-+ *$/.test(n.align[i])?n.align[i]="left":n.align[i]=null;for(r=n.cells.length,i=0;i<r;i++)n.cells[i]=Ye(n.cells[i].replace(/^ *\| *| *\| *$/g,""),n.header.length);return n}}},e.prototype.lheading=function(e){var t=this.rules.block.lheading.exec(e);if(t)return{type:"heading",raw:t[0],depth:"="===t[2].charAt(0)?1:2,text:t[1]}},e.prototype.paragraph=function(e){var t=this.rules.block.paragraph.exec(e);if(t)return{type:"paragraph",raw:t[0],text:"\n"===t[1].charAt(t[1].length-1)?t[1].slice(0,-1):t[1]}},e.prototype.text=function(e,t){var n=this.rules.block.text.exec(e);if(n){var i=t[t.length-1];return i&&"text"===i.type?{raw:n[0],text:n[0]}:{type:"text",raw:n[0],text:n[0]}}},e.prototype.escape=function(e){var t=this.rules.inline.escape.exec(e);if(t)return{type:"escape",raw:t[0],text:Ke(t[1])}},e.prototype.tag=function(e,t,n){var i=this.rules.inline.tag.exec(e);if(i)return!t&&/^<a /i.test(i[0])?t=!0:t&&/^<\/a>/i.test(i[0])&&(t=!1),!n&&/^<(pre|code|kbd|script)(\s|>)/i.test(i[0])?n=!0:n&&/^<\/(pre|code|kbd|script)(\s|>)/i.test(i[0])&&(n=!1),{type:this.options.sanitize?"text":"html",raw:i[0],inLink:t,inRawBlock:n,text:this.options.sanitize?this.options.sanitizer?this.options.sanitizer(i[0]):Ke(i[0]):i[0]}},e.prototype.link=function(e){var t=this.rules.inline.link.exec(e);if(t){var n=t[2].trim();if(!this.options.pedantic&&/^</.test(n)){if(!/>$/.test(n))return;var i=Ve(n.slice(0,-1),"\\");if((n.length-i.length)%2==0)return}else{var r=Je(t[2],"()");if(r>-1){var o=(0===t[0].indexOf("!")?5:4)+t[1].length+r;t[2]=t[2].substring(0,r),t[0]=t[0].substring(0,o).trim(),t[3]=""}}var s=t[2],a="";if(this.options.pedantic){var l=/^([^'"]*[^\s])\s+(['"])(.*)\2/.exec(s);l&&(s=l[1],a=l[3])}else a=t[3]?t[3].slice(1,-1):"";return s=s.trim(),/^</.test(s)&&(s=this.options.pedantic&&!/>$/.test(n)?s.slice(1):s.slice(1,-1)),Qe(t,{href:s?s.replace(this.rules.inline._escapes,"$1"):s,title:a?a.replace(this.rules.inline._escapes,"$1"):a},t[0])}},e.prototype.reflink=function(e,t){var n;if((n=this.rules.inline.reflink.exec(e))||(n=this.rules.inline.nolink.exec(e))){var i=(n[2]||n[1]).replace(/\s+/g," ");if(!(i=t[i.toLowerCase()])||!i.href){var r=n[0].charAt(0);return{type:"text",raw:r,text:r}}return Qe(n,i,n[0])}},e.prototype.strong=function(e,t,n){void 0===n&&(n="");var i=this.rules.inline.strong.start.exec(e);if(i&&(!i[1]||i[1]&&(""===n||this.rules.inline.punctuation.exec(n)))){t=t.slice(-1*e.length);var r,o="**"===i[0]?this.rules.inline.strong.endAst:this.rules.inline.strong.endUnd;for(o.lastIndex=0;null!=(i=o.exec(t));)if(r=this.rules.inline.strong.middle.exec(t.slice(0,i.index+3)))return{type:"strong",raw:e.slice(0,r[0].length),text:e.slice(2,r[0].length-2)}}},e.prototype.em=function(e,t,n){void 0===n&&(n="");var i=this.rules.inline.em.start.exec(e);if(i&&(!i[1]||i[1]&&(""===n||this.rules.inline.punctuation.exec(n)))){t=t.slice(-1*e.length);var r,o="*"===i[0]?this.rules.inline.em.endAst:this.rules.inline.em.endUnd;for(o.lastIndex=0;null!=(i=o.exec(t));)if(r=this.rules.inline.em.middle.exec(t.slice(0,i.index+2)))return{type:"em",raw:e.slice(0,r[0].length),text:e.slice(1,r[0].length-1)}}},e.prototype.codespan=function(e){var t=this.rules.inline.code.exec(e);if(t){var n=t[2].replace(/\n/g," "),i=/[^ ]/.test(n),r=/^ /.test(n)&&/ $/.test(n);return i&&r&&(n=n.substring(1,n.length-1)),n=Ke(n,!0),{type:"codespan",raw:t[0],text:n}}},e.prototype.br=function(e){var t=this.rules.inline.br.exec(e);if(t)return{type:"br",raw:t[0]}},e.prototype.del=function(e){var t=this.rules.inline.del.exec(e);if(t)return{type:"del",raw:t[0],text:t[2]}},e.prototype.autolink=function(e,t){var n,i,r=this.rules.inline.autolink.exec(e);if(r)return i="@"===r[2]?"mailto:"+(n=Ke(this.options.mangle?t(r[1]):r[1])):n=Ke(r[1]),{type:"link",raw:r[0],text:n,href:i,tokens:[{type:"text",raw:n,text:n}]}},e.prototype.url=function(e,t){var n;if(n=this.rules.inline.url.exec(e)){var i,r;if("@"===n[2])r="mailto:"+(i=Ke(this.options.mangle?t(n[0]):n[0]));else{var o;do{o=n[0],n[0]=this.rules.inline._backpedal.exec(n[0])[0]}while(o!==n[0]);i=Ke(n[0]),r="www."===n[1]?"http://"+i:i}return{type:"link",raw:n[0],text:i,href:r,tokens:[{type:"text",raw:i,text:i}]}}},e.prototype.inlineText=function(e,t,n){var i,r=this.rules.inline.text.exec(e);if(r)return i=t?this.options.sanitize?this.options.sanitizer?this.options.sanitizer(r[0]):Ke(r[0]):r[0]:Ke(this.options.smartypants?n(r[0]):r[0]),{type:"text",raw:r[0],text:i}},e}(),tt=$e,nt=je,it=Be,rt={newline:/^(?: *(?:\n|$))+/,code:/^( {4}[^\n]+(?:\n(?: *(?:\n|$))*)?)+/,fences:/^ {0,3}(`{3,}(?=[^`\n]*\n)|~{3,})([^\n]*)\n(?:|([\s\S]*?)\n)(?: {0,3}\1[~`]* *(?:\n+|$)|$)/,hr:/^ {0,3}((?:- *){3,}|(?:_ *){3,}|(?:\* *){3,})(?:\n+|$)/,heading:/^ {0,3}(#{1,6})(?=\s|$)(.*)(?:\n+|$)/,blockquote:/^( {0,3}> ?(paragraph|[^\n]*)(?:\n|$))+/,list:/^( {0,3})(bull) [\s\S]+?(?:hr|def|\n{2,}(?! )(?! {0,3}bull )\n*|\s*$)/,html:"^ {0,3}(?:<(script|pre|style)[\\s>][\\s\\S]*?(?:</\\1>[^\\n]*\\n+|$)|comment[^\\n]*(\\n+|$)|<\\?[\\s\\S]*?(?:\\?>\\n*|$)|<![A-Z][\\s\\S]*?(?:>\\n*|$)|<!\\[CDATA\\[[\\s\\S]*?(?:\\]\\]>\\n*|$)|</?(tag)(?: +|\\n|/?>)[\\s\\S]*?(?:\\n{2,}|$)|<(?!script|pre|style)([a-z][\\w-]*)(?:attribute)*? */?>(?=[ \\t]*(?:\\n|$))[\\s\\S]*?(?:\\n{2,}|$)|</(?!script|pre|style)[a-z][\\w-]*\\s*>(?=[ \\t]*(?:\\n|$))[\\s\\S]*?(?:\\n{2,}|$))",def:/^ {0,3}\[(label)\]: *\n? *<?([^\s>]+)>?(?:(?: +\n? *| *\n *)(title))? *(?:\n+|$)/,nptable:tt,table:tt,lheading:/^([^\n]+)\n {0,3}(=+|-+) *(?:\n+|$)/,_paragraph:/^([^\n]+(?:\n(?!hr|heading|lheading|blockquote|fences|list|html| +\n)[^\n]+)*)/,text:/^[^\n]+/,_label:/(?!\s*\])(?:\\[\[\]]|[^\[\]])+/,_title:/(?:"(?:\\"?|[^"\\])*"|'[^'\n]*(?:\n[^'\n]+)*\n?'|\([^()]*\))/};rt.def=nt(rt.def).replace("label",rt._label).replace("title",rt._title).getRegex(),rt.bullet=/(?:[*+-]|\d{1,9}[.)])/,rt.item=/^( *)(bull) ?[^\n]*(?:\n(?! *bull ?)[^\n]*)*/,rt.item=nt(rt.item,"gm").replace(/bull/g,rt.bullet).getRegex(),rt.listItemStart=nt(/^( *)(bull)/).replace("bull",rt.bullet).getRegex(),rt.list=nt(rt.list).replace(/bull/g,rt.bullet).replace("hr","\\n+(?=\\1?(?:(?:- *){3,}|(?:_ *){3,}|(?:\\* *){3,})(?:\\n+|$))").replace("def","\\n+(?="+rt.def.source+")").getRegex(),rt._tag="address|article|aside|base|basefont|blockquote|body|caption|center|col|colgroup|dd|details|dialog|dir|div|dl|dt|fieldset|figcaption|figure|footer|form|frame|frameset|h[1-6]|head|header|hr|html|iframe|legend|li|link|main|menu|menuitem|meta|nav|noframes|ol|optgroup|option|p|param|section|source|summary|table|tbody|td|tfoot|th|thead|title|tr|track|ul",rt._comment=/<!--(?!-?>)[\s\S]*?(?:-->|$)/,rt.html=nt(rt.html,"i").replace("comment",rt._comment).replace("tag",rt._tag).replace("attribute",/ +[a-zA-Z:_][\w.:-]*(?: *= *"[^"\n]*"| *= *'[^'\n]*'| *= *[^\s"'=<>`]+)?/).getRegex(),rt.paragraph=nt(rt._paragraph).replace("hr",rt.hr).replace("heading"," {0,3}#{1,6} ").replace("|lheading","").replace("blockquote"," {0,3}>").replace("fences"," {0,3}(?:`{3,}(?=[^`\\n]*\\n)|~{3,})[^\\n]*\\n").replace("list"," {0,3}(?:[*+-]|1[.)]) ").replace("html","</?(?:tag)(?: +|\\n|/?>)|<(?:script|pre|style|!--)").replace("tag",rt._tag).getRegex(),rt.blockquote=nt(rt.blockquote).replace("paragraph",rt.paragraph).getRegex(),rt.normal=it({},rt),rt.gfm=it({},rt.normal,{nptable:"^ *([^|\\n ].*\\|.*)\\n {0,3}([-:]+ *\\|[-| :]*)(?:\\n((?:(?!\\n|hr|heading|blockquote|code|fences|list|html).*(?:\\n|$))*)\\n*|$)",table:"^ *\\|(.+)\\n {0,3}\\|?( *[-:]+[-| :]*)(?:\\n *((?:(?!\\n|hr|heading|blockquote|code|fences|list|html).*(?:\\n|$))*)\\n*|$)"}),rt.gfm.nptable=nt(rt.gfm.nptable).replace("hr",rt.hr).replace("heading"," {0,3}#{1,6} ").replace("blockquote"," {0,3}>").replace("code"," {4}[^\\n]").replace("fences"," {0,3}(?:`{3,}(?=[^`\\n]*\\n)|~{3,})[^\\n]*\\n").replace("list"," {0,3}(?:[*+-]|1[.)]) ").replace("html","</?(?:tag)(?: +|\\n|/?>)|<(?:script|pre|style|!--)").replace("tag",rt._tag).getRegex(),rt.gfm.table=nt(rt.gfm.table).replace("hr",rt.hr).replace("heading"," {0,3}#{1,6} ").replace("blockquote"," {0,3}>").replace("code"," {4}[^\\n]").replace("fences"," {0,3}(?:`{3,}(?=[^`\\n]*\\n)|~{3,})[^\\n]*\\n").replace("list"," {0,3}(?:[*+-]|1[.)]) ").replace("html","</?(?:tag)(?: +|\\n|/?>)|<(?:script|pre|style|!--)").replace("tag",rt._tag).getRegex(),rt.pedantic=it({},rt.normal,{html:nt("^ *(?:comment *(?:\\n|\\s*$)|<(tag)[\\s\\S]+?</\\1> *(?:\\n{2,}|\\s*$)|<tag(?:\"[^\"]*\"|'[^']*'|\\s[^'\"/>\\s]*)*?/?> *(?:\\n{2,}|\\s*$))").replace("comment",rt._comment).replace(/tag/g,"(?!(?:a|em|strong|small|s|cite|q|dfn|abbr|data|time|code|var|samp|kbd|sub|sup|i|b|u|mark|ruby|rt|rp|bdi|bdo|span|br|wbr|ins|del|img)\\b)\\w+(?!:|[^\\w\\s@]*@)\\b").getRegex(),def:/^ *\[([^\]]+)\]: *<?([^\s>]+)>?(?: +(["(][^\n]+[")]))? *(?:\n+|$)/,heading:/^(#{1,6})(.*)(?:\n+|$)/,fences:tt,paragraph:nt(rt.normal._paragraph).replace("hr",rt.hr).replace("heading"," *#{1,6} *[^\n]").replace("lheading",rt.lheading).replace("blockquote"," {0,3}>").replace("|fences","").replace("|list","").replace("|html","").getRegex()});var ot={escape:/^\\([!"#$%&'()*+,\-./:;<=>?@\[\]\\^_`{|}~])/,autolink:/^<(scheme:[^\s\x00-\x1f<>]*|email)>/,url:tt,tag:"^comment|^</[a-zA-Z][\\w:-]*\\s*>|^<[a-zA-Z][\\w-]*(?:attribute)*?\\s*/?>|^<\\?[\\s\\S]*?\\?>|^<![a-zA-Z]+\\s[\\s\\S]*?>|^<!\\[CDATA\\[[\\s\\S]*?\\]\\]>",link:/^!?\[(label)\]\(\s*(href)(?:\s+(title))?\s*\)/,reflink:/^!?\[(label)\]\[(?!\s*\])((?:\\[\[\]]?|[^\[\]\\])+)\]/,nolink:/^!?\[(?!\s*\])((?:\[[^\[\]]*\]|\\[\[\]]|[^\[\]])*)\](?:\[\])?/,reflinkSearch:"reflink|nolink(?!\\()",strong:{start:/^(?:(\*\*(?=[*punctuation]))|\*\*)(?![\s])|__/,middle:/^\*\*(?:(?:(?!overlapSkip)(?:[^*]|\\\*)|overlapSkip)|\*(?:(?!overlapSkip)(?:[^*]|\\\*)|overlapSkip)*?\*)+?\*\*$|^__(?![\s])((?:(?:(?!overlapSkip)(?:[^_]|\\_)|overlapSkip)|_(?:(?!overlapSkip)(?:[^_]|\\_)|overlapSkip)*?_)+?)__$/,endAst:/[^punctuation\s]\*\*(?!\*)|[punctuation]\*\*(?!\*)(?:(?=[punctuation_\s]|$))/,endUnd:/[^\s]__(?!_)(?:(?=[punctuation*\s])|$)/},em:{start:/^(?:(\*(?=[punctuation]))|\*)(?![*\s])|_/,middle:/^\*(?:(?:(?!overlapSkip)(?:[^*]|\\\*)|overlapSkip)|\*(?:(?!overlapSkip)(?:[^*]|\\\*)|overlapSkip)*?\*)+?\*$|^_(?![_\s])(?:(?:(?!overlapSkip)(?:[^_]|\\_)|overlapSkip)|_(?:(?!overlapSkip)(?:[^_]|\\_)|overlapSkip)*?_)+?_$/,endAst:/[^punctuation\s]\*(?!\*)|[punctuation]\*(?!\*)(?:(?=[punctuation_\s]|$))/,endUnd:/[^\s]_(?!_)(?:(?=[punctuation*\s])|$)/},code:/^(`+)([^`]|[^`][\s\S]*?[^`])\1(?!`)/,br:/^( {2,}|\\)\n(?!\s*$)/,del:tt,text:/^(`+|[^`])(?:(?= {2,}\n)|[\s\S]*?(?:(?=[\\<!\[`*]|\b_|$)|[^ ](?= {2,}\n)))/,punctuation:/^([\s*punctuation])/,_punctuation:"!\"#$%&'()+\\-.,/:;<=>?@\\[\\]`^{|}~"};ot.punctuation=nt(ot.punctuation).replace(/punctuation/g,ot._punctuation).getRegex(),ot._blockSkip="\\[[^\\]]*?\\]\\([^\\)]*?\\)|`[^`]*?`|<[^>]*?>",ot._overlapSkip="__[^_]*?__|\\*\\*\\[^\\*\\]*?\\*\\*",ot._comment=nt(rt._comment).replace("(?:--\x3e|$)","--\x3e").getRegex(),ot.em.start=nt(ot.em.start).replace(/punctuation/g,ot._punctuation).getRegex(),ot.em.middle=nt(ot.em.middle).replace(/punctuation/g,ot._punctuation).replace(/overlapSkip/g,ot._overlapSkip).getRegex(),ot.em.endAst=nt(ot.em.endAst,"g").replace(/punctuation/g,ot._punctuation).getRegex(),ot.em.endUnd=nt(ot.em.endUnd,"g").replace(/punctuation/g,ot._punctuation).getRegex(),ot.strong.start=nt(ot.strong.start).replace(/punctuation/g,ot._punctuation).getRegex(),ot.strong.middle=nt(ot.strong.middle).replace(/punctuation/g,ot._punctuation).replace(/overlapSkip/g,ot._overlapSkip).getRegex(),ot.strong.endAst=nt(ot.strong.endAst,"g").replace(/punctuation/g,ot._punctuation).getRegex(),ot.strong.endUnd=nt(ot.strong.endUnd,"g").replace(/punctuation/g,ot._punctuation).getRegex(),ot.blockSkip=nt(ot._blockSkip,"g").getRegex(),ot.overlapSkip=nt(ot._overlapSkip,"g").getRegex(),ot._escapes=/\\([!"#$%&'()*+,\-./:;<=>?@\[\]\\^_`{|}~])/g,ot._scheme=/[a-zA-Z][a-zA-Z0-9+.-]{1,31}/,ot._email=/[a-zA-Z0-9.!#$%&'*+/=?^_`{|}~-]+(@)[a-zA-Z0-9](?:[a-zA-Z0-9-]{0,61}[a-zA-Z0-9])?(?:\.[a-zA-Z0-9](?:[a-zA-Z0-9-]{0,61}[a-zA-Z0-9])?)+(?![-_])/,ot.autolink=nt(ot.autolink).replace("scheme",ot._scheme).replace("email",ot._email).getRegex(),ot._attribute=/\s+[a-zA-Z:_][\w.:-]*(?:\s*=\s*"[^"]*"|\s*=\s*'[^']*'|\s*=\s*[^\s"'=<>`]+)?/,ot.tag=nt(ot.tag).replace("comment",ot._comment).replace("attribute",ot._attribute).getRegex(),ot._label=/(?:\[(?:\\.|[^\[\]\\])*\]|\\.|`[^`]*`|[^\[\]\\`])*?/,ot._href=/<(?:\\.|[^\n<>\\])+>|[^\s\x00-\x1f]*/,ot._title=/"(?:\\"?|[^"\\])*"|'(?:\\'?|[^'\\])*'|\((?:\\\)?|[^)\\])*\)/,ot.link=nt(ot.link).replace("label",ot._label).replace("href",ot._href).replace("title",ot._title).getRegex(),ot.reflink=nt(ot.reflink).replace("label",ot._label).getRegex(),ot.reflinkSearch=nt(ot.reflinkSearch,"g").replace("reflink",ot.reflink).replace("nolink",ot.nolink).getRegex(),ot.normal=it({},ot),ot.pedantic=it({},ot.normal,{strong:{start:/^__|\*\*/,middle:/^__(?=\S)([\s\S]*?\S)__(?!_)|^\*\*(?=\S)([\s\S]*?\S)\*\*(?!\*)/,endAst:/\*\*(?!\*)/g,endUnd:/__(?!_)/g},em:{start:/^_|\*/,middle:/^()\*(?=\S)([\s\S]*?\S)\*(?!\*)|^_(?=\S)([\s\S]*?\S)_(?!_)/,endAst:/\*(?!\*)/g,endUnd:/_(?!_)/g},link:nt(/^!?\[(label)\]\((.*?)\)/).replace("label",ot._label).getRegex(),reflink:nt(/^!?\[(label)\]\s*\[([^\]]*)\]/).replace("label",ot._label).getRegex()}),ot.gfm=it({},ot.normal,{escape:nt(ot.escape).replace("])","~|])").getRegex(),_extended_email:/[A-Za-z0-9._+-]+(@)[a-zA-Z0-9-_]+(?:\.[a-zA-Z0-9-_]*[a-zA-Z0-9])+(?![-_])/,url:/^((?:ftp|https?):\/\/|www\.)(?:[a-zA-Z0-9\-]+\.?)+[^\s<]*|^email/,_backpedal:/(?:[^?!.,:;*_~()&]+|\([^)]*\)|&(?![a-zA-Z0-9]+;$)|[?!.,:;*_~)]+(?!$))+/,del:/^(~~?)(?=[^\s~])([\s\S]*?[^\s~])\1(?=[^~]|$)/,text:/^([`~]+|[^`~])(?:(?= {2,}\n)|[\s\S]*?(?:(?=[\\<!\[`*~]|\b_|https?:\/\/|ftp:\/\/|www\.|$)|[^ ](?= {2,}\n)|[^a-zA-Z0-9.!#$%&'*+\/=?_`{\|}~-](?=[a-zA-Z0-9.!#$%&'*+\/=?_`{\|}~-]+@))|(?=[a-zA-Z0-9.!#$%&'*+\/=?_`{\|}~-]+@))/}),ot.gfm.url=nt(ot.gfm.url,"i").replace("email",ot.gfm._extended_email).getRegex(),ot.breaks=it({},ot.gfm,{br:nt(ot.br).replace("{2,}","*").getRegex(),text:nt(ot.gfm.text).replace("\\b_","\\b_| {2,}\\n").replace(/\{2,\}/g,"*").getRegex()});var st={block:rt,inline:ot},at=ye.defaults,lt=st.block,ct=st.inline,ut=Ue;function ht(e){return e.replace(/---/g,"—").replace(/--/g,"–").replace(/(^|[-\u2014/(\[{"\s])'/g,"$1‘").replace(/'/g,"’").replace(/(^|[-\u2014/(\[{\u2018\s])"/g,"$1“").replace(/"/g,"”").replace(/\.{3}/g,"…")}function dt(e){var t,n,i="",r=e.length;for(t=0;t<r;t++)n=e.charCodeAt(t),Math.random()>.5&&(n="x"+n.toString(16)),i+="&#"+n+";";return i}var pt=function(){function e(e){this.tokens=[],this.tokens.links=Object.create(null),this.options=e||at,this.options.tokenizer=this.options.tokenizer||new et,this.tokenizer=this.options.tokenizer,this.tokenizer.options=this.options;var t={block:lt.normal,inline:ct.normal};this.options.pedantic?(t.block=lt.pedantic,t.inline=ct.pedantic):this.options.gfm&&(t.block=lt.gfm,this.options.breaks?t.inline=ct.breaks:t.inline=ct.gfm),this.tokenizer.rules=t}var t={rules:{configurable:!0}};return t.rules.get=function(){return{block:lt,inline:ct}},e.lex=function(t,n){return new e(n).lex(t)},e.lexInline=function(t,n){return new e(n).inlineTokens(t)},e.prototype.lex=function(e){return e=e.replace(/\r\n|\r/g,"\n").replace(/\t/g,"    "),this.blockTokens(e,this.tokens,!0),this.inline(this.tokens),this.tokens},e.prototype.blockTokens=function(e,t,n){var i,r,o,s;for(void 0===t&&(t=[]),void 0===n&&(n=!0),this.options.pedantic&&(e=e.replace(/^ +$/gm,""));e;)if(i=this.tokenizer.space(e))e=e.substring(i.raw.length),i.type&&t.push(i);else if(i=this.tokenizer.code(e,t))e=e.substring(i.raw.length),i.type?t.push(i):((s=t[t.length-1]).raw+="\n"+i.raw,s.text+="\n"+i.text);else if(i=this.tokenizer.fences(e))e=e.substring(i.raw.length),t.push(i);else if(i=this.tokenizer.heading(e))e=e.substring(i.raw.length),t.push(i);else if(i=this.tokenizer.nptable(e))e=e.substring(i.raw.length),t.push(i);else if(i=this.tokenizer.hr(e))e=e.substring(i.raw.length),t.push(i);else if(i=this.tokenizer.blockquote(e))e=e.substring(i.raw.length),i.tokens=this.blockTokens(i.text,[],n),t.push(i);else if(i=this.tokenizer.list(e)){for(e=e.substring(i.raw.length),o=i.items.length,r=0;r<o;r++)i.items[r].tokens=this.blockTokens(i.items[r].text,[],!1);t.push(i)}else if(i=this.tokenizer.html(e))e=e.substring(i.raw.length),t.push(i);else if(n&&(i=this.tokenizer.def(e)))e=e.substring(i.raw.length),this.tokens.links[i.tag]||(this.tokens.links[i.tag]={href:i.href,title:i.title});else if(i=this.tokenizer.table(e))e=e.substring(i.raw.length),t.push(i);else if(i=this.tokenizer.lheading(e))e=e.substring(i.raw.length),t.push(i);else if(n&&(i=this.tokenizer.paragraph(e)))e=e.substring(i.raw.length),t.push(i);else if(i=this.tokenizer.text(e,t))e=e.substring(i.raw.length),i.type?t.push(i):((s=t[t.length-1]).raw+="\n"+i.raw,s.text+="\n"+i.text);else if(e){var a="Infinite loop on byte: "+e.charCodeAt(0);if(this.options.silent)break;throw new Error(a)}return t},e.prototype.inline=function(e){var t,n,i,r,o,s,a=e.length;for(t=0;t<a;t++)switch((s=e[t]).type){case"paragraph":case"text":case"heading":s.tokens=[],this.inlineTokens(s.text,s.tokens);break;case"table":for(s.tokens={header:[],cells:[]},r=s.header.length,n=0;n<r;n++)s.tokens.header[n]=[],this.inlineTokens(s.header[n],s.tokens.header[n]);for(r=s.cells.length,n=0;n<r;n++)for(o=s.cells[n],s.tokens.cells[n]=[],i=0;i<o.length;i++)s.tokens.cells[n][i]=[],this.inlineTokens(o[i],s.tokens.cells[n][i]);break;case"blockquote":this.inline(s.tokens);break;case"list":for(r=s.items.length,n=0;n<r;n++)this.inline(s.items[n].tokens)}return e},e.prototype.inlineTokens=function(e,t,n,i){var r;void 0===t&&(t=[]),void 0===n&&(n=!1),void 0===i&&(i=!1);var o,s,a,l=e;if(this.tokens.links){var c=Object.keys(this.tokens.links);if(c.length>0)for(;null!=(o=this.tokenizer.rules.inline.reflinkSearch.exec(l));)c.includes(o[0].slice(o[0].lastIndexOf("[")+1,-1))&&(l=l.slice(0,o.index)+"["+ut("a",o[0].length-2)+"]"+l.slice(this.tokenizer.rules.inline.reflinkSearch.lastIndex))}for(;null!=(o=this.tokenizer.rules.inline.blockSkip.exec(l));)l=l.slice(0,o.index)+"["+ut("a",o[0].length-2)+"]"+l.slice(this.tokenizer.rules.inline.blockSkip.lastIndex);for(;e;)if(s||(a=""),s=!1,r=this.tokenizer.escape(e))e=e.substring(r.raw.length),t.push(r);else if(r=this.tokenizer.tag(e,n,i))e=e.substring(r.raw.length),n=r.inLink,i=r.inRawBlock,t.push(r);else if(r=this.tokenizer.link(e))e=e.substring(r.raw.length),"link"===r.type&&(r.tokens=this.inlineTokens(r.text,[],!0,i)),t.push(r);else if(r=this.tokenizer.reflink(e,this.tokens.links))e=e.substring(r.raw.length),"link"===r.type&&(r.tokens=this.inlineTokens(r.text,[],!0,i)),t.push(r);else if(r=this.tokenizer.strong(e,l,a))e=e.substring(r.raw.length),r.tokens=this.inlineTokens(r.text,[],n,i),t.push(r);else if(r=this.tokenizer.em(e,l,a))e=e.substring(r.raw.length),r.tokens=this.inlineTokens(r.text,[],n,i),t.push(r);else if(r=this.tokenizer.codespan(e))e=e.substring(r.raw.length),t.push(r);else if(r=this.tokenizer.br(e))e=e.substring(r.raw.length),t.push(r);else if(r=this.tokenizer.del(e))e=e.substring(r.raw.length),r.tokens=this.inlineTokens(r.text,[],n,i),t.push(r);else if(r=this.tokenizer.autolink(e,dt))e=e.substring(r.raw.length),t.push(r);else if(n||!(r=this.tokenizer.url(e,dt))){if(r=this.tokenizer.inlineText(e,i,ht))e=e.substring(r.raw.length),a=r.raw.slice(-1),s=!0,t.push(r);else if(e){var u="Infinite loop on byte: "+e.charCodeAt(0);if(this.options.silent)break;throw new Error(u)}}else e=e.substring(r.raw.length),t.push(r);return t},Object.defineProperties(e,t),e}(),ft=ye.defaults,gt=Ne,mt=Oe,vt=function(){function e(e){this.options=e||ft}return e.prototype.code=function(e,t,n){var i=(t||"").match(/\S*/)[0];if(this.options.highlight){var r=this.options.highlight(e,i);null!=r&&r!==e&&(n=!0,e=r)}return e=e.replace(/\n$/,"")+"\n",i?'<pre><code class="'+this.options.langPrefix+mt(i,!0)+'">'+(n?e:mt(e,!0))+"</code></pre>\n":"<pre><code>"+(n?e:mt(e,!0))+"</code></pre>\n"},e.prototype.blockquote=function(e){return"<blockquote>\n"+e+"</blockquote>\n"},e.prototype.html=function(e){return e},e.prototype.heading=function(e,t,n,i){return this.options.headerIds?"<h"+t+' id="'+this.options.headerPrefix+i.slug(n)+'">'+e+"</h"+t+">\n":"<h"+t+">"+e+"</h"+t+">\n"},e.prototype.hr=function(){return this.options.xhtml?"<hr/>\n":"<hr>\n"},e.prototype.list=function(e,t,n){var i=t?"ol":"ul";return"<"+i+(t&&1!==n?' start="'+n+'"':"")+">\n"+e+"</"+i+">\n"},e.prototype.listitem=function(e){return"<li>"+e+"</li>\n"},e.prototype.checkbox=function(e){return"<input "+(e?'checked="" ':"")+'disabled="" type="checkbox"'+(this.options.xhtml?" /":"")+"> "},e.prototype.paragraph=function(e){return"<p>"+e+"</p>\n"},e.prototype.table=function(e,t){return t&&(t="<tbody>"+t+"</tbody>"),"<table>\n<thead>\n"+e+"</thead>\n"+t+"</table>\n"},e.prototype.tablerow=function(e){return"<tr>\n"+e+"</tr>\n"},e.prototype.tablecell=function(e,t){var n=t.header?"th":"td";return(t.align?"<"+n+' align="'+t.align+'">':"<"+n+">")+e+"</"+n+">\n"},e.prototype.strong=function(e){return"<strong>"+e+"</strong>"},e.prototype.em=function(e){return"<em>"+e+"</em>"},e.prototype.codespan=function(e){return"<code>"+e+"</code>"},e.prototype.br=function(){return this.options.xhtml?"<br/>":"<br>"},e.prototype.del=function(e){return"<del>"+e+"</del>"},e.prototype.link=function(e,t,n){if(null===(e=gt(this.options.sanitize,this.options.baseUrl,e)))return n;var i='<a href="'+mt(e)+'"';return t&&(i+=' title="'+t+'"'),i+=">"+n+"</a>"},e.prototype.image=function(e,t,n){if(null===(e=gt(this.options.sanitize,this.options.baseUrl,e)))return n;var i='<img src="'+e+'" alt="'+n+'"';return t&&(i+=' title="'+t+'"'),i+=this.options.xhtml?"/>":">"},e.prototype.text=function(e){return e},e}(),_t=function(){function e(){}return e.prototype.strong=function(e){return e},e.prototype.em=function(e){return e},e.prototype.codespan=function(e){return e},e.prototype.del=function(e){return e},e.prototype.html=function(e){return e},e.prototype.text=function(e){return e},e.prototype.link=function(e,t,n){return""+n},e.prototype.image=function(e,t,n){return""+n},e.prototype.br=function(){return""},e}(),yt=function(){function e(){this.seen={}}return e.prototype.serialize=function(e){return e.toLowerCase().trim().replace(/<[!\/a-z].*?>/gi,"").replace(/[\u2000-\u206F\u2E00-\u2E7F\\'!"#$%&()*+,./:;<=>?@[\]^`{|}~]/g,"").replace(/\s/g,"-")},e.prototype.getNextSafeSlug=function(e,t){var n=e,i=0;if(this.seen.hasOwnProperty(n)){i=this.seen[e];do{n=e+"-"+ ++i}while(this.seen.hasOwnProperty(n))}return t||(this.seen[e]=i,this.seen[n]=0),n},e.prototype.slug=function(e,t){void 0===t&&(t={});var n=this.serialize(e);return this.getNextSafeSlug(n,t.dryrun)},e}(),xt=ye.defaults,bt=De,wt=function(){function e(e){this.options=e||xt,this.options.renderer=this.options.renderer||new vt,this.renderer=this.options.renderer,this.renderer.options=this.options,this.textRenderer=new _t,this.slugger=new yt}return e.parse=function(t,n){return new e(n).parse(t)},e.parseInline=function(t,n){return new e(n).parseInline(t)},e.prototype.parse=function(e,t){void 0===t&&(t=!0);var n,i,r,o,s,a,l,c,u,h,d,p,f,g,m,v,_,y,x="",b=e.length;for(n=0;n<b;n++)switch((h=e[n]).type){case"space":continue;case"hr":x+=this.renderer.hr();continue;case"heading":x+=this.renderer.heading(this.parseInline(h.tokens),h.depth,bt(this.parseInline(h.tokens,this.textRenderer)),this.slugger);continue;case"code":x+=this.renderer.code(h.text,h.lang,h.escaped);continue;case"table":for(c="",l="",o=h.header.length,i=0;i<o;i++)l+=this.renderer.tablecell(this.parseInline(h.tokens.header[i]),{header:!0,align:h.align[i]});for(c+=this.renderer.tablerow(l),u="",o=h.cells.length,i=0;i<o;i++){for(l="",s=(a=h.tokens.cells[i]).length,r=0;r<s;r++)l+=this.renderer.tablecell(this.parseInline(a[r]),{header:!1,align:h.align[r]});u+=this.renderer.tablerow(l)}x+=this.renderer.table(c,u);continue;case"blockquote":u=this.parse(h.tokens),x+=this.renderer.blockquote(u);continue;case"list":for(d=h.ordered,p=h.start,f=h.loose,o=h.items.length,u="",i=0;i<o;i++)v=(m=h.items[i]).checked,_=m.task,g="",m.task&&(y=this.renderer.checkbox(v),f?m.tokens.length>0&&"text"===m.tokens[0].type?(m.tokens[0].text=y+" "+m.tokens[0].text,m.tokens[0].tokens&&m.tokens[0].tokens.length>0&&"text"===m.tokens[0].tokens[0].type&&(m.tokens[0].tokens[0].text=y+" "+m.tokens[0].tokens[0].text)):m.tokens.unshift({type:"text",text:y}):g+=y),g+=this.parse(m.tokens,f),u+=this.renderer.listitem(g,_,v);x+=this.renderer.list(u,d,p);continue;case"html":x+=this.renderer.html(h.text);continue;case"paragraph":x+=this.renderer.paragraph(this.parseInline(h.tokens));continue;case"text":for(u=h.tokens?this.parseInline(h.tokens):h.text;n+1<b&&"text"===e[n+1].type;)u+="\n"+((h=e[++n]).tokens?this.parseInline(h.tokens):h.text);x+=t?this.renderer.paragraph(u):u;continue;default:var w='Token with "'+h.type+'" type was not found.';if(this.options.silent)return;throw new Error(w)}return x},e.prototype.parseInline=function(e,t){t=t||this.renderer;var n,i,r="",o=e.length;for(n=0;n<o;n++)switch((i=e[n]).type){case"escape":case"text":r+=t.text(i.text);break;case"html":r+=t.html(i.text);break;case"link":r+=t.link(i.href,i.title,this.parseInline(i.tokens,t));break;case"image":r+=t.image(i.href,i.title,i.text);break;case"strong":r+=t.strong(this.parseInline(i.tokens,t));break;case"em":r+=t.em(this.parseInline(i.tokens,t));break;case"codespan":r+=t.codespan(i.text);break;case"br":r+=t.br();break;case"del":r+=t.del(this.parseInline(i.tokens,t));break;default:var s='Token with "'+i.type+'" type was not found.';if(this.options.silent)return;throw new Error(s)}return r},e}(),kt=Be,St=Xe,Ct=Oe,Et=ye.getDefaults,Tt=ye.changeDefaults,Rt=ye.defaults;function Mt(e,t,n){if(null==e)throw new Error("marked(): input parameter is undefined or null");if("string"!=typeof e)throw new Error("marked(): input parameter is of type "+Object.prototype.toString.call(e)+", string expected");if("function"==typeof t&&(n=t,t=null),t=kt({},Mt.defaults,t||{}),St(t),n){var i,r=t.highlight;try{i=pt.lex(e,t)}catch(Ze){return n(Ze)}var o=function(e){var o;if(!e)try{o=wt.parse(i,t)}catch(Ze){e=Ze}return t.highlight=r,e?n(e):n(null,o)};if(!r||r.length<3)return o();if(delete t.highlight,!i.length)return o();var s=0;return Mt.walkTokens(i,function(e){"code"===e.type&&(s++,setTimeout(function(){r(e.text,e.lang,function(t,n){if(t)return o(t);null!=n&&n!==e.text&&(e.text=n,e.escaped=!0),0===--s&&o()})},0))}),void(0===s&&o())}try{var a=pt.lex(e,t);return t.walkTokens&&Mt.walkTokens(a,t.walkTokens),wt.parse(a,t)}catch(Ze){if(Ze.message+="\nPlease report this to https://github.com/markedjs/marked.",t.silent)return"<p>An error occurred:</p><pre>"+Ct(Ze.message+"",!0)+"</pre>";throw Ze}}Mt.options=Mt.setOptions=function(e){return kt(Mt.defaults,e),Tt(Mt.defaults),Mt},Mt.getDefaults=Et,Mt.defaults=Rt,Mt.use=function(e){var t=kt({},e);if(e.renderer){var n=Mt.defaults.renderer||new vt,i=function(t){var i=n[t];n[t]=function(){for(var r=[],o=arguments.length;o--;)r[o]=arguments[o];var s=e.renderer[t].apply(n,r);return!1===s&&(s=i.apply(n,r)),s}};for(var r in e.renderer)i(r);t.renderer=n}if(e.tokenizer){var o=Mt.defaults.tokenizer||new et,s=function(t){var n=o[a];o[a]=function(){for(var t=[],i=arguments.length;i--;)t[i]=arguments[i];var r=e.tokenizer[a].apply(o,t);return!1===r&&(r=n.apply(o,t)),r}};for(var a in e.tokenizer)s();t.tokenizer=o}if(e.walkTokens){var l=Mt.defaults.walkTokens;t.walkTokens=function(t){e.walkTokens(t),l&&l(t)}}Mt.setOptions(t)},Mt.walkTokens=function(e,t){for(var n=0,i=e;n<i.length;n+=1){var r=i[n];switch(t(r),r.type){case"table":for(var o=0,s=r.tokens.header;o<s.length;o+=1){var a=s[o];Mt.walkTokens(a,t)}for(var l=0,c=r.tokens.cells;l<c.length;l+=1)for(var u=0,h=c[l];u<h.length;u+=1){var d=h[u];Mt.walkTokens(d,t)}break;case"list":Mt.walkTokens(r.items,t);break;default:r.tokens&&Mt.walkTokens(r.tokens,t)}}},Mt.parseInline=function(e,t){if(null==e)throw new Error("marked.parseInline(): input parameter is undefined or null");if("string"!=typeof e)throw new Error("marked.parseInline(): input parameter is of type "+Object.prototype.toString.call(e)+", string expected");t=kt({},Mt.defaults,t||{}),St(t);try{var n=pt.lexInline(e,t);return t.walkTokens&&Mt.walkTokens(n,t.walkTokens),wt.parseInline(n,t)}catch(Ze){if(Ze.message+="\nPlease report this to https://github.com/markedjs/marked.",t.silent)return"<p>An error occurred:</p><pre>"+Ct(Ze.message+"",!0)+"</pre>";throw Ze}},Mt.Parser=wt,Mt.parser=wt.parse,Mt.Renderer=vt,Mt.TextRenderer=_t,Mt.Lexer=pt,Mt.lexer=pt.lex,Mt.Tokenizer=et,Mt.Slugger=yt,Mt.parse=Mt;var It=Mt;function At(e,t){if(void 0===t&&(t='<ul class="app-sub-sidebar">{inner}</ul>'),!e||!e.length)return"";var n="";return e.forEach(function(e){var i=e.title.replace(/(<([^>]+)>)/g,"");n+='<li><a class="section-link" href="'+e.slug+'" title="'+i+'">'+e.title+"</a></li>",e.children&&(n+=At(e.children,t))}),t.replace("{inner}",n)}function Pt(e,t){return'<p class="'+e+'">'+t.slice(5).trim()+"</p>"}function Ft(e,t){var n=[],i={};return e.forEach(function(e){var r=e.level||1,o=r-1;r>t||(i[o]?i[o].children=(i[o].children||[]).concat(e):n.push(e),i[r]=e)}),n}var Lt={},zt=/[\u2000-\u206F\u2E00-\u2E7F\\'!"#$%&()*+,./:;<=>?@[\]^`{|}~]/g;function Ot(e){return e.toLowerCase()}function Dt(e){if("string"!=typeof e)return"";var t=e.trim().replace(/[A-Z]+/g,Ot).replace(/<[^>]+>/g,"").replace(zt,"").replace(/\s/g,"-").replace(/-+/g,"-").replace(/^(\d)/,"_$1"),i=Lt[t];return i=n.call(Lt,t)?i+1:0,Lt[t]=i,i&&(t=t+"-"+i),t}Dt.clear=function(){Lt={}};var jt={baseURL:"https://github.githubassets.com/images/icons/emoji/",data:{100:"unicode/1f4af.png?v8",1234:"unicode/1f522.png?v8","+1":"unicode/1f44d.png?v8","-1":"unicode/1f44e.png?v8","1st_place_medal":"unicode/1f947.png?v8","2nd_place_medal":"unicode/1f948.png?v8","3rd_place_medal":"unicode/1f949.png?v8","8ball":"unicode/1f3b1.png?v8",a:"unicode/1f170.png?v8",ab:"unicode/1f18e.png?v8",abacus:"unicode/1f9ee.png?v8",abc:"unicode/1f524.png?v8",abcd:"unicode/1f521.png?v8",accept:"unicode/1f251.png?v8",accessibility:"accessibility.png?v8",accordion:"unicode/1fa97.png?v8",adhesive_bandage:"unicode/1fa79.png?v8",adult:"unicode/1f9d1.png?v8",aerial_tramway:"unicode/1f6a1.png?v8",afghanistan:"unicode/1f1e6-1f1eb.png?v8",airplane:"unicode/2708.png?v8",aland_islands:"unicode/1f1e6-1f1fd.png?v8",alarm_clock:"unicode/23f0.png?v8",albania:"unicode/1f1e6-1f1f1.png?v8",alembic:"unicode/2697.png?v8",algeria:"unicode/1f1e9-1f1ff.png?v8",alien:"unicode/1f47d.png?v8",ambulance:"unicode/1f691.png?v8",american_samoa:"unicode/1f1e6-1f1f8.png?v8",amphora:"unicode/1f3fa.png?v8",anatomical_heart:"unicode/1fac0.png?v8",anchor:"unicode/2693.png?v8",andorra:"unicode/1f1e6-1f1e9.png?v8",angel:"unicode/1f47c.png?v8",anger:"unicode/1f4a2.png?v8",angola:"unicode/1f1e6-1f1f4.png?v8",angry:"unicode/1f620.png?v8",anguilla:"unicode/1f1e6-1f1ee.png?v8",anguished:"unicode/1f627.png?v8",ant:"unicode/1f41c.png?v8",antarctica:"unicode/1f1e6-1f1f6.png?v8",antigua_barbuda:"unicode/1f1e6-1f1ec.png?v8",apple:"unicode/1f34e.png?v8",aquarius:"unicode/2652.png?v8",argentina:"unicode/1f1e6-1f1f7.png?v8",aries:"unicode/2648.png?v8",armenia:"unicode/1f1e6-1f1f2.png?v8",arrow_backward:"unicode/25c0.png?v8",arrow_double_down:"unicode/23ec.png?v8",arrow_double_up:"unicode/23eb.png?v8",arrow_down:"unicode/2b07.png?v8",arrow_down_small:"unicode/1f53d.png?v8",arrow_forward:"unicode/25b6.png?v8",arrow_heading_down:"unicode/2935.png?v8",arrow_heading_up:"unicode/2934.png?v8",arrow_left:"unicode/2b05.png?v8",arrow_lower_left:"unicode/2199.png?v8",arrow_lower_right:"unicode/2198.png?v8",arrow_right:"unicode/27a1.png?v8",arrow_right_hook:"unicode/21aa.png?v8",arrow_up:"unicode/2b06.png?v8",arrow_up_down:"unicode/2195.png?v8",arrow_up_small:"unicode/1f53c.png?v8",arrow_upper_left:"unicode/2196.png?v8",arrow_upper_right:"unicode/2197.png?v8",arrows_clockwise:"unicode/1f503.png?v8",arrows_counterclockwise:"unicode/1f504.png?v8",art:"unicode/1f3a8.png?v8",articulated_lorry:"unicode/1f69b.png?v8",artificial_satellite:"unicode/1f6f0.png?v8",artist:"unicode/1f9d1-1f3a8.png?v8",aruba:"unicode/1f1e6-1f1fc.png?v8",ascension_island:"unicode/1f1e6-1f1e8.png?v8",asterisk:"unicode/002a-20e3.png?v8",astonished:"unicode/1f632.png?v8",astronaut:"unicode/1f9d1-1f680.png?v8",athletic_shoe:"unicode/1f45f.png?v8",atm:"unicode/1f3e7.png?v8",atom:"atom.png?v8",atom_symbol:"unicode/269b.png?v8",australia:"unicode/1f1e6-1f1fa.png?v8",austria:"unicode/1f1e6-1f1f9.png?v8",auto_rickshaw:"unicode/1f6fa.png?v8",avocado:"unicode/1f951.png?v8",axe:"unicode/1fa93.png?v8",azerbaijan:"unicode/1f1e6-1f1ff.png?v8",b:"unicode/1f171.png?v8",baby:"unicode/1f476.png?v8",baby_bottle:"unicode/1f37c.png?v8",baby_chick:"unicode/1f424.png?v8",baby_symbol:"unicode/1f6bc.png?v8",back:"unicode/1f519.png?v8",bacon:"unicode/1f953.png?v8",badger:"unicode/1f9a1.png?v8",badminton:"unicode/1f3f8.png?v8",bagel:"unicode/1f96f.png?v8",baggage_claim:"unicode/1f6c4.png?v8",baguette_bread:"unicode/1f956.png?v8",bahamas:"unicode/1f1e7-1f1f8.png?v8",bahrain:"unicode/1f1e7-1f1ed.png?v8",balance_scale:"unicode/2696.png?v8",bald_man:"unicode/1f468-1f9b2.png?v8",bald_woman:"unicode/1f469-1f9b2.png?v8",ballet_shoes:"unicode/1fa70.png?v8",balloon:"unicode/1f388.png?v8",ballot_box:"unicode/1f5f3.png?v8",ballot_box_with_check:"unicode/2611.png?v8",bamboo:"unicode/1f38d.png?v8",banana:"unicode/1f34c.png?v8",bangbang:"unicode/203c.png?v8",bangladesh:"unicode/1f1e7-1f1e9.png?v8",banjo:"unicode/1fa95.png?v8",bank:"unicode/1f3e6.png?v8",bar_chart:"unicode/1f4ca.png?v8",barbados:"unicode/1f1e7-1f1e7.png?v8",barber:"unicode/1f488.png?v8",baseball:"unicode/26be.png?v8",basecamp:"basecamp.png?v8",basecampy:"basecampy.png?v8",basket:"unicode/1f9fa.png?v8",basketball:"unicode/1f3c0.png?v8",basketball_man:"unicode/26f9-2642.png?v8",basketball_woman:"unicode/26f9-2640.png?v8",bat:"unicode/1f987.png?v8",bath:"unicode/1f6c0.png?v8",bathtub:"unicode/1f6c1.png?v8",battery:"unicode/1f50b.png?v8",beach_umbrella:"unicode/1f3d6.png?v8",bear:"unicode/1f43b.png?v8",bearded_person:"unicode/1f9d4.png?v8",beaver:"unicode/1f9ab.png?v8",bed:"unicode/1f6cf.png?v8",bee:"unicode/1f41d.png?v8",beer:"unicode/1f37a.png?v8",beers:"unicode/1f37b.png?v8",beetle:"unicode/1fab2.png?v8",beginner:"unicode/1f530.png?v8",belarus:"unicode/1f1e7-1f1fe.png?v8",belgium:"unicode/1f1e7-1f1ea.png?v8",belize:"unicode/1f1e7-1f1ff.png?v8",bell:"unicode/1f514.png?v8",bell_pepper:"unicode/1fad1.png?v8",bellhop_bell:"unicode/1f6ce.png?v8",benin:"unicode/1f1e7-1f1ef.png?v8",bento:"unicode/1f371.png?v8",bermuda:"unicode/1f1e7-1f1f2.png?v8",beverage_box:"unicode/1f9c3.png?v8",bhutan:"unicode/1f1e7-1f1f9.png?v8",bicyclist:"unicode/1f6b4.png?v8",bike:"unicode/1f6b2.png?v8",biking_man:"unicode/1f6b4-2642.png?v8",biking_woman:"unicode/1f6b4-2640.png?v8",bikini:"unicode/1f459.png?v8",billed_cap:"unicode/1f9e2.png?v8",biohazard:"unicode/2623.png?v8",bird:"unicode/1f426.png?v8",birthday:"unicode/1f382.png?v8",bison:"unicode/1f9ac.png?v8",black_cat:"unicode/1f408-2b1b.png?v8",black_circle:"unicode/26ab.png?v8",black_flag:"unicode/1f3f4.png?v8",black_heart:"unicode/1f5a4.png?v8",black_joker:"unicode/1f0cf.png?v8",black_large_square:"unicode/2b1b.png?v8",black_medium_small_square:"unicode/25fe.png?v8",black_medium_square:"unicode/25fc.png?v8",black_nib:"unicode/2712.png?v8",black_small_square:"unicode/25aa.png?v8",black_square_button:"unicode/1f532.png?v8",blond_haired_man:"unicode/1f471-2642.png?v8",blond_haired_person:"unicode/1f471.png?v8",blond_haired_woman:"unicode/1f471-2640.png?v8",blonde_woman:"unicode/1f471-2640.png?v8",blossom:"unicode/1f33c.png?v8",blowfish:"unicode/1f421.png?v8",blue_book:"unicode/1f4d8.png?v8",blue_car:"unicode/1f699.png?v8",blue_heart:"unicode/1f499.png?v8",blue_square:"unicode/1f7e6.png?v8",blueberries:"unicode/1fad0.png?v8",blush:"unicode/1f60a.png?v8",boar:"unicode/1f417.png?v8",boat:"unicode/26f5.png?v8",bolivia:"unicode/1f1e7-1f1f4.png?v8",bomb:"unicode/1f4a3.png?v8",bone:"unicode/1f9b4.png?v8",book:"unicode/1f4d6.png?v8",bookmark:"unicode/1f516.png?v8",bookmark_tabs:"unicode/1f4d1.png?v8",books:"unicode/1f4da.png?v8",boom:"unicode/1f4a5.png?v8",boomerang:"unicode/1fa83.png?v8",boot:"unicode/1f462.png?v8",bosnia_herzegovina:"unicode/1f1e7-1f1e6.png?v8",botswana:"unicode/1f1e7-1f1fc.png?v8",bouncing_ball_man:"unicode/26f9-2642.png?v8",bouncing_ball_person:"unicode/26f9.png?v8",bouncing_ball_woman:"unicode/26f9-2640.png?v8",bouquet:"unicode/1f490.png?v8",bouvet_island:"unicode/1f1e7-1f1fb.png?v8",bow:"unicode/1f647.png?v8",bow_and_arrow:"unicode/1f3f9.png?v8",bowing_man:"unicode/1f647-2642.png?v8",bowing_woman:"unicode/1f647-2640.png?v8",bowl_with_spoon:"unicode/1f963.png?v8",bowling:"unicode/1f3b3.png?v8",bowtie:"bowtie.png?v8",boxing_glove:"unicode/1f94a.png?v8",boy:"unicode/1f466.png?v8",brain:"unicode/1f9e0.png?v8",brazil:"unicode/1f1e7-1f1f7.png?v8",bread:"unicode/1f35e.png?v8",breast_feeding:"unicode/1f931.png?v8",bricks:"unicode/1f9f1.png?v8",bride_with_veil:"unicode/1f470-2640.png?v8",bridge_at_night:"unicode/1f309.png?v8",briefcase:"unicode/1f4bc.png?v8",british_indian_ocean_territory:"unicode/1f1ee-1f1f4.png?v8",british_virgin_islands:"unicode/1f1fb-1f1ec.png?v8",broccoli:"unicode/1f966.png?v8",broken_heart:"unicode/1f494.png?v8",broom:"unicode/1f9f9.png?v8",brown_circle:"unicode/1f7e4.png?v8",brown_heart:"unicode/1f90e.png?v8",brown_square:"unicode/1f7eb.png?v8",brunei:"unicode/1f1e7-1f1f3.png?v8",bubble_tea:"unicode/1f9cb.png?v8",bucket:"unicode/1faa3.png?v8",bug:"unicode/1f41b.png?v8",building_construction:"unicode/1f3d7.png?v8",bulb:"unicode/1f4a1.png?v8",bulgaria:"unicode/1f1e7-1f1ec.png?v8",bullettrain_front:"unicode/1f685.png?v8",bullettrain_side:"unicode/1f684.png?v8",burkina_faso:"unicode/1f1e7-1f1eb.png?v8",burrito:"unicode/1f32f.png?v8",burundi:"unicode/1f1e7-1f1ee.png?v8",bus:"unicode/1f68c.png?v8",business_suit_levitating:"unicode/1f574.png?v8",busstop:"unicode/1f68f.png?v8",bust_in_silhouette:"unicode/1f464.png?v8",busts_in_silhouette:"unicode/1f465.png?v8",butter:"unicode/1f9c8.png?v8",butterfly:"unicode/1f98b.png?v8",cactus:"unicode/1f335.png?v8",cake:"unicode/1f370.png?v8",calendar:"unicode/1f4c6.png?v8",call_me_hand:"unicode/1f919.png?v8",calling:"unicode/1f4f2.png?v8",cambodia:"unicode/1f1f0-1f1ed.png?v8",camel:"unicode/1f42b.png?v8",camera:"unicode/1f4f7.png?v8",camera_flash:"unicode/1f4f8.png?v8",cameroon:"unicode/1f1e8-1f1f2.png?v8",camping:"unicode/1f3d5.png?v8",canada:"unicode/1f1e8-1f1e6.png?v8",canary_islands:"unicode/1f1ee-1f1e8.png?v8",cancer:"unicode/264b.png?v8",candle:"unicode/1f56f.png?v8",candy:"unicode/1f36c.png?v8",canned_food:"unicode/1f96b.png?v8",canoe:"unicode/1f6f6.png?v8",cape_verde:"unicode/1f1e8-1f1fb.png?v8",capital_abcd:"unicode/1f520.png?v8",capricorn:"unicode/2651.png?v8",car:"unicode/1f697.png?v8",card_file_box:"unicode/1f5c3.png?v8",card_index:"unicode/1f4c7.png?v8",card_index_dividers:"unicode/1f5c2.png?v8",caribbean_netherlands:"unicode/1f1e7-1f1f6.png?v8",carousel_horse:"unicode/1f3a0.png?v8",carpentry_saw:"unicode/1fa9a.png?v8",carrot:"unicode/1f955.png?v8",cartwheeling:"unicode/1f938.png?v8",cat:"unicode/1f431.png?v8",cat2:"unicode/1f408.png?v8",cayman_islands:"unicode/1f1f0-1f1fe.png?v8",cd:"unicode/1f4bf.png?v8",central_african_republic:"unicode/1f1e8-1f1eb.png?v8",ceuta_melilla:"unicode/1f1ea-1f1e6.png?v8",chad:"unicode/1f1f9-1f1e9.png?v8",chains:"unicode/26d3.png?v8",chair:"unicode/1fa91.png?v8",champagne:"unicode/1f37e.png?v8",chart:"unicode/1f4b9.png?v8",chart_with_downwards_trend:"unicode/1f4c9.png?v8",chart_with_upwards_trend:"unicode/1f4c8.png?v8",checkered_flag:"unicode/1f3c1.png?v8",cheese:"unicode/1f9c0.png?v8",cherries:"unicode/1f352.png?v8",cherry_blossom:"unicode/1f338.png?v8",chess_pawn:"unicode/265f.png?v8",chestnut:"unicode/1f330.png?v8",chicken:"unicode/1f414.png?v8",child:"unicode/1f9d2.png?v8",children_crossing:"unicode/1f6b8.png?v8",chile:"unicode/1f1e8-1f1f1.png?v8",chipmunk:"unicode/1f43f.png?v8",chocolate_bar:"unicode/1f36b.png?v8",chopsticks:"unicode/1f962.png?v8",christmas_island:"unicode/1f1e8-1f1fd.png?v8",christmas_tree:"unicode/1f384.png?v8",church:"unicode/26ea.png?v8",cinema:"unicode/1f3a6.png?v8",circus_tent:"unicode/1f3aa.png?v8",city_sunrise:"unicode/1f307.png?v8",city_sunset:"unicode/1f306.png?v8",cityscape:"unicode/1f3d9.png?v8",cl:"unicode/1f191.png?v8",clamp:"unicode/1f5dc.png?v8",clap:"unicode/1f44f.png?v8",clapper:"unicode/1f3ac.png?v8",classical_building:"unicode/1f3db.png?v8",climbing:"unicode/1f9d7.png?v8",climbing_man:"unicode/1f9d7-2642.png?v8",climbing_woman:"unicode/1f9d7-2640.png?v8",clinking_glasses:"unicode/1f942.png?v8",clipboard:"unicode/1f4cb.png?v8",clipperton_island:"unicode/1f1e8-1f1f5.png?v8",clock1:"unicode/1f550.png?v8",clock10:"unicode/1f559.png?v8",clock1030:"unicode/1f565.png?v8",clock11:"unicode/1f55a.png?v8",clock1130:"unicode/1f566.png?v8",clock12:"unicode/1f55b.png?v8",clock1230:"unicode/1f567.png?v8",clock130:"unicode/1f55c.png?v8",clock2:"unicode/1f551.png?v8",clock230:"unicode/1f55d.png?v8",clock3:"unicode/1f552.png?v8",clock330:"unicode/1f55e.png?v8",clock4:"unicode/1f553.png?v8",clock430:"unicode/1f55f.png?v8",clock5:"unicode/1f554.png?v8",clock530:"unicode/1f560.png?v8",clock6:"unicode/1f555.png?v8",clock630:"unicode/1f561.png?v8",clock7:"unicode/1f556.png?v8",clock730:"unicode/1f562.png?v8",clock8:"unicode/1f557.png?v8",clock830:"unicode/1f563.png?v8",clock9:"unicode/1f558.png?v8",clock930:"unicode/1f564.png?v8",closed_book:"unicode/1f4d5.png?v8",closed_lock_with_key:"unicode/1f510.png?v8",closed_umbrella:"unicode/1f302.png?v8",cloud:"unicode/2601.png?v8",cloud_with_lightning:"unicode/1f329.png?v8",cloud_with_lightning_and_rain:"unicode/26c8.png?v8",cloud_with_rain:"unicode/1f327.png?v8",cloud_with_snow:"unicode/1f328.png?v8",clown_face:"unicode/1f921.png?v8",clubs:"unicode/2663.png?v8",cn:"unicode/1f1e8-1f1f3.png?v8",coat:"unicode/1f9e5.png?v8",cockroach:"unicode/1fab3.png?v8",cocktail:"unicode/1f378.png?v8",coconut:"unicode/1f965.png?v8",cocos_islands:"unicode/1f1e8-1f1e8.png?v8",coffee:"unicode/2615.png?v8",coffin:"unicode/26b0.png?v8",coin:"unicode/1fa99.png?v8",cold_face:"unicode/1f976.png?v8",cold_sweat:"unicode/1f630.png?v8",collision:"unicode/1f4a5.png?v8",colombia:"unicode/1f1e8-1f1f4.png?v8",comet:"unicode/2604.png?v8",comoros:"unicode/1f1f0-1f1f2.png?v8",compass:"unicode/1f9ed.png?v8",computer:"unicode/1f4bb.png?v8",computer_mouse:"unicode/1f5b1.png?v8",confetti_ball:"unicode/1f38a.png?v8",confounded:"unicode/1f616.png?v8",confused:"unicode/1f615.png?v8",congo_brazzaville:"unicode/1f1e8-1f1ec.png?v8",congo_kinshasa:"unicode/1f1e8-1f1e9.png?v8",congratulations:"unicode/3297.png?v8",construction:"unicode/1f6a7.png?v8",construction_worker:"unicode/1f477.png?v8",construction_worker_man:"unicode/1f477-2642.png?v8",construction_worker_woman:"unicode/1f477-2640.png?v8",control_knobs:"unicode/1f39b.png?v8",convenience_store:"unicode/1f3ea.png?v8",cook:"unicode/1f9d1-1f373.png?v8",cook_islands:"unicode/1f1e8-1f1f0.png?v8",cookie:"unicode/1f36a.png?v8",cool:"unicode/1f192.png?v8",cop:"unicode/1f46e.png?v8",copyright:"unicode/00a9.png?v8",corn:"unicode/1f33d.png?v8",costa_rica:"unicode/1f1e8-1f1f7.png?v8",cote_divoire:"unicode/1f1e8-1f1ee.png?v8",couch_and_lamp:"unicode/1f6cb.png?v8",couple:"unicode/1f46b.png?v8",couple_with_heart:"unicode/1f491.png?v8",couple_with_heart_man_man:"unicode/1f468-2764-1f468.png?v8",couple_with_heart_woman_man:"unicode/1f469-2764-1f468.png?v8",couple_with_heart_woman_woman:"unicode/1f469-2764-1f469.png?v8",couplekiss:"unicode/1f48f.png?v8",couplekiss_man_man:"unicode/1f468-2764-1f48b-1f468.png?v8",couplekiss_man_woman:"unicode/1f469-2764-1f48b-1f468.png?v8",couplekiss_woman_woman:"unicode/1f469-2764-1f48b-1f469.png?v8",cow:"unicode/1f42e.png?v8",cow2:"unicode/1f404.png?v8",cowboy_hat_face:"unicode/1f920.png?v8",crab:"unicode/1f980.png?v8",crayon:"unicode/1f58d.png?v8",credit_card:"unicode/1f4b3.png?v8",crescent_moon:"unicode/1f319.png?v8",cricket:"unicode/1f997.png?v8",cricket_game:"unicode/1f3cf.png?v8",croatia:"unicode/1f1ed-1f1f7.png?v8",crocodile:"unicode/1f40a.png?v8",croissant:"unicode/1f950.png?v8",crossed_fingers:"unicode/1f91e.png?v8",crossed_flags:"unicode/1f38c.png?v8",crossed_swords:"unicode/2694.png?v8",crown:"unicode/1f451.png?v8",cry:"unicode/1f622.png?v8",crying_cat_face:"unicode/1f63f.png?v8",crystal_ball:"unicode/1f52e.png?v8",cuba:"unicode/1f1e8-1f1fa.png?v8",cucumber:"unicode/1f952.png?v8",cup_with_straw:"unicode/1f964.png?v8",cupcake:"unicode/1f9c1.png?v8",cupid:"unicode/1f498.png?v8",curacao:"unicode/1f1e8-1f1fc.png?v8",curling_stone:"unicode/1f94c.png?v8",curly_haired_man:"unicode/1f468-1f9b1.png?v8",curly_haired_woman:"unicode/1f469-1f9b1.png?v8",curly_loop:"unicode/27b0.png?v8",currency_exchange:"unicode/1f4b1.png?v8",curry:"unicode/1f35b.png?v8",cursing_face:"unicode/1f92c.png?v8",custard:"unicode/1f36e.png?v8",customs:"unicode/1f6c3.png?v8",cut_of_meat:"unicode/1f969.png?v8",cyclone:"unicode/1f300.png?v8",cyprus:"unicode/1f1e8-1f1fe.png?v8",czech_republic:"unicode/1f1e8-1f1ff.png?v8",dagger:"unicode/1f5e1.png?v8",dancer:"unicode/1f483.png?v8",dancers:"unicode/1f46f.png?v8",dancing_men:"unicode/1f46f-2642.png?v8",dancing_women:"unicode/1f46f-2640.png?v8",dango:"unicode/1f361.png?v8",dark_sunglasses:"unicode/1f576.png?v8",dart:"unicode/1f3af.png?v8",dash:"unicode/1f4a8.png?v8",date:"unicode/1f4c5.png?v8",de:"unicode/1f1e9-1f1ea.png?v8",deaf_man:"unicode/1f9cf-2642.png?v8",deaf_person:"unicode/1f9cf.png?v8",deaf_woman:"unicode/1f9cf-2640.png?v8",deciduous_tree:"unicode/1f333.png?v8",deer:"unicode/1f98c.png?v8",denmark:"unicode/1f1e9-1f1f0.png?v8",department_store:"unicode/1f3ec.png?v8",dependabot:"dependabot.png?v8",derelict_house:"unicode/1f3da.png?v8",desert:"unicode/1f3dc.png?v8",desert_island:"unicode/1f3dd.png?v8",desktop_computer:"unicode/1f5a5.png?v8",detective:"unicode/1f575.png?v8",diamond_shape_with_a_dot_inside:"unicode/1f4a0.png?v8",diamonds:"unicode/2666.png?v8",diego_garcia:"unicode/1f1e9-1f1ec.png?v8",disappointed:"unicode/1f61e.png?v8",disappointed_relieved:"unicode/1f625.png?v8",disguised_face:"unicode/1f978.png?v8",diving_mask:"unicode/1f93f.png?v8",diya_lamp:"unicode/1fa94.png?v8",dizzy:"unicode/1f4ab.png?v8",dizzy_face:"unicode/1f635.png?v8",djibouti:"unicode/1f1e9-1f1ef.png?v8",dna:"unicode/1f9ec.png?v8",do_not_litter:"unicode/1f6af.png?v8",dodo:"unicode/1f9a4.png?v8",dog:"unicode/1f436.png?v8",dog2:"unicode/1f415.png?v8",dollar:"unicode/1f4b5.png?v8",dolls:"unicode/1f38e.png?v8",dolphin:"unicode/1f42c.png?v8",dominica:"unicode/1f1e9-1f1f2.png?v8",dominican_republic:"unicode/1f1e9-1f1f4.png?v8",door:"unicode/1f6aa.png?v8",doughnut:"unicode/1f369.png?v8",dove:"unicode/1f54a.png?v8",dragon:"unicode/1f409.png?v8",dragon_face:"unicode/1f432.png?v8",dress:"unicode/1f457.png?v8",dromedary_camel:"unicode/1f42a.png?v8",drooling_face:"unicode/1f924.png?v8",drop_of_blood:"unicode/1fa78.png?v8",droplet:"unicode/1f4a7.png?v8",drum:"unicode/1f941.png?v8",duck:"unicode/1f986.png?v8",dumpling:"unicode/1f95f.png?v8",dvd:"unicode/1f4c0.png?v8","e-mail":"unicode/1f4e7.png?v8",eagle:"unicode/1f985.png?v8",ear:"unicode/1f442.png?v8",ear_of_rice:"unicode/1f33e.png?v8",ear_with_hearing_aid:"unicode/1f9bb.png?v8",earth_africa:"unicode/1f30d.png?v8",earth_americas:"unicode/1f30e.png?v8",earth_asia:"unicode/1f30f.png?v8",ecuador:"unicode/1f1ea-1f1e8.png?v8",egg:"unicode/1f95a.png?v8",eggplant:"unicode/1f346.png?v8",egypt:"unicode/1f1ea-1f1ec.png?v8",eight:"unicode/0038-20e3.png?v8",eight_pointed_black_star:"unicode/2734.png?v8",eight_spoked_asterisk:"unicode/2733.png?v8",eject_button:"unicode/23cf.png?v8",el_salvador:"unicode/1f1f8-1f1fb.png?v8",electric_plug:"unicode/1f50c.png?v8",electron:"electron.png?v8",elephant:"unicode/1f418.png?v8",elevator:"unicode/1f6d7.png?v8",elf:"unicode/1f9dd.png?v8",elf_man:"unicode/1f9dd-2642.png?v8",elf_woman:"unicode/1f9dd-2640.png?v8",email:"unicode/1f4e7.png?v8",end:"unicode/1f51a.png?v8",england:"unicode/1f3f4-e0067-e0062-e0065-e006e-e0067-e007f.png?v8",envelope:"unicode/2709.png?v8",envelope_with_arrow:"unicode/1f4e9.png?v8",equatorial_guinea:"unicode/1f1ec-1f1f6.png?v8",eritrea:"unicode/1f1ea-1f1f7.png?v8",es:"unicode/1f1ea-1f1f8.png?v8",estonia:"unicode/1f1ea-1f1ea.png?v8",ethiopia:"unicode/1f1ea-1f1f9.png?v8",eu:"unicode/1f1ea-1f1fa.png?v8",euro:"unicode/1f4b6.png?v8",european_castle:"unicode/1f3f0.png?v8",european_post_office:"unicode/1f3e4.png?v8",european_union:"unicode/1f1ea-1f1fa.png?v8",evergreen_tree:"unicode/1f332.png?v8",exclamation:"unicode/2757.png?v8",exploding_head:"unicode/1f92f.png?v8",expressionless:"unicode/1f611.png?v8",eye:"unicode/1f441.png?v8",eye_speech_bubble:"unicode/1f441-1f5e8.png?v8",eyeglasses:"unicode/1f453.png?v8",eyes:"unicode/1f440.png?v8",face_exhaling:"unicode/1f62e-1f4a8.png?v8",face_in_clouds:"unicode/1f636-1f32b.png?v8",face_with_head_bandage:"unicode/1f915.png?v8",face_with_spiral_eyes:"unicode/1f635-1f4ab.png?v8",face_with_thermometer:"unicode/1f912.png?v8",facepalm:"unicode/1f926.png?v8",facepunch:"unicode/1f44a.png?v8",factory:"unicode/1f3ed.png?v8",factory_worker:"unicode/1f9d1-1f3ed.png?v8",fairy:"unicode/1f9da.png?v8",fairy_man:"unicode/1f9da-2642.png?v8",fairy_woman:"unicode/1f9da-2640.png?v8",falafel:"unicode/1f9c6.png?v8",falkland_islands:"unicode/1f1eb-1f1f0.png?v8",fallen_leaf:"unicode/1f342.png?v8",family:"unicode/1f46a.png?v8",family_man_boy:"unicode/1f468-1f466.png?v8",family_man_boy_boy:"unicode/1f468-1f466-1f466.png?v8",family_man_girl:"unicode/1f468-1f467.png?v8",family_man_girl_boy:"unicode/1f468-1f467-1f466.png?v8",family_man_girl_girl:"unicode/1f468-1f467-1f467.png?v8",family_man_man_boy:"unicode/1f468-1f468-1f466.png?v8",family_man_man_boy_boy:"unicode/1f468-1f468-1f466-1f466.png?v8",family_man_man_girl:"unicode/1f468-1f468-1f467.png?v8",family_man_man_girl_boy:"unicode/1f468-1f468-1f467-1f466.png?v8",family_man_man_girl_girl:"unicode/1f468-1f468-1f467-1f467.png?v8",family_man_woman_boy:"unicode/1f468-1f469-1f466.png?v8",family_man_woman_boy_boy:"unicode/1f468-1f469-1f466-1f466.png?v8",family_man_woman_girl:"unicode/1f468-1f469-1f467.png?v8",family_man_woman_girl_boy:"unicode/1f468-1f469-1f467-1f466.png?v8",family_man_woman_girl_girl:"unicode/1f468-1f469-1f467-1f467.png?v8",family_woman_boy:"unicode/1f469-1f466.png?v8",family_woman_boy_boy:"unicode/1f469-1f466-1f466.png?v8",family_woman_girl:"unicode/1f469-1f467.png?v8",family_woman_girl_boy:"unicode/1f469-1f467-1f466.png?v8",family_woman_girl_girl:"unicode/1f469-1f467-1f467.png?v8",family_woman_woman_boy:"unicode/1f469-1f469-1f466.png?v8",family_woman_woman_boy_boy:"unicode/1f469-1f469-1f466-1f466.png?v8",family_woman_woman_girl:"unicode/1f469-1f469-1f467.png?v8",family_woman_woman_girl_boy:"unicode/1f469-1f469-1f467-1f466.png?v8",family_woman_woman_girl_girl:"unicode/1f469-1f469-1f467-1f467.png?v8",farmer:"unicode/1f9d1-1f33e.png?v8",faroe_islands:"unicode/1f1eb-1f1f4.png?v8",fast_forward:"unicode/23e9.png?v8",fax:"unicode/1f4e0.png?v8",fearful:"unicode/1f628.png?v8",feather:"unicode/1fab6.png?v8",feelsgood:"feelsgood.png?v8",feet:"unicode/1f43e.png?v8",female_detective:"unicode/1f575-2640.png?v8",female_sign:"unicode/2640.png?v8",ferris_wheel:"unicode/1f3a1.png?v8",ferry:"unicode/26f4.png?v8",field_hockey:"unicode/1f3d1.png?v8",fiji:"unicode/1f1eb-1f1ef.png?v8",file_cabinet:"unicode/1f5c4.png?v8",file_folder:"unicode/1f4c1.png?v8",film_projector:"unicode/1f4fd.png?v8",film_strip:"unicode/1f39e.png?v8",finland:"unicode/1f1eb-1f1ee.png?v8",finnadie:"finnadie.png?v8",fire:"unicode/1f525.png?v8",fire_engine:"unicode/1f692.png?v8",fire_extinguisher:"unicode/1f9ef.png?v8",firecracker:"unicode/1f9e8.png?v8",firefighter:"unicode/1f9d1-1f692.png?v8",fireworks:"unicode/1f386.png?v8",first_quarter_moon:"unicode/1f313.png?v8",first_quarter_moon_with_face:"unicode/1f31b.png?v8",fish:"unicode/1f41f.png?v8",fish_cake:"unicode/1f365.png?v8",fishing_pole_and_fish:"unicode/1f3a3.png?v8",fishsticks:"fishsticks.png?v8",fist:"unicode/270a.png?v8",fist_left:"unicode/1f91b.png?v8",fist_oncoming:"unicode/1f44a.png?v8",fist_raised:"unicode/270a.png?v8",fist_right:"unicode/1f91c.png?v8",five:"unicode/0035-20e3.png?v8",flags:"unicode/1f38f.png?v8",flamingo:"unicode/1f9a9.png?v8",flashlight:"unicode/1f526.png?v8",flat_shoe:"unicode/1f97f.png?v8",flatbread:"unicode/1fad3.png?v8",fleur_de_lis:"unicode/269c.png?v8",flight_arrival:"unicode/1f6ec.png?v8",flight_departure:"unicode/1f6eb.png?v8",flipper:"unicode/1f42c.png?v8",floppy_disk:"unicode/1f4be.png?v8",flower_playing_cards:"unicode/1f3b4.png?v8",flushed:"unicode/1f633.png?v8",fly:"unicode/1fab0.png?v8",flying_disc:"unicode/1f94f.png?v8",flying_saucer:"unicode/1f6f8.png?v8",fog:"unicode/1f32b.png?v8",foggy:"unicode/1f301.png?v8",fondue:"unicode/1fad5.png?v8",foot:"unicode/1f9b6.png?v8",football:"unicode/1f3c8.png?v8",footprints:"unicode/1f463.png?v8",fork_and_knife:"unicode/1f374.png?v8",fortune_cookie:"unicode/1f960.png?v8",fountain:"unicode/26f2.png?v8",fountain_pen:"unicode/1f58b.png?v8",four:"unicode/0034-20e3.png?v8",four_leaf_clover:"unicode/1f340.png?v8",fox_face:"unicode/1f98a.png?v8",fr:"unicode/1f1eb-1f1f7.png?v8",framed_picture:"unicode/1f5bc.png?v8",free:"unicode/1f193.png?v8",french_guiana:"unicode/1f1ec-1f1eb.png?v8",french_polynesia:"unicode/1f1f5-1f1eb.png?v8",french_southern_territories:"unicode/1f1f9-1f1eb.png?v8",fried_egg:"unicode/1f373.png?v8",fried_shrimp:"unicode/1f364.png?v8",fries:"unicode/1f35f.png?v8",frog:"unicode/1f438.png?v8",frowning:"unicode/1f626.png?v8",frowning_face:"unicode/2639.png?v8",frowning_man:"unicode/1f64d-2642.png?v8",frowning_person:"unicode/1f64d.png?v8",frowning_woman:"unicode/1f64d-2640.png?v8",fu:"unicode/1f595.png?v8",fuelpump:"unicode/26fd.png?v8",full_moon:"unicode/1f315.png?v8",full_moon_with_face:"unicode/1f31d.png?v8",funeral_urn:"unicode/26b1.png?v8",gabon:"unicode/1f1ec-1f1e6.png?v8",gambia:"unicode/1f1ec-1f1f2.png?v8",game_die:"unicode/1f3b2.png?v8",garlic:"unicode/1f9c4.png?v8",gb:"unicode/1f1ec-1f1e7.png?v8",gear:"unicode/2699.png?v8",gem:"unicode/1f48e.png?v8",gemini:"unicode/264a.png?v8",genie:"unicode/1f9de.png?v8",genie_man:"unicode/1f9de-2642.png?v8",genie_woman:"unicode/1f9de-2640.png?v8",georgia:"unicode/1f1ec-1f1ea.png?v8",ghana:"unicode/1f1ec-1f1ed.png?v8",ghost:"unicode/1f47b.png?v8",gibraltar:"unicode/1f1ec-1f1ee.png?v8",gift:"unicode/1f381.png?v8",gift_heart:"unicode/1f49d.png?v8",giraffe:"unicode/1f992.png?v8",girl:"unicode/1f467.png?v8",globe_with_meridians:"unicode/1f310.png?v8",gloves:"unicode/1f9e4.png?v8",goal_net:"unicode/1f945.png?v8",goat:"unicode/1f410.png?v8",goberserk:"goberserk.png?v8",godmode:"godmode.png?v8",goggles:"unicode/1f97d.png?v8",golf:"unicode/26f3.png?v8",golfing:"unicode/1f3cc.png?v8",golfing_man:"unicode/1f3cc-2642.png?v8",golfing_woman:"unicode/1f3cc-2640.png?v8",gorilla:"unicode/1f98d.png?v8",grapes:"unicode/1f347.png?v8",greece:"unicode/1f1ec-1f1f7.png?v8",green_apple:"unicode/1f34f.png?v8",green_book:"unicode/1f4d7.png?v8",green_circle:"unicode/1f7e2.png?v8",green_heart:"unicode/1f49a.png?v8",green_salad:"unicode/1f957.png?v8",green_square:"unicode/1f7e9.png?v8",greenland:"unicode/1f1ec-1f1f1.png?v8",grenada:"unicode/1f1ec-1f1e9.png?v8",grey_exclamation:"unicode/2755.png?v8",grey_question:"unicode/2754.png?v8",grimacing:"unicode/1f62c.png?v8",grin:"unicode/1f601.png?v8",grinning:"unicode/1f600.png?v8",guadeloupe:"unicode/1f1ec-1f1f5.png?v8",guam:"unicode/1f1ec-1f1fa.png?v8",guard:"unicode/1f482.png?v8",guardsman:"unicode/1f482-2642.png?v8",guardswoman:"unicode/1f482-2640.png?v8",guatemala:"unicode/1f1ec-1f1f9.png?v8",guernsey:"unicode/1f1ec-1f1ec.png?v8",guide_dog:"unicode/1f9ae.png?v8",guinea:"unicode/1f1ec-1f1f3.png?v8",guinea_bissau:"unicode/1f1ec-1f1fc.png?v8",guitar:"unicode/1f3b8.png?v8",gun:"unicode/1f52b.png?v8",guyana:"unicode/1f1ec-1f1fe.png?v8",haircut:"unicode/1f487.png?v8",haircut_man:"unicode/1f487-2642.png?v8",haircut_woman:"unicode/1f487-2640.png?v8",haiti:"unicode/1f1ed-1f1f9.png?v8",hamburger:"unicode/1f354.png?v8",hammer:"unicode/1f528.png?v8",hammer_and_pick:"unicode/2692.png?v8",hammer_and_wrench:"unicode/1f6e0.png?v8",hamster:"unicode/1f439.png?v8",hand:"unicode/270b.png?v8",hand_over_mouth:"unicode/1f92d.png?v8",handbag:"unicode/1f45c.png?v8",handball_person:"unicode/1f93e.png?v8",handshake:"unicode/1f91d.png?v8",hankey:"unicode/1f4a9.png?v8",hash:"unicode/0023-20e3.png?v8",hatched_chick:"unicode/1f425.png?v8",hatching_chick:"unicode/1f423.png?v8",headphones:"unicode/1f3a7.png?v8",headstone:"unicode/1faa6.png?v8",health_worker:"unicode/1f9d1-2695.png?v8",hear_no_evil:"unicode/1f649.png?v8",heard_mcdonald_islands:"unicode/1f1ed-1f1f2.png?v8",heart:"unicode/2764.png?v8",heart_decoration:"unicode/1f49f.png?v8",heart_eyes:"unicode/1f60d.png?v8",heart_eyes_cat:"unicode/1f63b.png?v8",heart_on_fire:"unicode/2764-1f525.png?v8",heartbeat:"unicode/1f493.png?v8",heartpulse:"unicode/1f497.png?v8",hearts:"unicode/2665.png?v8",heavy_check_mark:"unicode/2714.png?v8",heavy_division_sign:"unicode/2797.png?v8",heavy_dollar_sign:"unicode/1f4b2.png?v8",heavy_exclamation_mark:"unicode/2757.png?v8",heavy_heart_exclamation:"unicode/2763.png?v8",heavy_minus_sign:"unicode/2796.png?v8",heavy_multiplication_x:"unicode/2716.png?v8",heavy_plus_sign:"unicode/2795.png?v8",hedgehog:"unicode/1f994.png?v8",helicopter:"unicode/1f681.png?v8",herb:"unicode/1f33f.png?v8",hibiscus:"unicode/1f33a.png?v8",high_brightness:"unicode/1f506.png?v8",high_heel:"unicode/1f460.png?v8",hiking_boot:"unicode/1f97e.png?v8",hindu_temple:"unicode/1f6d5.png?v8",hippopotamus:"unicode/1f99b.png?v8",hocho:"unicode/1f52a.png?v8",hole:"unicode/1f573.png?v8",honduras:"unicode/1f1ed-1f1f3.png?v8",honey_pot:"unicode/1f36f.png?v8",honeybee:"unicode/1f41d.png?v8",hong_kong:"unicode/1f1ed-1f1f0.png?v8",hook:"unicode/1fa9d.png?v8",horse:"unicode/1f434.png?v8",horse_racing:"unicode/1f3c7.png?v8",hospital:"unicode/1f3e5.png?v8",hot_face:"unicode/1f975.png?v8",hot_pepper:"unicode/1f336.png?v8",hotdog:"unicode/1f32d.png?v8",hotel:"unicode/1f3e8.png?v8",hotsprings:"unicode/2668.png?v8",hourglass:"unicode/231b.png?v8",hourglass_flowing_sand:"unicode/23f3.png?v8",house:"unicode/1f3e0.png?v8",house_with_garden:"unicode/1f3e1.png?v8",houses:"unicode/1f3d8.png?v8",hugs:"unicode/1f917.png?v8",hungary:"unicode/1f1ed-1f1fa.png?v8",hurtrealbad:"hurtrealbad.png?v8",hushed:"unicode/1f62f.png?v8",hut:"unicode/1f6d6.png?v8",ice_cream:"unicode/1f368.png?v8",ice_cube:"unicode/1f9ca.png?v8",ice_hockey:"unicode/1f3d2.png?v8",ice_skate:"unicode/26f8.png?v8",icecream:"unicode/1f366.png?v8",iceland:"unicode/1f1ee-1f1f8.png?v8",id:"unicode/1f194.png?v8",ideograph_advantage:"unicode/1f250.png?v8",imp:"unicode/1f47f.png?v8",inbox_tray:"unicode/1f4e5.png?v8",incoming_envelope:"unicode/1f4e8.png?v8",india:"unicode/1f1ee-1f1f3.png?v8",indonesia:"unicode/1f1ee-1f1e9.png?v8",infinity:"unicode/267e.png?v8",information_desk_person:"unicode/1f481.png?v8",information_source:"unicode/2139.png?v8",innocent:"unicode/1f607.png?v8",interrobang:"unicode/2049.png?v8",iphone:"unicode/1f4f1.png?v8",iran:"unicode/1f1ee-1f1f7.png?v8",iraq:"unicode/1f1ee-1f1f6.png?v8",ireland:"unicode/1f1ee-1f1ea.png?v8",isle_of_man:"unicode/1f1ee-1f1f2.png?v8",israel:"unicode/1f1ee-1f1f1.png?v8",it:"unicode/1f1ee-1f1f9.png?v8",izakaya_lantern:"unicode/1f3ee.png?v8",jack_o_lantern:"unicode/1f383.png?v8",jamaica:"unicode/1f1ef-1f1f2.png?v8",japan:"unicode/1f5fe.png?v8",japanese_castle:"unicode/1f3ef.png?v8",japanese_goblin:"unicode/1f47a.png?v8",japanese_ogre:"unicode/1f479.png?v8",jeans:"unicode/1f456.png?v8",jersey:"unicode/1f1ef-1f1ea.png?v8",jigsaw:"unicode/1f9e9.png?v8",jordan:"unicode/1f1ef-1f1f4.png?v8",joy:"unicode/1f602.png?v8",joy_cat:"unicode/1f639.png?v8",joystick:"unicode/1f579.png?v8",jp:"unicode/1f1ef-1f1f5.png?v8",judge:"unicode/1f9d1-2696.png?v8",juggling_person:"unicode/1f939.png?v8",kaaba:"unicode/1f54b.png?v8",kangaroo:"unicode/1f998.png?v8",kazakhstan:"unicode/1f1f0-1f1ff.png?v8",kenya:"unicode/1f1f0-1f1ea.png?v8",key:"unicode/1f511.png?v8",keyboard:"unicode/2328.png?v8",keycap_ten:"unicode/1f51f.png?v8",kick_scooter:"unicode/1f6f4.png?v8",kimono:"unicode/1f458.png?v8",kiribati:"unicode/1f1f0-1f1ee.png?v8",kiss:"unicode/1f48b.png?v8",kissing:"unicode/1f617.png?v8",kissing_cat:"unicode/1f63d.png?v8",kissing_closed_eyes:"unicode/1f61a.png?v8",kissing_heart:"unicode/1f618.png?v8",kissing_smiling_eyes:"unicode/1f619.png?v8",kite:"unicode/1fa81.png?v8",kiwi_fruit:"unicode/1f95d.png?v8",kneeling_man:"unicode/1f9ce-2642.png?v8",kneeling_person:"unicode/1f9ce.png?v8",kneeling_woman:"unicode/1f9ce-2640.png?v8",knife:"unicode/1f52a.png?v8",knot:"unicode/1faa2.png?v8",koala:"unicode/1f428.png?v8",koko:"unicode/1f201.png?v8",kosovo:"unicode/1f1fd-1f1f0.png?v8",kr:"unicode/1f1f0-1f1f7.png?v8",kuwait:"unicode/1f1f0-1f1fc.png?v8",kyrgyzstan:"unicode/1f1f0-1f1ec.png?v8",lab_coat:"unicode/1f97c.png?v8",label:"unicode/1f3f7.png?v8",lacrosse:"unicode/1f94d.png?v8",ladder:"unicode/1fa9c.png?v8",lady_beetle:"unicode/1f41e.png?v8",lantern:"unicode/1f3ee.png?v8",laos:"unicode/1f1f1-1f1e6.png?v8",large_blue_circle:"unicode/1f535.png?v8",large_blue_diamond:"unicode/1f537.png?v8",large_orange_diamond:"unicode/1f536.png?v8",last_quarter_moon:"unicode/1f317.png?v8",last_quarter_moon_with_face:"unicode/1f31c.png?v8",latin_cross:"unicode/271d.png?v8",latvia:"unicode/1f1f1-1f1fb.png?v8",laughing:"unicode/1f606.png?v8",leafy_green:"unicode/1f96c.png?v8",leaves:"unicode/1f343.png?v8",lebanon:"unicode/1f1f1-1f1e7.png?v8",ledger:"unicode/1f4d2.png?v8",left_luggage:"unicode/1f6c5.png?v8",left_right_arrow:"unicode/2194.png?v8",left_speech_bubble:"unicode/1f5e8.png?v8",leftwards_arrow_with_hook:"unicode/21a9.png?v8",leg:"unicode/1f9b5.png?v8",lemon:"unicode/1f34b.png?v8",leo:"unicode/264c.png?v8",leopard:"unicode/1f406.png?v8",lesotho:"unicode/1f1f1-1f1f8.png?v8",level_slider:"unicode/1f39a.png?v8",liberia:"unicode/1f1f1-1f1f7.png?v8",libra:"unicode/264e.png?v8",libya:"unicode/1f1f1-1f1fe.png?v8",liechtenstein:"unicode/1f1f1-1f1ee.png?v8",light_rail:"unicode/1f688.png?v8",link:"unicode/1f517.png?v8",lion:"unicode/1f981.png?v8",lips:"unicode/1f444.png?v8",lipstick:"unicode/1f484.png?v8",lithuania:"unicode/1f1f1-1f1f9.png?v8",lizard:"unicode/1f98e.png?v8",llama:"unicode/1f999.png?v8",lobster:"unicode/1f99e.png?v8",lock:"unicode/1f512.png?v8",lock_with_ink_pen:"unicode/1f50f.png?v8",lollipop:"unicode/1f36d.png?v8",long_drum:"unicode/1fa98.png?v8",loop:"unicode/27bf.png?v8",lotion_bottle:"unicode/1f9f4.png?v8",lotus_position:"unicode/1f9d8.png?v8",lotus_position_man:"unicode/1f9d8-2642.png?v8",lotus_position_woman:"unicode/1f9d8-2640.png?v8",loud_sound:"unicode/1f50a.png?v8",loudspeaker:"unicode/1f4e2.png?v8",love_hotel:"unicode/1f3e9.png?v8",love_letter:"unicode/1f48c.png?v8",love_you_gesture:"unicode/1f91f.png?v8",low_brightness:"unicode/1f505.png?v8",luggage:"unicode/1f9f3.png?v8",lungs:"unicode/1fac1.png?v8",luxembourg:"unicode/1f1f1-1f1fa.png?v8",lying_face:"unicode/1f925.png?v8",m:"unicode/24c2.png?v8",macau:"unicode/1f1f2-1f1f4.png?v8",macedonia:"unicode/1f1f2-1f1f0.png?v8",madagascar:"unicode/1f1f2-1f1ec.png?v8",mag:"unicode/1f50d.png?v8",mag_right:"unicode/1f50e.png?v8",mage:"unicode/1f9d9.png?v8",mage_man:"unicode/1f9d9-2642.png?v8",mage_woman:"unicode/1f9d9-2640.png?v8",magic_wand:"unicode/1fa84.png?v8",magnet:"unicode/1f9f2.png?v8",mahjong:"unicode/1f004.png?v8",mailbox:"unicode/1f4eb.png?v8",mailbox_closed:"unicode/1f4ea.png?v8",mailbox_with_mail:"unicode/1f4ec.png?v8",mailbox_with_no_mail:"unicode/1f4ed.png?v8",malawi:"unicode/1f1f2-1f1fc.png?v8",malaysia:"unicode/1f1f2-1f1fe.png?v8",maldives:"unicode/1f1f2-1f1fb.png?v8",male_detective:"unicode/1f575-2642.png?v8",male_sign:"unicode/2642.png?v8",mali:"unicode/1f1f2-1f1f1.png?v8",malta:"unicode/1f1f2-1f1f9.png?v8",mammoth:"unicode/1f9a3.png?v8",man:"unicode/1f468.png?v8",man_artist:"unicode/1f468-1f3a8.png?v8",man_astronaut:"unicode/1f468-1f680.png?v8",man_beard:"unicode/1f9d4-2642.png?v8",man_cartwheeling:"unicode/1f938-2642.png?v8",man_cook:"unicode/1f468-1f373.png?v8",man_dancing:"unicode/1f57a.png?v8",man_facepalming:"unicode/1f926-2642.png?v8",man_factory_worker:"unicode/1f468-1f3ed.png?v8",man_farmer:"unicode/1f468-1f33e.png?v8",man_feeding_baby:"unicode/1f468-1f37c.png?v8",man_firefighter:"unicode/1f468-1f692.png?v8",man_health_worker:"unicode/1f468-2695.png?v8",man_in_manual_wheelchair:"unicode/1f468-1f9bd.png?v8",man_in_motorized_wheelchair:"unicode/1f468-1f9bc.png?v8",man_in_tuxedo:"unicode/1f935-2642.png?v8",man_judge:"unicode/1f468-2696.png?v8",man_juggling:"unicode/1f939-2642.png?v8",man_mechanic:"unicode/1f468-1f527.png?v8",man_office_worker:"unicode/1f468-1f4bc.png?v8",man_pilot:"unicode/1f468-2708.png?v8",man_playing_handball:"unicode/1f93e-2642.png?v8",man_playing_water_polo:"unicode/1f93d-2642.png?v8",man_scientist:"unicode/1f468-1f52c.png?v8",man_shrugging:"unicode/1f937-2642.png?v8",man_singer:"unicode/1f468-1f3a4.png?v8",man_student:"unicode/1f468-1f393.png?v8",man_teacher:"unicode/1f468-1f3eb.png?v8",man_technologist:"unicode/1f468-1f4bb.png?v8",man_with_gua_pi_mao:"unicode/1f472.png?v8",man_with_probing_cane:"unicode/1f468-1f9af.png?v8",man_with_turban:"unicode/1f473-2642.png?v8",man_with_veil:"unicode/1f470-2642.png?v8",mandarin:"unicode/1f34a.png?v8",mango:"unicode/1f96d.png?v8",mans_shoe:"unicode/1f45e.png?v8",mantelpiece_clock:"unicode/1f570.png?v8",manual_wheelchair:"unicode/1f9bd.png?v8",maple_leaf:"unicode/1f341.png?v8",marshall_islands:"unicode/1f1f2-1f1ed.png?v8",martial_arts_uniform:"unicode/1f94b.png?v8",martinique:"unicode/1f1f2-1f1f6.png?v8",mask:"unicode/1f637.png?v8",massage:"unicode/1f486.png?v8",massage_man:"unicode/1f486-2642.png?v8",massage_woman:"unicode/1f486-2640.png?v8",mate:"unicode/1f9c9.png?v8",mauritania:"unicode/1f1f2-1f1f7.png?v8",mauritius:"unicode/1f1f2-1f1fa.png?v8",mayotte:"unicode/1f1fe-1f1f9.png?v8",meat_on_bone:"unicode/1f356.png?v8",mechanic:"unicode/1f9d1-1f527.png?v8",mechanical_arm:"unicode/1f9be.png?v8",mechanical_leg:"unicode/1f9bf.png?v8",medal_military:"unicode/1f396.png?v8",medal_sports:"unicode/1f3c5.png?v8",medical_symbol:"unicode/2695.png?v8",mega:"unicode/1f4e3.png?v8",melon:"unicode/1f348.png?v8",memo:"unicode/1f4dd.png?v8",men_wrestling:"unicode/1f93c-2642.png?v8",mending_heart:"unicode/2764-1fa79.png?v8",menorah:"unicode/1f54e.png?v8",mens:"unicode/1f6b9.png?v8",mermaid:"unicode/1f9dc-2640.png?v8",merman:"unicode/1f9dc-2642.png?v8",merperson:"unicode/1f9dc.png?v8",metal:"unicode/1f918.png?v8",metro:"unicode/1f687.png?v8",mexico:"unicode/1f1f2-1f1fd.png?v8",microbe:"unicode/1f9a0.png?v8",micronesia:"unicode/1f1eb-1f1f2.png?v8",microphone:"unicode/1f3a4.png?v8",microscope:"unicode/1f52c.png?v8",middle_finger:"unicode/1f595.png?v8",military_helmet:"unicode/1fa96.png?v8",milk_glass:"unicode/1f95b.png?v8",milky_way:"unicode/1f30c.png?v8",minibus:"unicode/1f690.png?v8",minidisc:"unicode/1f4bd.png?v8",mirror:"unicode/1fa9e.png?v8",mobile_phone_off:"unicode/1f4f4.png?v8",moldova:"unicode/1f1f2-1f1e9.png?v8",monaco:"unicode/1f1f2-1f1e8.png?v8",money_mouth_face:"unicode/1f911.png?v8",money_with_wings:"unicode/1f4b8.png?v8",moneybag:"unicode/1f4b0.png?v8",mongolia:"unicode/1f1f2-1f1f3.png?v8",monkey:"unicode/1f412.png?v8",monkey_face:"unicode/1f435.png?v8",monocle_face:"unicode/1f9d0.png?v8",monorail:"unicode/1f69d.png?v8",montenegro:"unicode/1f1f2-1f1ea.png?v8",montserrat:"unicode/1f1f2-1f1f8.png?v8",moon:"unicode/1f314.png?v8",moon_cake:"unicode/1f96e.png?v8",morocco:"unicode/1f1f2-1f1e6.png?v8",mortar_board:"unicode/1f393.png?v8",mosque:"unicode/1f54c.png?v8",mosquito:"unicode/1f99f.png?v8",motor_boat:"unicode/1f6e5.png?v8",motor_scooter:"unicode/1f6f5.png?v8",motorcycle:"unicode/1f3cd.png?v8",motorized_wheelchair:"unicode/1f9bc.png?v8",motorway:"unicode/1f6e3.png?v8",mount_fuji:"unicode/1f5fb.png?v8",mountain:"unicode/26f0.png?v8",mountain_bicyclist:"unicode/1f6b5.png?v8",mountain_biking_man:"unicode/1f6b5-2642.png?v8",mountain_biking_woman:"unicode/1f6b5-2640.png?v8",mountain_cableway:"unicode/1f6a0.png?v8",mountain_railway:"unicode/1f69e.png?v8",mountain_snow:"unicode/1f3d4.png?v8",mouse:"unicode/1f42d.png?v8",mouse2:"unicode/1f401.png?v8",mouse_trap:"unicode/1faa4.png?v8",movie_camera:"unicode/1f3a5.png?v8",moyai:"unicode/1f5ff.png?v8",mozambique:"unicode/1f1f2-1f1ff.png?v8",mrs_claus:"unicode/1f936.png?v8",muscle:"unicode/1f4aa.png?v8",mushroom:"unicode/1f344.png?v8",musical_keyboard:"unicode/1f3b9.png?v8",musical_note:"unicode/1f3b5.png?v8",musical_score:"unicode/1f3bc.png?v8",mute:"unicode/1f507.png?v8",mx_claus:"unicode/1f9d1-1f384.png?v8",myanmar:"unicode/1f1f2-1f1f2.png?v8",nail_care:"unicode/1f485.png?v8",name_badge:"unicode/1f4db.png?v8",namibia:"unicode/1f1f3-1f1e6.png?v8",national_park:"unicode/1f3de.png?v8",nauru:"unicode/1f1f3-1f1f7.png?v8",nauseated_face:"unicode/1f922.png?v8",nazar_amulet:"unicode/1f9ff.png?v8",neckbeard:"neckbeard.png?v8",necktie:"unicode/1f454.png?v8",negative_squared_cross_mark:"unicode/274e.png?v8",nepal:"unicode/1f1f3-1f1f5.png?v8",nerd_face:"unicode/1f913.png?v8",nesting_dolls:"unicode/1fa86.png?v8",netherlands:"unicode/1f1f3-1f1f1.png?v8",neutral_face:"unicode/1f610.png?v8",new:"unicode/1f195.png?v8",new_caledonia:"unicode/1f1f3-1f1e8.png?v8",new_moon:"unicode/1f311.png?v8",new_moon_with_face:"unicode/1f31a.png?v8",new_zealand:"unicode/1f1f3-1f1ff.png?v8",newspaper:"unicode/1f4f0.png?v8",newspaper_roll:"unicode/1f5de.png?v8",next_track_button:"unicode/23ed.png?v8",ng:"unicode/1f196.png?v8",ng_man:"unicode/1f645-2642.png?v8",ng_woman:"unicode/1f645-2640.png?v8",nicaragua:"unicode/1f1f3-1f1ee.png?v8",niger:"unicode/1f1f3-1f1ea.png?v8",nigeria:"unicode/1f1f3-1f1ec.png?v8",night_with_stars:"unicode/1f303.png?v8",nine:"unicode/0039-20e3.png?v8",ninja:"unicode/1f977.png?v8",niue:"unicode/1f1f3-1f1fa.png?v8",no_bell:"unicode/1f515.png?v8",no_bicycles:"unicode/1f6b3.png?v8",no_entry:"unicode/26d4.png?v8",no_entry_sign:"unicode/1f6ab.png?v8",no_good:"unicode/1f645.png?v8",no_good_man:"unicode/1f645-2642.png?v8",no_good_woman:"unicode/1f645-2640.png?v8",no_mobile_phones:"unicode/1f4f5.png?v8",no_mouth:"unicode/1f636.png?v8",no_pedestrians:"unicode/1f6b7.png?v8",no_smoking:"unicode/1f6ad.png?v8","non-potable_water":"unicode/1f6b1.png?v8",norfolk_island:"unicode/1f1f3-1f1eb.png?v8",north_korea:"unicode/1f1f0-1f1f5.png?v8",northern_mariana_islands:"unicode/1f1f2-1f1f5.png?v8",norway:"unicode/1f1f3-1f1f4.png?v8",nose:"unicode/1f443.png?v8",notebook:"unicode/1f4d3.png?v8",notebook_with_decorative_cover:"unicode/1f4d4.png?v8",notes:"unicode/1f3b6.png?v8",nut_and_bolt:"unicode/1f529.png?v8",o:"unicode/2b55.png?v8",o2:"unicode/1f17e.png?v8",ocean:"unicode/1f30a.png?v8",octocat:"octocat.png?v8",octopus:"unicode/1f419.png?v8",oden:"unicode/1f362.png?v8",office:"unicode/1f3e2.png?v8",office_worker:"unicode/1f9d1-1f4bc.png?v8",oil_drum:"unicode/1f6e2.png?v8",ok:"unicode/1f197.png?v8",ok_hand:"unicode/1f44c.png?v8",ok_man:"unicode/1f646-2642.png?v8",ok_person:"unicode/1f646.png?v8",ok_woman:"unicode/1f646-2640.png?v8",old_key:"unicode/1f5dd.png?v8",older_adult:"unicode/1f9d3.png?v8",older_man:"unicode/1f474.png?v8",older_woman:"unicode/1f475.png?v8",olive:"unicode/1fad2.png?v8",om:"unicode/1f549.png?v8",oman:"unicode/1f1f4-1f1f2.png?v8",on:"unicode/1f51b.png?v8",oncoming_automobile:"unicode/1f698.png?v8",oncoming_bus:"unicode/1f68d.png?v8",oncoming_police_car:"unicode/1f694.png?v8",oncoming_taxi:"unicode/1f696.png?v8",one:"unicode/0031-20e3.png?v8",one_piece_swimsuit:"unicode/1fa71.png?v8",onion:"unicode/1f9c5.png?v8",open_book:"unicode/1f4d6.png?v8",open_file_folder:"unicode/1f4c2.png?v8",open_hands:"unicode/1f450.png?v8",open_mouth:"unicode/1f62e.png?v8",open_umbrella:"unicode/2602.png?v8",ophiuchus:"unicode/26ce.png?v8",orange:"unicode/1f34a.png?v8",orange_book:"unicode/1f4d9.png?v8",orange_circle:"unicode/1f7e0.png?v8",orange_heart:"unicode/1f9e1.png?v8",orange_square:"unicode/1f7e7.png?v8",orangutan:"unicode/1f9a7.png?v8",orthodox_cross:"unicode/2626.png?v8",otter:"unicode/1f9a6.png?v8",outbox_tray:"unicode/1f4e4.png?v8",owl:"unicode/1f989.png?v8",ox:"unicode/1f402.png?v8",oyster:"unicode/1f9aa.png?v8",package:"unicode/1f4e6.png?v8",page_facing_up:"unicode/1f4c4.png?v8",page_with_curl:"unicode/1f4c3.png?v8",pager:"unicode/1f4df.png?v8",paintbrush:"unicode/1f58c.png?v8",pakistan:"unicode/1f1f5-1f1f0.png?v8",palau:"unicode/1f1f5-1f1fc.png?v8",palestinian_territories:"unicode/1f1f5-1f1f8.png?v8",palm_tree:"unicode/1f334.png?v8",palms_up_together:"unicode/1f932.png?v8",panama:"unicode/1f1f5-1f1e6.png?v8",pancakes:"unicode/1f95e.png?v8",panda_face:"unicode/1f43c.png?v8",paperclip:"unicode/1f4ce.png?v8",paperclips:"unicode/1f587.png?v8",papua_new_guinea:"unicode/1f1f5-1f1ec.png?v8",parachute:"unicode/1fa82.png?v8",paraguay:"unicode/1f1f5-1f1fe.png?v8",parasol_on_ground:"unicode/26f1.png?v8",parking:"unicode/1f17f.png?v8",parrot:"unicode/1f99c.png?v8",part_alternation_mark:"unicode/303d.png?v8",partly_sunny:"unicode/26c5.png?v8",partying_face:"unicode/1f973.png?v8",passenger_ship:"unicode/1f6f3.png?v8",passport_control:"unicode/1f6c2.png?v8",pause_button:"unicode/23f8.png?v8",paw_prints:"unicode/1f43e.png?v8",peace_symbol:"unicode/262e.png?v8",peach:"unicode/1f351.png?v8",peacock:"unicode/1f99a.png?v8",peanuts:"unicode/1f95c.png?v8",pear:"unicode/1f350.png?v8",pen:"unicode/1f58a.png?v8",pencil:"unicode/1f4dd.png?v8",pencil2:"unicode/270f.png?v8",penguin:"unicode/1f427.png?v8",pensive:"unicode/1f614.png?v8",people_holding_hands:"unicode/1f9d1-1f91d-1f9d1.png?v8",people_hugging:"unicode/1fac2.png?v8",performing_arts:"unicode/1f3ad.png?v8",persevere:"unicode/1f623.png?v8",person_bald:"unicode/1f9d1-1f9b2.png?v8",person_curly_hair:"unicode/1f9d1-1f9b1.png?v8",person_feeding_baby:"unicode/1f9d1-1f37c.png?v8",person_fencing:"unicode/1f93a.png?v8",person_in_manual_wheelchair:"unicode/1f9d1-1f9bd.png?v8",person_in_motorized_wheelchair:"unicode/1f9d1-1f9bc.png?v8",person_in_tuxedo:"unicode/1f935.png?v8",person_red_hair:"unicode/1f9d1-1f9b0.png?v8",person_white_hair:"unicode/1f9d1-1f9b3.png?v8",person_with_probing_cane:"unicode/1f9d1-1f9af.png?v8",person_with_turban:"unicode/1f473.png?v8",person_with_veil:"unicode/1f470.png?v8",peru:"unicode/1f1f5-1f1ea.png?v8",petri_dish:"unicode/1f9eb.png?v8",philippines:"unicode/1f1f5-1f1ed.png?v8",phone:"unicode/260e.png?v8",pick:"unicode/26cf.png?v8",pickup_truck:"unicode/1f6fb.png?v8",pie:"unicode/1f967.png?v8",pig:"unicode/1f437.png?v8",pig2:"unicode/1f416.png?v8",pig_nose:"unicode/1f43d.png?v8",pill:"unicode/1f48a.png?v8",pilot:"unicode/1f9d1-2708.png?v8",pinata:"unicode/1fa85.png?v8",pinched_fingers:"unicode/1f90c.png?v8",pinching_hand:"unicode/1f90f.png?v8",pineapple:"unicode/1f34d.png?v8",ping_pong:"unicode/1f3d3.png?v8",pirate_flag:"unicode/1f3f4-2620.png?v8",pisces:"unicode/2653.png?v8",pitcairn_islands:"unicode/1f1f5-1f1f3.png?v8",pizza:"unicode/1f355.png?v8",placard:"unicode/1faa7.png?v8",place_of_worship:"unicode/1f6d0.png?v8",plate_with_cutlery:"unicode/1f37d.png?v8",play_or_pause_button:"unicode/23ef.png?v8",pleading_face:"unicode/1f97a.png?v8",plunger:"unicode/1faa0.png?v8",point_down:"unicode/1f447.png?v8",point_left:"unicode/1f448.png?v8",point_right:"unicode/1f449.png?v8",point_up:"unicode/261d.png?v8",point_up_2:"unicode/1f446.png?v8",poland:"unicode/1f1f5-1f1f1.png?v8",polar_bear:"unicode/1f43b-2744.png?v8",police_car:"unicode/1f693.png?v8",police_officer:"unicode/1f46e.png?v8",policeman:"unicode/1f46e-2642.png?v8",policewoman:"unicode/1f46e-2640.png?v8",poodle:"unicode/1f429.png?v8",poop:"unicode/1f4a9.png?v8",popcorn:"unicode/1f37f.png?v8",portugal:"unicode/1f1f5-1f1f9.png?v8",post_office:"unicode/1f3e3.png?v8",postal_horn:"unicode/1f4ef.png?v8",postbox:"unicode/1f4ee.png?v8",potable_water:"unicode/1f6b0.png?v8",potato:"unicode/1f954.png?v8",potted_plant:"unicode/1fab4.png?v8",pouch:"unicode/1f45d.png?v8",poultry_leg:"unicode/1f357.png?v8",pound:"unicode/1f4b7.png?v8",pout:"unicode/1f621.png?v8",pouting_cat:"unicode/1f63e.png?v8",pouting_face:"unicode/1f64e.png?v8",pouting_man:"unicode/1f64e-2642.png?v8",pouting_woman:"unicode/1f64e-2640.png?v8",pray:"unicode/1f64f.png?v8",prayer_beads:"unicode/1f4ff.png?v8",pregnant_woman:"unicode/1f930.png?v8",pretzel:"unicode/1f968.png?v8",previous_track_button:"unicode/23ee.png?v8",prince:"unicode/1f934.png?v8",princess:"unicode/1f478.png?v8",printer:"unicode/1f5a8.png?v8",probing_cane:"unicode/1f9af.png?v8",puerto_rico:"unicode/1f1f5-1f1f7.png?v8",punch:"unicode/1f44a.png?v8",purple_circle:"unicode/1f7e3.png?v8",purple_heart:"unicode/1f49c.png?v8",purple_square:"unicode/1f7ea.png?v8",purse:"unicode/1f45b.png?v8",pushpin:"unicode/1f4cc.png?v8",put_litter_in_its_place:"unicode/1f6ae.png?v8",qatar:"unicode/1f1f6-1f1e6.png?v8",question:"unicode/2753.png?v8",rabbit:"unicode/1f430.png?v8",rabbit2:"unicode/1f407.png?v8",raccoon:"unicode/1f99d.png?v8",racehorse:"unicode/1f40e.png?v8",racing_car:"unicode/1f3ce.png?v8",radio:"unicode/1f4fb.png?v8",radio_button:"unicode/1f518.png?v8",radioactive:"unicode/2622.png?v8",rage:"unicode/1f621.png?v8",rage1:"rage1.png?v8",rage2:"rage2.png?v8",rage3:"rage3.png?v8",rage4:"rage4.png?v8",railway_car:"unicode/1f683.png?v8",railway_track:"unicode/1f6e4.png?v8",rainbow:"unicode/1f308.png?v8",rainbow_flag:"unicode/1f3f3-1f308.png?v8",raised_back_of_hand:"unicode/1f91a.png?v8",raised_eyebrow:"unicode/1f928.png?v8",raised_hand:"unicode/270b.png?v8",raised_hand_with_fingers_splayed:"unicode/1f590.png?v8",raised_hands:"unicode/1f64c.png?v8",raising_hand:"unicode/1f64b.png?v8",raising_hand_man:"unicode/1f64b-2642.png?v8",raising_hand_woman:"unicode/1f64b-2640.png?v8",ram:"unicode/1f40f.png?v8",ramen:"unicode/1f35c.png?v8",rat:"unicode/1f400.png?v8",razor:"unicode/1fa92.png?v8",receipt:"unicode/1f9fe.png?v8",record_button:"unicode/23fa.png?v8",recycle:"unicode/267b.png?v8",red_car:"unicode/1f697.png?v8",red_circle:"unicode/1f534.png?v8",red_envelope:"unicode/1f9e7.png?v8",red_haired_man:"unicode/1f468-1f9b0.png?v8",red_haired_woman:"unicode/1f469-1f9b0.png?v8",red_square:"unicode/1f7e5.png?v8",registered:"unicode/00ae.png?v8",relaxed:"unicode/263a.png?v8",relieved:"unicode/1f60c.png?v8",reminder_ribbon:"unicode/1f397.png?v8",repeat:"unicode/1f501.png?v8",repeat_one:"unicode/1f502.png?v8",rescue_worker_helmet:"unicode/26d1.png?v8",restroom:"unicode/1f6bb.png?v8",reunion:"unicode/1f1f7-1f1ea.png?v8",revolving_hearts:"unicode/1f49e.png?v8",rewind:"unicode/23ea.png?v8",rhinoceros:"unicode/1f98f.png?v8",ribbon:"unicode/1f380.png?v8",rice:"unicode/1f35a.png?v8",rice_ball:"unicode/1f359.png?v8",rice_cracker:"unicode/1f358.png?v8",rice_scene:"unicode/1f391.png?v8",right_anger_bubble:"unicode/1f5ef.png?v8",ring:"unicode/1f48d.png?v8",ringed_planet:"unicode/1fa90.png?v8",robot:"unicode/1f916.png?v8",rock:"unicode/1faa8.png?v8",rocket:"unicode/1f680.png?v8",rofl:"unicode/1f923.png?v8",roll_eyes:"unicode/1f644.png?v8",roll_of_paper:"unicode/1f9fb.png?v8",roller_coaster:"unicode/1f3a2.png?v8",roller_skate:"unicode/1f6fc.png?v8",romania:"unicode/1f1f7-1f1f4.png?v8",rooster:"unicode/1f413.png?v8",rose:"unicode/1f339.png?v8",rosette:"unicode/1f3f5.png?v8",rotating_light:"unicode/1f6a8.png?v8",round_pushpin:"unicode/1f4cd.png?v8",rowboat:"unicode/1f6a3.png?v8",rowing_man:"unicode/1f6a3-2642.png?v8",rowing_woman:"unicode/1f6a3-2640.png?v8",ru:"unicode/1f1f7-1f1fa.png?v8",rugby_football:"unicode/1f3c9.png?v8",runner:"unicode/1f3c3.png?v8",running:"unicode/1f3c3.png?v8",running_man:"unicode/1f3c3-2642.png?v8",running_shirt_with_sash:"unicode/1f3bd.png?v8",running_woman:"unicode/1f3c3-2640.png?v8",rwanda:"unicode/1f1f7-1f1fc.png?v8",sa:"unicode/1f202.png?v8",safety_pin:"unicode/1f9f7.png?v8",safety_vest:"unicode/1f9ba.png?v8",sagittarius:"unicode/2650.png?v8",sailboat:"unicode/26f5.png?v8",sake:"unicode/1f376.png?v8",salt:"unicode/1f9c2.png?v8",samoa:"unicode/1f1fc-1f1f8.png?v8",san_marino:"unicode/1f1f8-1f1f2.png?v8",sandal:"unicode/1f461.png?v8",sandwich:"unicode/1f96a.png?v8",santa:"unicode/1f385.png?v8",sao_tome_principe:"unicode/1f1f8-1f1f9.png?v8",sari:"unicode/1f97b.png?v8",sassy_man:"unicode/1f481-2642.png?v8",sassy_woman:"unicode/1f481-2640.png?v8",satellite:"unicode/1f4e1.png?v8",satisfied:"unicode/1f606.png?v8",saudi_arabia:"unicode/1f1f8-1f1e6.png?v8",sauna_man:"unicode/1f9d6-2642.png?v8",sauna_person:"unicode/1f9d6.png?v8",sauna_woman:"unicode/1f9d6-2640.png?v8",sauropod:"unicode/1f995.png?v8",saxophone:"unicode/1f3b7.png?v8",scarf:"unicode/1f9e3.png?v8",school:"unicode/1f3eb.png?v8",school_satchel:"unicode/1f392.png?v8",scientist:"unicode/1f9d1-1f52c.png?v8",scissors:"unicode/2702.png?v8",scorpion:"unicode/1f982.png?v8",scorpius:"unicode/264f.png?v8",scotland:"unicode/1f3f4-e0067-e0062-e0073-e0063-e0074-e007f.png?v8",scream:"unicode/1f631.png?v8",scream_cat:"unicode/1f640.png?v8",screwdriver:"unicode/1fa9b.png?v8",scroll:"unicode/1f4dc.png?v8",seal:"unicode/1f9ad.png?v8",seat:"unicode/1f4ba.png?v8",secret:"unicode/3299.png?v8",see_no_evil:"unicode/1f648.png?v8",seedling:"unicode/1f331.png?v8",selfie:"unicode/1f933.png?v8",senegal:"unicode/1f1f8-1f1f3.png?v8",serbia:"unicode/1f1f7-1f1f8.png?v8",service_dog:"unicode/1f415-1f9ba.png?v8",seven:"unicode/0037-20e3.png?v8",sewing_needle:"unicode/1faa1.png?v8",seychelles:"unicode/1f1f8-1f1e8.png?v8",shallow_pan_of_food:"unicode/1f958.png?v8",shamrock:"unicode/2618.png?v8",shark:"unicode/1f988.png?v8",shaved_ice:"unicode/1f367.png?v8",sheep:"unicode/1f411.png?v8",shell:"unicode/1f41a.png?v8",shield:"unicode/1f6e1.png?v8",shinto_shrine:"unicode/26e9.png?v8",ship:"unicode/1f6a2.png?v8",shipit:"shipit.png?v8",shirt:"unicode/1f455.png?v8",shit:"unicode/1f4a9.png?v8",shoe:"unicode/1f45e.png?v8",shopping:"unicode/1f6cd.png?v8",shopping_cart:"unicode/1f6d2.png?v8",shorts:"unicode/1fa73.png?v8",shower:"unicode/1f6bf.png?v8",shrimp:"unicode/1f990.png?v8",shrug:"unicode/1f937.png?v8",shushing_face:"unicode/1f92b.png?v8",sierra_leone:"unicode/1f1f8-1f1f1.png?v8",signal_strength:"unicode/1f4f6.png?v8",singapore:"unicode/1f1f8-1f1ec.png?v8",singer:"unicode/1f9d1-1f3a4.png?v8",sint_maarten:"unicode/1f1f8-1f1fd.png?v8",six:"unicode/0036-20e3.png?v8",six_pointed_star:"unicode/1f52f.png?v8",skateboard:"unicode/1f6f9.png?v8",ski:"unicode/1f3bf.png?v8",skier:"unicode/26f7.png?v8",skull:"unicode/1f480.png?v8",skull_and_crossbones:"unicode/2620.png?v8",skunk:"unicode/1f9a8.png?v8",sled:"unicode/1f6f7.png?v8",sleeping:"unicode/1f634.png?v8",sleeping_bed:"unicode/1f6cc.png?v8",sleepy:"unicode/1f62a.png?v8",slightly_frowning_face:"unicode/1f641.png?v8",slightly_smiling_face:"unicode/1f642.png?v8",slot_machine:"unicode/1f3b0.png?v8",sloth:"unicode/1f9a5.png?v8",slovakia:"unicode/1f1f8-1f1f0.png?v8",slovenia:"unicode/1f1f8-1f1ee.png?v8",small_airplane:"unicode/1f6e9.png?v8",small_blue_diamond:"unicode/1f539.png?v8",small_orange_diamond:"unicode/1f538.png?v8",small_red_triangle:"unicode/1f53a.png?v8",small_red_triangle_down:"unicode/1f53b.png?v8",smile:"unicode/1f604.png?v8",smile_cat:"unicode/1f638.png?v8",smiley:"unicode/1f603.png?v8",smiley_cat:"unicode/1f63a.png?v8",smiling_face_with_tear:"unicode/1f972.png?v8",smiling_face_with_three_hearts:"unicode/1f970.png?v8",smiling_imp:"unicode/1f608.png?v8",smirk:"unicode/1f60f.png?v8",smirk_cat:"unicode/1f63c.png?v8",smoking:"unicode/1f6ac.png?v8",snail:"unicode/1f40c.png?v8",snake:"unicode/1f40d.png?v8",sneezing_face:"unicode/1f927.png?v8",snowboarder:"unicode/1f3c2.png?v8",snowflake:"unicode/2744.png?v8",snowman:"unicode/26c4.png?v8",snowman_with_snow:"unicode/2603.png?v8",soap:"unicode/1f9fc.png?v8",sob:"unicode/1f62d.png?v8",soccer:"unicode/26bd.png?v8",socks:"unicode/1f9e6.png?v8",softball:"unicode/1f94e.png?v8",solomon_islands:"unicode/1f1f8-1f1e7.png?v8",somalia:"unicode/1f1f8-1f1f4.png?v8",soon:"unicode/1f51c.png?v8",sos:"unicode/1f198.png?v8",sound:"unicode/1f509.png?v8",south_africa:"unicode/1f1ff-1f1e6.png?v8",south_georgia_south_sandwich_islands:"unicode/1f1ec-1f1f8.png?v8",south_sudan:"unicode/1f1f8-1f1f8.png?v8",space_invader:"unicode/1f47e.png?v8",spades:"unicode/2660.png?v8",spaghetti:"unicode/1f35d.png?v8",sparkle:"unicode/2747.png?v8",sparkler:"unicode/1f387.png?v8",sparkles:"unicode/2728.png?v8",sparkling_heart:"unicode/1f496.png?v8",speak_no_evil:"unicode/1f64a.png?v8",speaker:"unicode/1f508.png?v8",speaking_head:"unicode/1f5e3.png?v8",speech_balloon:"unicode/1f4ac.png?v8",speedboat:"unicode/1f6a4.png?v8",spider:"unicode/1f577.png?v8",spider_web:"unicode/1f578.png?v8",spiral_calendar:"unicode/1f5d3.png?v8",spiral_notepad:"unicode/1f5d2.png?v8",sponge:"unicode/1f9fd.png?v8",spoon:"unicode/1f944.png?v8",squid:"unicode/1f991.png?v8",sri_lanka:"unicode/1f1f1-1f1f0.png?v8",st_barthelemy:"unicode/1f1e7-1f1f1.png?v8",st_helena:"unicode/1f1f8-1f1ed.png?v8",st_kitts_nevis:"unicode/1f1f0-1f1f3.png?v8",st_lucia:"unicode/1f1f1-1f1e8.png?v8",st_martin:"unicode/1f1f2-1f1eb.png?v8",st_pierre_miquelon:"unicode/1f1f5-1f1f2.png?v8",st_vincent_grenadines:"unicode/1f1fb-1f1e8.png?v8",stadium:"unicode/1f3df.png?v8",standing_man:"unicode/1f9cd-2642.png?v8",standing_person:"unicode/1f9cd.png?v8",standing_woman:"unicode/1f9cd-2640.png?v8",star:"unicode/2b50.png?v8",star2:"unicode/1f31f.png?v8",star_and_crescent:"unicode/262a.png?v8",star_of_david:"unicode/2721.png?v8",star_struck:"unicode/1f929.png?v8",stars:"unicode/1f320.png?v8",station:"unicode/1f689.png?v8",statue_of_liberty:"unicode/1f5fd.png?v8",steam_locomotive:"unicode/1f682.png?v8",stethoscope:"unicode/1fa7a.png?v8",stew:"unicode/1f372.png?v8",stop_button:"unicode/23f9.png?v8",stop_sign:"unicode/1f6d1.png?v8",stopwatch:"unicode/23f1.png?v8",straight_ruler:"unicode/1f4cf.png?v8",strawberry:"unicode/1f353.png?v8",stuck_out_tongue:"unicode/1f61b.png?v8",stuck_out_tongue_closed_eyes:"unicode/1f61d.png?v8",stuck_out_tongue_winking_eye:"unicode/1f61c.png?v8",student:"unicode/1f9d1-1f393.png?v8",studio_microphone:"unicode/1f399.png?v8",stuffed_flatbread:"unicode/1f959.png?v8",sudan:"unicode/1f1f8-1f1e9.png?v8",sun_behind_large_cloud:"unicode/1f325.png?v8",sun_behind_rain_cloud:"unicode/1f326.png?v8",sun_behind_small_cloud:"unicode/1f324.png?v8",sun_with_face:"unicode/1f31e.png?v8",sunflower:"unicode/1f33b.png?v8",sunglasses:"unicode/1f60e.png?v8",sunny:"unicode/2600.png?v8",sunrise:"unicode/1f305.png?v8",sunrise_over_mountains:"unicode/1f304.png?v8",superhero:"unicode/1f9b8.png?v8",superhero_man:"unicode/1f9b8-2642.png?v8",superhero_woman:"unicode/1f9b8-2640.png?v8",supervillain:"unicode/1f9b9.png?v8",supervillain_man:"unicode/1f9b9-2642.png?v8",supervillain_woman:"unicode/1f9b9-2640.png?v8",surfer:"unicode/1f3c4.png?v8",surfing_man:"unicode/1f3c4-2642.png?v8",surfing_woman:"unicode/1f3c4-2640.png?v8",suriname:"unicode/1f1f8-1f1f7.png?v8",sushi:"unicode/1f363.png?v8",suspect:"suspect.png?v8",suspension_railway:"unicode/1f69f.png?v8",svalbard_jan_mayen:"unicode/1f1f8-1f1ef.png?v8",swan:"unicode/1f9a2.png?v8",swaziland:"unicode/1f1f8-1f1ff.png?v8",sweat:"unicode/1f613.png?v8",sweat_drops:"unicode/1f4a6.png?v8",sweat_smile:"unicode/1f605.png?v8",sweden:"unicode/1f1f8-1f1ea.png?v8",sweet_potato:"unicode/1f360.png?v8",swim_brief:"unicode/1fa72.png?v8",swimmer:"unicode/1f3ca.png?v8",swimming_man:"unicode/1f3ca-2642.png?v8",swimming_woman:"unicode/1f3ca-2640.png?v8",switzerland:"unicode/1f1e8-1f1ed.png?v8",symbols:"unicode/1f523.png?v8",synagogue:"unicode/1f54d.png?v8",syria:"unicode/1f1f8-1f1fe.png?v8",syringe:"unicode/1f489.png?v8","t-rex":"unicode/1f996.png?v8",taco:"unicode/1f32e.png?v8",tada:"unicode/1f389.png?v8",taiwan:"unicode/1f1f9-1f1fc.png?v8",tajikistan:"unicode/1f1f9-1f1ef.png?v8",takeout_box:"unicode/1f961.png?v8",tamale:"unicode/1fad4.png?v8",tanabata_tree:"unicode/1f38b.png?v8",tangerine:"unicode/1f34a.png?v8",tanzania:"unicode/1f1f9-1f1ff.png?v8",taurus:"unicode/2649.png?v8",taxi:"unicode/1f695.png?v8",tea:"unicode/1f375.png?v8",teacher:"unicode/1f9d1-1f3eb.png?v8",teapot:"unicode/1fad6.png?v8",technologist:"unicode/1f9d1-1f4bb.png?v8",teddy_bear:"unicode/1f9f8.png?v8",telephone:"unicode/260e.png?v8",telephone_receiver:"unicode/1f4de.png?v8",telescope:"unicode/1f52d.png?v8",tennis:"unicode/1f3be.png?v8",tent:"unicode/26fa.png?v8",test_tube:"unicode/1f9ea.png?v8",thailand:"unicode/1f1f9-1f1ed.png?v8",thermometer:"unicode/1f321.png?v8",thinking:"unicode/1f914.png?v8",thong_sandal:"unicode/1fa74.png?v8",thought_balloon:"unicode/1f4ad.png?v8",thread:"unicode/1f9f5.png?v8",three:"unicode/0033-20e3.png?v8",thumbsdown:"unicode/1f44e.png?v8",thumbsup:"unicode/1f44d.png?v8",ticket:"unicode/1f3ab.png?v8",tickets:"unicode/1f39f.png?v8",tiger:"unicode/1f42f.png?v8",tiger2:"unicode/1f405.png?v8",timer_clock:"unicode/23f2.png?v8",timor_leste:"unicode/1f1f9-1f1f1.png?v8",tipping_hand_man:"unicode/1f481-2642.png?v8",tipping_hand_person:"unicode/1f481.png?v8",tipping_hand_woman:"unicode/1f481-2640.png?v8",tired_face:"unicode/1f62b.png?v8",tm:"unicode/2122.png?v8",togo:"unicode/1f1f9-1f1ec.png?v8",toilet:"unicode/1f6bd.png?v8",tokelau:"unicode/1f1f9-1f1f0.png?v8",tokyo_tower:"unicode/1f5fc.png?v8",tomato:"unicode/1f345.png?v8",tonga:"unicode/1f1f9-1f1f4.png?v8",tongue:"unicode/1f445.png?v8",toolbox:"unicode/1f9f0.png?v8",tooth:"unicode/1f9b7.png?v8",toothbrush:"unicode/1faa5.png?v8",top:"unicode/1f51d.png?v8",tophat:"unicode/1f3a9.png?v8",tornado:"unicode/1f32a.png?v8",tr:"unicode/1f1f9-1f1f7.png?v8",trackball:"unicode/1f5b2.png?v8",tractor:"unicode/1f69c.png?v8",traffic_light:"unicode/1f6a5.png?v8",train:"unicode/1f68b.png?v8",train2:"unicode/1f686.png?v8",tram:"unicode/1f68a.png?v8",transgender_flag:"unicode/1f3f3-26a7.png?v8",transgender_symbol:"unicode/26a7.png?v8",triangular_flag_on_post:"unicode/1f6a9.png?v8",triangular_ruler:"unicode/1f4d0.png?v8",trident:"unicode/1f531.png?v8",trinidad_tobago:"unicode/1f1f9-1f1f9.png?v8",tristan_da_cunha:"unicode/1f1f9-1f1e6.png?v8",triumph:"unicode/1f624.png?v8",trolleybus:"unicode/1f68e.png?v8",trollface:"trollface.png?v8",trophy:"unicode/1f3c6.png?v8",tropical_drink:"unicode/1f379.png?v8",tropical_fish:"unicode/1f420.png?v8",truck:"unicode/1f69a.png?v8",trumpet:"unicode/1f3ba.png?v8",tshirt:"unicode/1f455.png?v8",tulip:"unicode/1f337.png?v8",tumbler_glass:"unicode/1f943.png?v8",tunisia:"unicode/1f1f9-1f1f3.png?v8",turkey:"unicode/1f983.png?v8",turkmenistan:"unicode/1f1f9-1f1f2.png?v8",turks_caicos_islands:"unicode/1f1f9-1f1e8.png?v8",turtle:"unicode/1f422.png?v8",tuvalu:"unicode/1f1f9-1f1fb.png?v8",tv:"unicode/1f4fa.png?v8",twisted_rightwards_arrows:"unicode/1f500.png?v8",two:"unicode/0032-20e3.png?v8",two_hearts:"unicode/1f495.png?v8",two_men_holding_hands:"unicode/1f46c.png?v8",two_women_holding_hands:"unicode/1f46d.png?v8",u5272:"unicode/1f239.png?v8",u5408:"unicode/1f234.png?v8",u55b6:"unicode/1f23a.png?v8",u6307:"unicode/1f22f.png?v8",u6708:"unicode/1f237.png?v8",u6709:"unicode/1f236.png?v8",u6e80:"unicode/1f235.png?v8",u7121:"unicode/1f21a.png?v8",u7533:"unicode/1f238.png?v8",u7981:"unicode/1f232.png?v8",u7a7a:"unicode/1f233.png?v8",uganda:"unicode/1f1fa-1f1ec.png?v8",uk:"unicode/1f1ec-1f1e7.png?v8",ukraine:"unicode/1f1fa-1f1e6.png?v8",umbrella:"unicode/2614.png?v8",unamused:"unicode/1f612.png?v8",underage:"unicode/1f51e.png?v8",unicorn:"unicode/1f984.png?v8",united_arab_emirates:"unicode/1f1e6-1f1ea.png?v8",united_nations:"unicode/1f1fa-1f1f3.png?v8",unlock:"unicode/1f513.png?v8",up:"unicode/1f199.png?v8",upside_down_face:"unicode/1f643.png?v8",uruguay:"unicode/1f1fa-1f1fe.png?v8",us:"unicode/1f1fa-1f1f8.png?v8",us_outlying_islands:"unicode/1f1fa-1f1f2.png?v8",us_virgin_islands:"unicode/1f1fb-1f1ee.png?v8",uzbekistan:"unicode/1f1fa-1f1ff.png?v8",v:"unicode/270c.png?v8",vampire:"unicode/1f9db.png?v8",vampire_man:"unicode/1f9db-2642.png?v8",vampire_woman:"unicode/1f9db-2640.png?v8",vanuatu:"unicode/1f1fb-1f1fa.png?v8",vatican_city:"unicode/1f1fb-1f1e6.png?v8",venezuela:"unicode/1f1fb-1f1ea.png?v8",vertical_traffic_light:"unicode/1f6a6.png?v8",vhs:"unicode/1f4fc.png?v8",vibration_mode:"unicode/1f4f3.png?v8",video_camera:"unicode/1f4f9.png?v8",video_game:"unicode/1f3ae.png?v8",vietnam:"unicode/1f1fb-1f1f3.png?v8",violin:"unicode/1f3bb.png?v8",virgo:"unicode/264d.png?v8",volcano:"unicode/1f30b.png?v8",volleyball:"unicode/1f3d0.png?v8",vomiting_face:"unicode/1f92e.png?v8",vs:"unicode/1f19a.png?v8",vulcan_salute:"unicode/1f596.png?v8",waffle:"unicode/1f9c7.png?v8",wales:"unicode/1f3f4-e0067-e0062-e0077-e006c-e0073-e007f.png?v8",walking:"unicode/1f6b6.png?v8",walking_man:"unicode/1f6b6-2642.png?v8",walking_woman:"unicode/1f6b6-2640.png?v8",wallis_futuna:"unicode/1f1fc-1f1eb.png?v8",waning_crescent_moon:"unicode/1f318.png?v8",waning_gibbous_moon:"unicode/1f316.png?v8",warning:"unicode/26a0.png?v8",wastebasket:"unicode/1f5d1.png?v8",watch:"unicode/231a.png?v8",water_buffalo:"unicode/1f403.png?v8",water_polo:"unicode/1f93d.png?v8",watermelon:"unicode/1f349.png?v8",wave:"unicode/1f44b.png?v8",wavy_dash:"unicode/3030.png?v8",waxing_crescent_moon:"unicode/1f312.png?v8",waxing_gibbous_moon:"unicode/1f314.png?v8",wc:"unicode/1f6be.png?v8",weary:"unicode/1f629.png?v8",wedding:"unicode/1f492.png?v8",weight_lifting:"unicode/1f3cb.png?v8",weight_lifting_man:"unicode/1f3cb-2642.png?v8",weight_lifting_woman:"unicode/1f3cb-2640.png?v8",western_sahara:"unicode/1f1ea-1f1ed.png?v8",whale:"unicode/1f433.png?v8",whale2:"unicode/1f40b.png?v8",wheel_of_dharma:"unicode/2638.png?v8",wheelchair:"unicode/267f.png?v8",white_check_mark:"unicode/2705.png?v8",white_circle:"unicode/26aa.png?v8",white_flag:"unicode/1f3f3.png?v8",white_flower:"unicode/1f4ae.png?v8",white_haired_man:"unicode/1f468-1f9b3.png?v8",white_haired_woman:"unicode/1f469-1f9b3.png?v8",white_heart:"unicode/1f90d.png?v8",white_large_square:"unicode/2b1c.png?v8",white_medium_small_square:"unicode/25fd.png?v8",white_medium_square:"unicode/25fb.png?v8",white_small_square:"unicode/25ab.png?v8",white_square_button:"unicode/1f533.png?v8",wilted_flower:"unicode/1f940.png?v8",wind_chime:"unicode/1f390.png?v8",wind_face:"unicode/1f32c.png?v8",window:"unicode/1fa9f.png?v8",wine_glass:"unicode/1f377.png?v8",wink:"unicode/1f609.png?v8",wolf:"unicode/1f43a.png?v8",woman:"unicode/1f469.png?v8",woman_artist:"unicode/1f469-1f3a8.png?v8",woman_astronaut:"unicode/1f469-1f680.png?v8",woman_beard:"unicode/1f9d4-2640.png?v8",woman_cartwheeling:"unicode/1f938-2640.png?v8",woman_cook:"unicode/1f469-1f373.png?v8",woman_dancing:"unicode/1f483.png?v8",woman_facepalming:"unicode/1f926-2640.png?v8",woman_factory_worker:"unicode/1f469-1f3ed.png?v8",woman_farmer:"unicode/1f469-1f33e.png?v8",woman_feeding_baby:"unicode/1f469-1f37c.png?v8",woman_firefighter:"unicode/1f469-1f692.png?v8",woman_health_worker:"unicode/1f469-2695.png?v8",woman_in_manual_wheelchair:"unicode/1f469-1f9bd.png?v8",woman_in_motorized_wheelchair:"unicode/1f469-1f9bc.png?v8",woman_in_tuxedo:"unicode/1f935-2640.png?v8",woman_judge:"unicode/1f469-2696.png?v8",woman_juggling:"unicode/1f939-2640.png?v8",woman_mechanic:"unicode/1f469-1f527.png?v8",woman_office_worker:"unicode/1f469-1f4bc.png?v8",woman_pilot:"unicode/1f469-2708.png?v8",woman_playing_handball:"unicode/1f93e-2640.png?v8",woman_playing_water_polo:"unicode/1f93d-2640.png?v8",woman_scientist:"unicode/1f469-1f52c.png?v8",woman_shrugging:"unicode/1f937-2640.png?v8",woman_singer:"unicode/1f469-1f3a4.png?v8",woman_student:"unicode/1f469-1f393.png?v8",woman_teacher:"unicode/1f469-1f3eb.png?v8",woman_technologist:"unicode/1f469-1f4bb.png?v8",woman_with_headscarf:"unicode/1f9d5.png?v8",woman_with_probing_cane:"unicode/1f469-1f9af.png?v8",woman_with_turban:"unicode/1f473-2640.png?v8",woman_with_veil:"unicode/1f470-2640.png?v8",womans_clothes:"unicode/1f45a.png?v8",womans_hat:"unicode/1f452.png?v8",women_wrestling:"unicode/1f93c-2640.png?v8",womens:"unicode/1f6ba.png?v8",wood:"unicode/1fab5.png?v8",woozy_face:"unicode/1f974.png?v8",world_map:"unicode/1f5fa.png?v8",worm:"unicode/1fab1.png?v8",worried:"unicode/1f61f.png?v8",wrench:"unicode/1f527.png?v8",wrestling:"unicode/1f93c.png?v8",writing_hand:"unicode/270d.png?v8",x:"unicode/274c.png?v8",yarn:"unicode/1f9f6.png?v8",yawning_face:"unicode/1f971.png?v8",yellow_circle:"unicode/1f7e1.png?v8",yellow_heart:"unicode/1f49b.png?v8",yellow_square:"unicode/1f7e8.png?v8",yemen:"unicode/1f1fe-1f1ea.png?v8",yen:"unicode/1f4b4.png?v8",yin_yang:"unicode/262f.png?v8",yo_yo:"unicode/1fa80.png?v8",yum:"unicode/1f60b.png?v8",zambia:"unicode/1f1ff-1f1f2.png?v8",zany_face:"unicode/1f92a.png?v8",zap:"unicode/26a1.png?v8",zebra:"unicode/1f993.png?v8",zero:"unicode/0030-20e3.png?v8",zimbabwe:"unicode/1f1ff-1f1fc.png?v8",zipper_mouth_face:"unicode/1f910.png?v8",zombie:"unicode/1f9df.png?v8",zombie_man:"unicode/1f9df-2642.png?v8",zombie_woman:"unicode/1f9df-2640.png?v8",zzz:"unicode/1f4a4.png?v8"}};function Nt(e,t){return e.replace(/<(code|pre|script|template)[^>]*?>[\s\S]+?<\/(code|pre|script|template)>/g,function(e){return e.replace(/:/g,"__colon__")}).replace(/<!--[\s\S]+?-->/g,function(e){return e.replace(/:/g,"__colon__")}).replace(/([a-z]{2,}:)?\/\/[^\s'">)]+/gi,function(e){return e.replace(/:/g,"__colon__")}).replace(/:([a-z0-9_\-+]+?):/g,function(e,n){return function(e,t,n){var i=jt.data[t],r=e;return i&&(r=n&&/unicode/.test(i)?'<span class="emoji">'+i.replace("unicode/","").replace(/\.png.*/,"").split("-").map(function(e){return"&#x"+e+";"}).join("&zwj;").concat("&#xFE0E;")+"</span>":'<img src="'+jt.baseURL+i+'.png" alt="'+t+'" class="emoji" loading="lazy">'),r}(e,n,t)}).replace(/__colon__/g,":")}function $t(e){void 0===e&&(e="");var t={};return e&&(e=e.replace(/^('|")/,"").replace(/('|")$/,"").replace(/(?:^|\s):([\w-]+:?)=?([\w-%]+)?/g,function(e,n,i){return-1===n.indexOf(":")?(t[n]=i&&i.replace(/&quot;/g,"")||!0,""):e}).trim()),{str:e,config:t}}function Bt(e){return void 0===e&&(e=""),e.replace(/(<\/?a.*?>)/gi,"")}var Gt=_e(function(e){var t=function(e){var t=/(?:^|\s)lang(?:uage)?-([\w-]+)(?=\s|$)/i,n=0,i={},r={manual:e.Prism&&e.Prism.manual,disableWorkerMessageHandler:e.Prism&&e.Prism.disableWorkerMessageHandler,util:{encode:function e(t){return t instanceof o?new o(t.type,e(t.content),t.alias):Array.isArray(t)?t.map(e):t.replace(/&/g,"&amp;").replace(/</g,"&lt;").replace(/\u00a0/g," ")},type:function(e){return Object.prototype.toString.call(e).slice(8,-1)},objId:function(e){return e.__id||Object.defineProperty(e,"__id",{value:++n}),e.__id},clone:function e(t,n){var i,o;switch(n=n||{},r.util.type(t)){case"Object":if(o=r.util.objId(t),n[o])return n[o];for(var s in i={},n[o]=i,t)t.hasOwnProperty(s)&&(i[s]=e(t[s],n));return i;case"Array":return o=r.util.objId(t),n[o]?n[o]:(i=[],n[o]=i,t.forEach(function(t,r){i[r]=e(t,n)}),i);default:return t}},getLanguage:function(e){for(;e;){var n=t.exec(e.className);if(n)return n[1].toLowerCase();e=e.parentElement}return"none"},setLanguage:function(e,n){e.className=e.className.replace(RegExp(t,"gi"),""),e.classList.add("language-"+n)},currentScript:function(){if("undefined"==typeof document)return null;if("currentScript"in document)return document.currentScript;try{throw new Error}catch(i){var e=(/at [^(\r\n]*\((.*):[^:]+:[^:]+\)$/i.exec(i.stack)||[])[1];if(e){var t=document.getElementsByTagName("script");for(var n in t)if(t[n].src==e)return t[n]}return null}},isActive:function(e,t,n){for(var i="no-"+t;e;){var r=e.classList;if(r.contains(t))return!0;if(r.contains(i))return!1;e=e.parentElement}return!!n}},languages:{plain:i,plaintext:i,text:i,txt:i,extend:function(e,t){var n=r.util.clone(r.languages[e]);for(var i in t)n[i]=t[i];return n},insertBefore:function(e,t,n,i){var o=(i=i||r.languages)[e],s={};for(var a in o)if(o.hasOwnProperty(a)){if(a==t)for(var l in n)n.hasOwnProperty(l)&&(s[l]=n[l]);n.hasOwnProperty(a)||(s[a]=o[a])}var c=i[e];return i[e]=s,r.languages.DFS(r.languages,function(t,n){n===c&&t!=e&&(this[t]=s)}),s},DFS:function e(t,n,i,o){o=o||{};var s=r.util.objId;for(var a in t)if(t.hasOwnProperty(a)){n.call(t,a,t[a],i||a);var l=t[a],c=r.util.type(l);"Object"!==c||o[s(l)]?"Array"!==c||o[s(l)]||(o[s(l)]=!0,e(l,n,a,o)):(o[s(l)]=!0,e(l,n,null,o))}}},plugins:{},highlightAll:function(e,t){r.highlightAllUnder(document,e,t)},highlightAllUnder:function(e,t,n){var i={callback:n,container:e,selector:'code[class*="language-"], [class*="language-"] code, code[class*="lang-"], [class*="lang-"] code'};r.hooks.run("before-highlightall",i),i.elements=Array.prototype.slice.apply(i.container.querySelectorAll(i.selector)),r.hooks.run("before-all-elements-highlight",i);for(var o,s=0;o=i.elements[s++];)r.highlightElement(o,!0===t,i.callback)},highlightElement:function(t,n,i){var o=r.util.getLanguage(t),s=r.languages[o];r.util.setLanguage(t,o);var a=t.parentElement;a&&"pre"===a.nodeName.toLowerCase()&&r.util.setLanguage(a,o);var l={element:t,language:o,grammar:s,code:t.textContent};function c(e){l.highlightedCode=e,r.hooks.run("before-insert",l),l.element.innerHTML=l.highlightedCode,r.hooks.run("after-highlight",l),r.hooks.run("complete",l),i&&i.call(l.element)}if(r.hooks.run("before-sanity-check",l),(a=l.element.parentElement)&&"pre"===a.nodeName.toLowerCase()&&!a.hasAttribute("tabindex")&&a.setAttribute("tabindex","0"),!l.code)return r.hooks.run("complete",l),void(i&&i.call(l.element));if(r.hooks.run("before-highlight",l),l.grammar)if(n&&e.Worker){var u=new Worker(r.filename);u.onmessage=function(e){c(e.data)},u.postMessage(JSON.stringify({language:l.language,code:l.code,immediateClose:!0}))}else c(r.highlight(l.code,l.grammar,l.language));else c(r.util.encode(l.code))},highlight:function(e,t,n){var i={code:e,grammar:t,language:n};if(r.hooks.run("before-tokenize",i),!i.grammar)throw new Error('The language "'+i.language+'" has no grammar.');return i.tokens=r.tokenize(i.code,i.grammar),r.hooks.run("after-tokenize",i),o.stringify(r.util.encode(i.tokens),i.language)},tokenize:function(e,t){var n=t.rest;if(n){for(var i in n)t[i]=n[i];delete t.rest}var r=new l;return c(r,r.head,e),a(e,r,t,r.head,0),function(e){var t=[],n=e.head.next;for(;n!==e.tail;)t.push(n.value),n=n.next;return t}(r)},hooks:{all:{},add:function(e,t){var n=r.hooks.all;n[e]=n[e]||[],n[e].push(t)},run:function(e,t){var n=r.hooks.all[e];if(n&&n.length)for(var i,o=0;i=n[o++];)i(t)}},Token:o};function o(e,t,n,i){this.type=e,this.content=t,this.alias=n,this.length=0|(i||"").length}function s(e,t,n,i){e.lastIndex=t;var r=e.exec(n);if(r&&i&&r[1]){var o=r[1].length;r.index+=o,r[0]=r[0].slice(o)}return r}function a(e,t,n,i,l,h){for(var d in n)if(n.hasOwnProperty(d)&&n[d]){var p=n[d];p=Array.isArray(p)?p:[p];for(var f=0;f<p.length;++f){if(h&&h.cause==d+","+f)return;var g=p[f],m=g.inside,v=!!g.lookbehind,_=!!g.greedy,y=g.alias;if(_&&!g.pattern.global){var x=g.pattern.toString().match(/[imsuy]*$/)[0];g.pattern=RegExp(g.pattern.source,x+"g")}for(var b=g.pattern||g,w=i.next,k=l;w!==t.tail&&!(h&&k>=h.reach);k+=w.value.length,w=w.next){var S=w.value;if(t.length>e.length)return;if(!(S instanceof o)){var C,E=1;if(_){if(!(C=s(b,k,e,v))||C.index>=e.length)break;var T=C.index,R=C.index+C[0].length,M=k;for(M+=w.value.length;T>=M;)M+=(w=w.next).value.length;if(k=M-=w.value.length,w.value instanceof o)continue;for(var I=w;I!==t.tail&&(M<R||"string"==typeof I.value);I=I.next)E++,M+=I.value.length;E--,S=e.slice(k,M),C.index-=k}else if(!(C=s(b,0,S,v)))continue;T=C.index;var A=C[0],P=S.slice(0,T),F=S.slice(T+A.length),L=k+S.length;h&&L>h.reach&&(h.reach=L);var z=w.prev;if(P&&(z=c(t,z,P),k+=P.length),u(t,z,E),w=c(t,z,new o(d,m?r.tokenize(A,m):A,y,A)),F&&c(t,w,F),E>1){var O={cause:d+","+f,reach:L};a(e,t,n,w.prev,k,O),h&&O.reach>h.reach&&(h.reach=O.reach)}}}}}}function l(){var e={value:null,prev:null,next:null},t={value:null,prev:e,next:null};e.next=t,this.head=e,this.tail=t,this.length=0}function c(e,t,n){var i=t.next,r={value:n,prev:t,next:i};return t.next=r,i.prev=r,e.length++,r}function u(e,t,n){for(var i=t.next,r=0;r<n&&i!==e.tail;r++)i=i.next;t.next=i,i.prev=t,e.length-=r}if(e.Prism=r,o.stringify=function e(t,n){if("string"==typeof t)return t;if(Array.isArray(t)){var i="";return t.forEach(function(t){i+=e(t,n)}),i}var o={type:t.type,content:e(t.content,n),tag:"span",classes:["token",t.type],attributes:{},language:n},s=t.alias;s&&(Array.isArray(s)?Array.prototype.push.apply(o.classes,s):o.classes.push(s)),r.hooks.run("wrap",o);var a="";for(var l in o.attributes)a+=" "+l+'="'+(o.attributes[l]||"").replace(/"/g,"&quot;")+'"';return"<"+o.tag+' class="'+o.classes.join(" ")+'"'+a+">"+o.content+"</"+o.tag+">"},!e.document)return e.addEventListener?(r.disableWorkerMessageHandler||e.addEventListener("message",function(t){var n=JSON.parse(t.data),i=n.language,o=n.code,s=n.immediateClose;e.postMessage(r.highlight(o,r.languages[i],i)),s&&e.close()},!1),r):r;var h=r.util.currentScript();function d(){r.manual||r.highlightAll()}if(h&&(r.filename=h.src,h.hasAttribute("data-manual")&&(r.manual=!0)),!r.manual){var p=document.readyState;"loading"===p||"interactive"===p&&h&&h.defer?document.addEventListener("DOMContentLoaded",d):window.requestAnimationFrame?window.requestAnimationFrame(d):window.setTimeout(d,16)}return r}("undefined"!=typeof window?window:"undefined"!=typeof WorkerGlobalScope&&self instanceof WorkerGlobalScope?self:{});
/**
       * Prism: Lightweight, robust, elegant syntax highlighting
       *
       * @license MIT <https://opensource.org/licenses/MIT>
       * @author Lea Verou <https://lea.verou.me>
       * @namespace
       * @public
       */e.exports&&(e.exports=t),void 0!==ve&&(ve.Prism=t),t.languages.markup={comment:{pattern:/<!--(?:(?!<!--)[\s\S])*?-->/,greedy:!0},prolog:{pattern:/<\?[\s\S]+?\?>/,greedy:!0},doctype:{pattern:/<!DOCTYPE(?:[^>"'[\]]|"[^"]*"|'[^']*')+(?:\[(?:[^<"'\]]|"[^"]*"|'[^']*'|<(?!!--)|<!--(?:[^-]|-(?!->))*-->)*\]\s*)?>/i,greedy:!0,inside:{"internal-subset":{pattern:/(^[^\[]*\[)[\s\S]+(?=\]>$)/,lookbehind:!0,greedy:!0,inside:null},string:{pattern:/"[^"]*"|'[^']*'/,greedy:!0},punctuation:/^<!|>$|[[\]]/,"doctype-tag":/^DOCTYPE/i,name:/[^\s<>'"]+/}},cdata:{pattern:/<!\[CDATA\[[\s\S]*?\]\]>/i,greedy:!0},tag:{pattern:/<\/?(?!\d)[^\s>\/=$<%]+(?:\s(?:\s*[^\s>\/=]+(?:\s*=\s*(?:"[^"]*"|'[^']*'|[^\s'">=]+(?=[\s>]))|(?=[\s/>])))+)?\s*\/?>/,greedy:!0,inside:{tag:{pattern:/^<\/?[^\s>\/]+/,inside:{punctuation:/^<\/?/,namespace:/^[^\s>\/:]+:/}},"special-attr":[],"attr-value":{pattern:/=\s*(?:"[^"]*"|'[^']*'|[^\s'">=]+)/,inside:{punctuation:[{pattern:/^=/,alias:"attr-equals"},{pattern:/^(\s*)["']|["']$/,lookbehind:!0}]}},punctuation:/\/?>/,"attr-name":{pattern:/[^\s>\/]+/,inside:{namespace:/^[^\s>\/:]+:/}}}},entity:[{pattern:/&[\da-z]{1,8};/i,alias:"named-entity"},/&#x?[\da-f]{1,8};/i]},t.languages.markup.tag.inside["attr-value"].inside.entity=t.languages.markup.entity,t.languages.markup.doctype.inside["internal-subset"].inside=t.languages.markup,t.hooks.add("wrap",function(e){"entity"===e.type&&(e.attributes.title=e.content.replace(/&amp;/,"&"))}),Object.defineProperty(t.languages.markup.tag,"addInlined",{value:function(e,n){var i={};i["language-"+n]={pattern:/(^<!\[CDATA\[)[\s\S]+?(?=\]\]>$)/i,lookbehind:!0,inside:t.languages[n]},i.cdata=/^<!\[CDATA\[|\]\]>$/i;var r={"included-cdata":{pattern:/<!\[CDATA\[[\s\S]*?\]\]>/i,inside:i}};r["language-"+n]={pattern:/[\s\S]+/,inside:t.languages[n]};var o={};o[e]={pattern:RegExp(/(<__[^>]*>)(?:<!\[CDATA\[(?:[^\]]|\](?!\]>))*\]\]>|(?!<!\[CDATA\[)[\s\S])*?(?=<\/__>)/.source.replace(/__/g,function(){return e}),"i"),lookbehind:!0,greedy:!0,inside:r},t.languages.insertBefore("markup","cdata",o)}}),Object.defineProperty(t.languages.markup.tag,"addAttribute",{value:function(e,n){t.languages.markup.tag.inside["special-attr"].push({pattern:RegExp(/(^|["'\s])/.source+"(?:"+e+")"+/\s*=\s*(?:"[^"]*"|'[^']*'|[^\s'">=]+(?=[\s>]))/.source,"i"),lookbehind:!0,inside:{"attr-name":/^[^\s=]+/,"attr-value":{pattern:/=[\s\S]+/,inside:{value:{pattern:/(^=\s*(["']|(?!["'])))\S[\s\S]*(?=\2$)/,lookbehind:!0,alias:[n,"language-"+n],inside:t.languages[n]},punctuation:[{pattern:/^=/,alias:"attr-equals"},/"|'/]}}}})}}),t.languages.html=t.languages.markup,t.languages.mathml=t.languages.markup,t.languages.svg=t.languages.markup,t.languages.xml=t.languages.extend("markup",{}),t.languages.ssml=t.languages.xml,t.languages.atom=t.languages.xml,t.languages.rss=t.languages.xml,function(e){var t=/(?:"(?:\\(?:\r\n|[\s\S])|[^"\\\r\n])*"|'(?:\\(?:\r\n|[\s\S])|[^'\\\r\n])*')/;e.languages.css={comment:/\/\*[\s\S]*?\*\//,atrule:{pattern:RegExp("@[\\w-](?:"+/[^;{\s"']|\s+(?!\s)/.source+"|"+t.source+")*?"+/(?:;|(?=\s*\{))/.source),inside:{rule:/^@[\w-]+/,"selector-function-argument":{pattern:/(\bselector\s*\(\s*(?![\s)]))(?:[^()\s]|\s+(?![\s)])|\((?:[^()]|\([^()]*\))*\))+(?=\s*\))/,lookbehind:!0,alias:"selector"},keyword:{pattern:/(^|[^\w-])(?:and|not|only|or)(?![\w-])/,lookbehind:!0}}},url:{pattern:RegExp("\\burl\\((?:"+t.source+"|"+/(?:[^\\\r\n()"']|\\[\s\S])*/.source+")\\)","i"),greedy:!0,inside:{function:/^url/i,punctuation:/^\(|\)$/,string:{pattern:RegExp("^"+t.source+"$"),alias:"url"}}},selector:{pattern:RegExp("(^|[{}\\s])[^{}\\s](?:[^{};\"'\\s]|\\s+(?![\\s{])|"+t.source+")*(?=\\s*\\{)"),lookbehind:!0},string:{pattern:t,greedy:!0},property:{pattern:/(^|[^-\w\xA0-\uFFFF])(?!\s)[-_a-z\xA0-\uFFFF](?:(?!\s)[-\w\xA0-\uFFFF])*(?=\s*:)/i,lookbehind:!0},important:/!important\b/i,function:{pattern:/(^|[^-a-z0-9])[-a-z0-9]+(?=\()/i,lookbehind:!0},punctuation:/[(){};:,]/},e.languages.css.atrule.inside.rest=e.languages.css;var n=e.languages.markup;n&&(n.tag.addInlined("style","css"),n.tag.addAttribute("style","css"))}(t),t.languages.clike={comment:[{pattern:/(^|[^\\])\/\*[\s\S]*?(?:\*\/|$)/,lookbehind:!0,greedy:!0},{pattern:/(^|[^\\:])\/\/.*/,lookbehind:!0,greedy:!0}],string:{pattern:/(["'])(?:\\(?:\r\n|[\s\S])|(?!\1)[^\\\r\n])*\1/,greedy:!0},"class-name":{pattern:/(\b(?:class|extends|implements|instanceof|interface|new|trait)\s+|\bcatch\s+\()[\w.\\]+/i,lookbehind:!0,inside:{punctuation:/[.\\]/}},keyword:/\b(?:break|catch|continue|do|else|finally|for|function|if|in|instanceof|new|null|return|throw|try|while)\b/,boolean:/\b(?:false|true)\b/,function:/\b\w+(?=\()/,number:/\b0x[\da-f]+\b|(?:\b\d+(?:\.\d*)?|\B\.\d+)(?:e[+-]?\d+)?/i,operator:/[<>]=?|[!=]=?=?|--?|\+\+?|&&?|\|\|?|[?*/~^%]/,punctuation:/[{}[\];(),.:]/},t.languages.javascript=t.languages.extend("clike",{"class-name":[t.languages.clike["class-name"],{pattern:/(^|[^$\w\xA0-\uFFFF])(?!\s)[_$A-Z\xA0-\uFFFF](?:(?!\s)[$\w\xA0-\uFFFF])*(?=\.(?:constructor|prototype))/,lookbehind:!0}],keyword:[{pattern:/((?:^|\})\s*)catch\b/,lookbehind:!0},{pattern:/(^|[^.]|\.\.\.\s*)\b(?:as|assert(?=\s*\{)|async(?=\s*(?:function\b|\(|[$\w\xA0-\uFFFF]|$))|await|break|case|class|const|continue|debugger|default|delete|do|else|enum|export|extends|finally(?=\s*(?:\{|$))|for|from(?=\s*(?:['"]|$))|function|(?:get|set)(?=\s*(?:[#\[$\w\xA0-\uFFFF]|$))|if|implements|import|in|instanceof|interface|let|new|null|of|package|private|protected|public|return|static|super|switch|this|throw|try|typeof|undefined|var|void|while|with|yield)\b/,lookbehind:!0}],function:/#?(?!\s)[_$a-zA-Z\xA0-\uFFFF](?:(?!\s)[$\w\xA0-\uFFFF])*(?=\s*(?:\.\s*(?:apply|bind|call)\s*)?\()/,number:{pattern:RegExp(/(^|[^\w$])/.source+"(?:"+/NaN|Infinity/.source+"|"+/0[bB][01]+(?:_[01]+)*n?/.source+"|"+/0[oO][0-7]+(?:_[0-7]+)*n?/.source+"|"+/0[xX][\dA-Fa-f]+(?:_[\dA-Fa-f]+)*n?/.source+"|"+/\d+(?:_\d+)*n/.source+"|"+/(?:\d+(?:_\d+)*(?:\.(?:\d+(?:_\d+)*)?)?|\.\d+(?:_\d+)*)(?:[Ee][+-]?\d+(?:_\d+)*)?/.source+")"+/(?![\w$])/.source),lookbehind:!0},operator:/--|\+\+|\*\*=?|=>|&&=?|\|\|=?|[!=]==|<<=?|>>>?=?|[-+*/%&|^!=<>]=?|\.{3}|\?\?=?|\?\.?|[~:]/}),t.languages.javascript["class-name"][0].pattern=/(\b(?:class|extends|implements|instanceof|interface|new)\s+)[\w.\\]+/,t.languages.insertBefore("javascript","keyword",{regex:{pattern:RegExp(/((?:^|[^$\w\xA0-\uFFFF."'\])\s]|\b(?:return|yield))\s*)/.source+/\//.source+"(?:"+/(?:\[(?:[^\]\\\r\n]|\\.)*\]|\\.|[^/\\\[\r\n])+\/[dgimyus]{0,7}/.source+"|"+/(?:\[(?:[^[\]\\\r\n]|\\.|\[(?:[^[\]\\\r\n]|\\.|\[(?:[^[\]\\\r\n]|\\.)*\])*\])*\]|\\.|[^/\\\[\r\n])+\/[dgimyus]{0,7}v[dgimyus]{0,7}/.source+")"+/(?=(?:\s|\/\*(?:[^*]|\*(?!\/))*\*\/)*(?:$|[\r\n,.;:})\]]|\/\/))/.source),lookbehind:!0,greedy:!0,inside:{"regex-source":{pattern:/^(\/)[\s\S]+(?=\/[a-z]*$)/,lookbehind:!0,alias:"language-regex",inside:t.languages.regex},"regex-delimiter":/^\/|\/$/,"regex-flags":/^[a-z]+$/}},"function-variable":{pattern:/#?(?!\s)[_$a-zA-Z\xA0-\uFFFF](?:(?!\s)[$\w\xA0-\uFFFF])*(?=\s*[=:]\s*(?:async\s*)?(?:\bfunction\b|(?:\((?:[^()]|\([^()]*\))*\)|(?!\s)[_$a-zA-Z\xA0-\uFFFF](?:(?!\s)[$\w\xA0-\uFFFF])*)\s*=>))/,alias:"function"},parameter:[{pattern:/(function(?:\s+(?!\s)[_$a-zA-Z\xA0-\uFFFF](?:(?!\s)[$\w\xA0-\uFFFF])*)?\s*\(\s*)(?!\s)(?:[^()\s]|\s+(?![\s)])|\([^()]*\))+(?=\s*\))/,lookbehind:!0,inside:t.languages.javascript},{pattern:/(^|[^$\w\xA0-\uFFFF])(?!\s)[_$a-z\xA0-\uFFFF](?:(?!\s)[$\w\xA0-\uFFFF])*(?=\s*=>)/i,lookbehind:!0,inside:t.languages.javascript},{pattern:/(\(\s*)(?!\s)(?:[^()\s]|\s+(?![\s)])|\([^()]*\))+(?=\s*\)\s*=>)/,lookbehind:!0,inside:t.languages.javascript},{pattern:/((?:\b|\s|^)(?!(?:as|async|await|break|case|catch|class|const|continue|debugger|default|delete|do|else|enum|export|extends|finally|for|from|function|get|if|implements|import|in|instanceof|interface|let|new|null|of|package|private|protected|public|return|set|static|super|switch|this|throw|try|typeof|undefined|var|void|while|with|yield)(?![$\w\xA0-\uFFFF]))(?:(?!\s)[_$a-zA-Z\xA0-\uFFFF](?:(?!\s)[$\w\xA0-\uFFFF])*\s*)\(\s*|\]\s*\(\s*)(?!\s)(?:[^()\s]|\s+(?![\s)])|\([^()]*\))+(?=\s*\)\s*\{)/,lookbehind:!0,inside:t.languages.javascript}],constant:/\b[A-Z](?:[A-Z_]|\dx?)*\b/}),t.languages.insertBefore("javascript","string",{hashbang:{pattern:/^#!.*/,greedy:!0,alias:"comment"},"template-string":{pattern:/`(?:\\[\s\S]|\$\{(?:[^{}]|\{(?:[^{}]|\{[^}]*\})*\})+\}|(?!\$\{)[^\\`])*`/,greedy:!0,inside:{"template-punctuation":{pattern:/^`|`$/,alias:"string"},interpolation:{pattern:/((?:^|[^\\])(?:\\{2})*)\$\{(?:[^{}]|\{(?:[^{}]|\{[^}]*\})*\})+\}/,lookbehind:!0,inside:{"interpolation-punctuation":{pattern:/^\$\{|\}$/,alias:"punctuation"},rest:t.languages.javascript}},string:/[\s\S]+/}},"string-property":{pattern:/((?:^|[,{])[ \t]*)(["'])(?:\\(?:\r\n|[\s\S])|(?!\2)[^\\\r\n])*\2(?=\s*:)/m,lookbehind:!0,greedy:!0,alias:"property"}}),t.languages.insertBefore("javascript","operator",{"literal-property":{pattern:/((?:^|[,{])[ \t]*)(?!\s)[_$a-zA-Z\xA0-\uFFFF](?:(?!\s)[$\w\xA0-\uFFFF])*(?=\s*:)/m,lookbehind:!0,alias:"property"}}),t.languages.markup&&(t.languages.markup.tag.addInlined("script","javascript"),t.languages.markup.tag.addAttribute(/on(?:abort|blur|change|click|composition(?:end|start|update)|dblclick|error|focus(?:in|out)?|key(?:down|up)|load|mouse(?:down|enter|leave|move|out|over|up)|reset|resize|scroll|select|slotchange|submit|unload|wheel)/.source,"javascript")),t.languages.js=t.languages.javascript,function(){if(void 0!==t&&"undefined"!=typeof document){Element.prototype.matches||(Element.prototype.matches=Element.prototype.msMatchesSelector||Element.prototype.webkitMatchesSelector);var e={js:"javascript",py:"python",rb:"ruby",ps1:"powershell",psm1:"powershell",sh:"bash",bat:"batch",h:"c",tex:"latex"},n="data-src-status",i="loading",r="loaded",o="pre[data-src]:not(["+n+'="'+r+'"]):not(['+n+'="'+i+'"])';t.hooks.add("before-highlightall",function(e){e.selector+=", "+o}),t.hooks.add("before-sanity-check",function(s){var a=s.element;if(a.matches(o)){s.code="",a.setAttribute(n,i);var l=a.appendChild(document.createElement("CODE"));l.textContent="Loading…";var c=a.getAttribute("data-src"),u=s.language;if("none"===u){var h=(/\.(\w+)$/.exec(c)||[,"none"])[1];u=e[h]||h}t.util.setLanguage(l,u),t.util.setLanguage(a,u);var d=t.plugins.autoloader;d&&d.loadLanguages(u),function(e,t,n){var i=new XMLHttpRequest;i.open("GET",e,!0),i.onreadystatechange=function(){4==i.readyState&&(i.status<400&&i.responseText?t(i.responseText):i.status>=400?n("✖ Error "+i.status+" while fetching file: "+i.statusText):n("✖ Error: File does not exist or is empty"))},i.send(null)}(c,function(e){a.setAttribute(n,r);var i=function(e){var t=/^\s*(\d+)\s*(?:(,)\s*(?:(\d+)\s*)?)?$/.exec(e||"");if(t){var n=Number(t[1]),i=t[2],r=t[3];return i?r?[n,Number(r)]:[n,void 0]:[n,n]}}(a.getAttribute("data-range"));if(i){var o=e.split(/\r\n?|\n/g),s=i[0],c=null==i[1]?o.length:i[1];s<0&&(s+=o.length),s=Math.max(0,Math.min(s-1,o.length)),c<0&&(c+=o.length),c=Math.max(0,Math.min(c,o.length)),e=o.slice(s,c).join("\n"),a.hasAttribute("data-start")||a.setAttribute("data-start",String(s+1))}l.textContent=e,t.highlightElement(l)},function(e){a.setAttribute(n,"failed"),l.textContent=e})}}),t.plugins.fileHighlight={highlight:function(e){for(var n,i=(e||document).querySelectorAll(o),r=0;n=i[r++];)t.highlightElement(n)}};var s=!1;t.fileHighlight=function(){s||(s=!0),t.plugins.fileHighlight.highlight.apply(this,arguments)}}}()});!function(e){function t(e,t){return"___"+e.toUpperCase()+t+"___"}Object.defineProperties(e.languages["markup-templating"]={},{buildPlaceholders:{value:function(n,i,r,o){if(n.language===i){var s=n.tokenStack=[];n.code=n.code.replace(r,function(e){if("function"==typeof o&&!o(e))return e;for(var r,a=s.length;-1!==n.code.indexOf(r=t(i,a));)++a;return s[a]=e,r}),n.grammar=e.languages.markup}}},tokenizePlaceholders:{value:function(n,i){if(n.language===i&&n.tokenStack){n.grammar=e.languages[i];var r=0,o=Object.keys(n.tokenStack);!function s(a){for(var l=0;l<a.length&&!(r>=o.length);l++){var c=a[l];if("string"==typeof c||c.content&&"string"==typeof c.content){var u=o[r],h=n.tokenStack[u],d="string"==typeof c?c:c.content,p=t(i,u),f=d.indexOf(p);if(f>-1){++r;var g=d.substring(0,f),m=new e.Token(i,e.tokenize(h,n.grammar),"language-"+i,h),v=d.substring(f+p.length),_=[];g&&_.push.apply(_,s([g])),_.push(m),v&&_.push.apply(_,s([v])),"string"==typeof c?a.splice.apply(a,[l,1].concat(_)):c.content=_}}else c.content&&s(c.content)}return a}(n.tokens)}}}})}(Prism);var qt={},Wt={markdown:function(e){return{url:e}},mermaid:function(e){return{url:e}},iframe:function(e,t){return{html:'<iframe src="'+e+'" '+(t||"width=100% height=400")+"></iframe>"}},video:function(e,t){return{html:'<video src="'+e+'" '+(t||"controls")+">Not Support</video>"}},audio:function(e,t){return{html:'<audio src="'+e+'" '+(t||"controls")+">Not Support</audio>"}},code:function(e,t){var n=e.match(/\.(\w+)$/);return"md"===(n=t||n&&n[1])&&(n="markdown"),{url:e,lang:n}}},Xt=function(t,n){var o=this;this.config=t,this.router=n,this.cacheTree={},this.toc=[],this.cacheTOC={},this.linkTarget=t.externalLinkTarget||"_blank",this.linkRel="_blank"===this.linkTarget?t.externalLinkRel||"noopener":"",this.contentBase=n.getBasePath();var a,l=this._initRenderer();this.heading=l.heading;var c=t.markdown||{};s(c)?a=c(It,l):(It.setOptions(i(c,{renderer:i(l,c.renderer)})),a=It),this._marked=a,this.compile=function(n){var i=!0,s=e(function(e){i=!1;var o="";return n?(o=r(n)?a(n):a.parser(n),o=t.noEmoji?o:Nt(o,t.nativeEmoji),Dt.clear(),o):n})(n),l=o.router.parse().file;return i?o.toc=o.cacheTOC[l]:o.cacheTOC[l]=[].concat(o.toc),s}};Xt.prototype.compileEmbed=function(e,t){var n,i=$t(t),r=i.str,o=i.config;if(t=r,o.include){var s;if(I(e)||(e=O(this.contentBase,P(this.router.getCurrentPath()),e)),o.type&&(s=Wt[o.type]))(n=s.call(this,e,t)).type=o.type;else{var a="code";/\.(md|markdown)/.test(e)?a="markdown":/\.mmd/.test(e)?a="mermaid":/\.html?/.test(e)?a="iframe":/\.(mp4|ogg)/.test(e)?a="video":/\.mp3/.test(e)&&(a="audio"),(n=Wt[a].call(this,e,t)).type=a}return n.fragment=o.fragment,n}},Xt.prototype._matchNotCompileLink=function(e){for(var t=this.config.noCompileLinks||[],n=0;n<t.length;n++){var i=t[n];if((qt[i]||(qt[i]=new RegExp("^"+i+"$"))).test(e))return e}},Xt.prototype._initRenderer=function(){var e=new It.Renderer,t=this,n=t.linkTarget,i=t.linkRel,r=t.router,o=t.contentBase,s=this,a={};return a.heading=e.heading=function(e,t){var n=$t(e),i=n.str,o=n.config,a={level:t,title:Bt(i)};/<!-- {docsify-ignore} -->/g.test(i)&&(i=i.replace("\x3c!-- {docsify-ignore} --\x3e",""),a.title=Bt(i),a.ignoreSubHeading=!0),/{docsify-ignore}/g.test(i)&&(i=i.replace("{docsify-ignore}",""),a.title=Bt(i),a.ignoreSubHeading=!0),/<!-- {docsify-ignore-all} -->/g.test(i)&&(i=i.replace("\x3c!-- {docsify-ignore-all} --\x3e",""),a.title=Bt(i),a.ignoreAllSubs=!0),/{docsify-ignore-all}/g.test(i)&&(i=i.replace("{docsify-ignore-all}",""),a.title=Bt(i),a.ignoreAllSubs=!0);var l=Dt(o.id||i),c=r.toURL(r.getCurrentPath(),{id:l});return a.slug=c,s.toc.push(a),"<h"+t+' id="'+l+'"><a href="'+c+'" data-id="'+l+'" class="anchor"><span>'+i+"</span></a></h"+t+">"},a.code=function(e){return e.renderer.code=function(e,t){void 0===t&&(t="markup");var n=Gt.languages[t]||Gt.languages.markup;return'<pre v-pre data-lang="'+t+'"><code class="lang-'+t+'">'+Gt.highlight(e.replace(/@DOCSIFY_QM@/g,"`"),n,t)+"</code></pre>"}}({renderer:e}),a.link=function(e){var t=e.renderer,n=e.router,i=e.linkTarget,r=e.linkRel,o=e.compilerClass;return t.link=function(e,t,s){void 0===t&&(t="");var a=[],l=$t(t),c=l.str,u=l.config;return i=u.target||i,r="_blank"===i?o.config.externalLinkRel||"noopener":"",t=c,I(e)||o._matchNotCompileLink(e)||u.ignore?(I(e)||"./"!==e.slice(0,2)||(e=document.URL.replace(/\/(?!.*\/).*/,"/").replace("#/./","")+e),a.push(0===e.indexOf("mailto:")?"":'target="'+i+'"'),a.push(0===e.indexOf("mailto:")?"":""!==r?' rel="'+r+'"':"")):(e===o.config.homepage&&(e="README"),e=n.toURL(e,null,n.getCurrentPath())),u.disabled&&(a.push("disabled"),e="javascript:void(0)"),u.class&&a.push('class="'+u.class+'"'),u.id&&a.push('id="'+u.id+'"'),t&&a.push('title="'+t+'"'),'<a href="'+e+'" '+a.join(" ")+">"+s+"</a>"}}({renderer:e,router:r,linkTarget:n,linkRel:i,compilerClass:s}),a.paragraph=function(e){return e.renderer.paragraph=function(e){return/^!&gt;/.test(e)?Pt("tip",e):/^\?&gt;/.test(e)?Pt("warn",e):"<p>"+e+"</p>"}}({renderer:e}),a.image=function(e){var t=e.renderer,n=e.contentBase,i=e.router;return t.image=function(e,t,r){var o=e,s=[],a=$t(t),l=a.str,c=a.config;if(t=l,c["no-zoom"]&&s.push("data-no-zoom"),t&&s.push('title="'+t+'"'),c.size){var u=c.size.split("x"),h=u[0],d=u[1];d?s.push('width="'+h+'" height="'+d+'"'):s.push('width="'+h+'"')}return c.class&&s.push('class="'+c.class+'"'),c.id&&s.push('id="'+c.id+'"'),I(e)||(o=O(n,P(i.getCurrentPath()),e)),s.length>0?'<img src="'+o+'" data-origin="'+e+'" alt="'+r+'" '+s.join(" ")+" />":'<img src="'+o+'" data-origin="'+e+'" alt="'+r+'"'+s+">"}}({renderer:e,contentBase:o,router:r}),a.list=function(e){return e.renderer.list=function(e,t,n){var i=t?"ol":"ul";return"<"+i+" "+[/<li class="task-list-item">/.test(e.split('class="task-list"')[0])?'class="task-list"':"",n&&n>1?'start="'+n+'"':""].join(" ").trim()+">"+e+"</"+i+">"}}({renderer:e}),a.listitem=function(e){return e.renderer.listitem=function(e){return/^(<input.*type="checkbox"[^>]*>)/.test(e)?'<li class="task-list-item"><label>'+e+"</label></li>":"<li>"+e+"</li>"}}({renderer:e}),e.origin=a,e},Xt.prototype.sidebar=function(e,t){var n=this.toc,i=this.router.getCurrentPath(),r="";if(e)r=this.compile(e);else{for(var o=0;o<n.length;o++)if(n[o].ignoreSubHeading){var s=n[o].level;n.splice(o,1);for(var a=o;a<n.length&&s<n[a].level;a++)n.splice(a,1)&&a--&&o++;o--}var l=this.cacheTree[i]||Ft(n,t);r=At(l,"<ul>{inner}</ul>"),this.cacheTree[i]=l}return r},Xt.prototype.genTree=Ft,Xt.prototype.tree=At,Xt.prototype.subSidebar=function(e){if(e){var t=this.router.getCurrentPath(),n=this.cacheTree,i=this.toc;i[0]&&i[0].ignoreAllSubs&&i.splice(0),i[0]&&1===i[0].level&&i.shift();for(var r=0;r<i.length;r++)i[r].ignoreSubHeading&&i.splice(r,1)&&r--;var o=n[t]||Ft(i,e);return n[t]=o,this.toc=[],At(o)}this.toc=[]},Xt.prototype.header=function(e,t){return this.heading(e,t)},Xt.prototype.article=function(e){return this.compile(e)},Xt.prototype.cover=function(e){var t=this.toc.slice(),n=this.compile(e);return this.toc=t.slice(),n};var Ut,Ht=function(e){var t=function(e){var t=e.match(/^[ \t]*(?=\S)/gm);return t?t.reduce(function(e,t){return Math.min(e,t.length)},1/0):0}(e);if(0===t)return e;var n=new RegExp("^[ \\t]{"+t+"}","gm");return e.replace(n,"")},Vt={};function Yt(e,t){var n=e.compiler,r=e.raw;void 0===r&&(r="");var o=Vt[r];if(o){var s=o.slice();return s.links=o.links,t(s)}var a=n._marked,l=a.lexer(r),c=[],u=a.Lexer.rules.inline.link,h=l.links;l.forEach(function(e,t){"paragraph"===e.type&&(e.text=e.text.replace(new RegExp(u.source,"g"),function(e,i,r,o){var s=n.compileEmbed(r,o);return s&&c.push({index:t,embed:s}),e}))});var d=[];!function(e,t){var n,i=e.embedTokens,r=e.compile,o=0,s=1;if(!i.length)return t({});for(;n=i[o++];){var a=function(e){return function(n){var i;if(n)if("markdown"===e.embed.type){var a=e.embed.url.split("/");a.pop(),a=a.join("/"),n=n.replace(/\[([^[\]]+)\]\(([^)]+)\)/g,function(e){var t=e.indexOf("(");return"(."===e.slice(t,t+2)?e.substring(0,t)+"("+window.location.protocol+"//"+window.location.host+a+"/"+e.substring(t+1,e.length-1)+")":e}),!0===(($docsify.frontMatter||{}).installed||!1)&&(n=$docsify.frontMatter.parseMarkdown(n)),i=r.lexer(n)}else if("code"===e.embed.type){if(e.embed.fragment){var l=e.embed.fragment,c=new RegExp("(?:###|\\/\\/\\/)\\s*\\["+l+"\\]([\\s\\S]*)(?:###|\\/\\/\\/)\\s*\\["+l+"\\]");n=Ht((n.match(c)||[])[1]||"").trim()}i=r.lexer("```"+e.embed.lang+"\n"+n.replace(/`/g,"@DOCSIFY_QM@")+"\n```\n")}else"mermaid"===e.embed.type?(i=[{type:"html",text:'<div class="mermaid">\n'+n+"\n</div>"}]).links={}:(i=[{type:"html",text:n}]).links={};t({token:e,embedToken:i}),++s>=o&&t({})}}(n);n.embed.url?K(n.embed.url).then(a):a(n.embed.html)}}({compile:a,embedTokens:c},function(e){var n=e.embedToken,o=e.token;if(o){var s=o.index;d.forEach(function(e){s>e.start&&(s+=e.length)}),i(h,n.links),l=l.slice(0,s).concat(n,l.slice(s+1)),d.push({start:s,length:n.length-1})}else Vt[r]=l.concat(),l.links=Vt[r].links=h,t(l)})}function Zt(e,t,n){var i,r,o;return t="function"==typeof n?n(t):"string"==typeof n?(r=[],o=0,(i=n).replace(H,function(e,t,n){r.push(i.substring(o,n-1)),o=n+=e.length+1,r.push(function(t){return("00"+("string"==typeof V[e]?t[V[e]]():V[e](t))).slice(-e.length)})}),o!==i.length&&r.push(i.substring(o)),function(e){for(var t="",n=0,i=e||new Date;n<r.length;n++)t+="string"==typeof r[n]?r[n]:r[n](i);return t})(new Date(t)):t,e.replace(/{docsify-updated}/g,t)}function Kt(e){var t=this.config,n=g(".markdown-section"),r="Vue"in window&&window.Vue.version&&Number(window.Vue.version.charAt(0)),o=function(e){var t=Boolean(e.__vue__&&e.__vue__._isVue),n=Boolean(e._vnode&&e._vnode.__v_skip);return t||n};if(e||(e="<h1>404 - Not found</h1>"),"Vue"in window)for(var s=0,a=m(".markdown-section > *").filter(function(e){return o(e)});s<a.length;s+=1){var l=a[s];2===r?l.__vue__.$destroy():3===r&&l.__vue_app__.unmount()}if(this._renderTo(n,e),!t.loadSidebar&&this._renderSidebar(),(t.executeScript||"Vue"in window&&!1!==t.executeScript)&&function(){var e=m(".markdown-section>script").filter(function(e){return!/template/.test(e.type)})[0];if(!e)return!1;var t=e.innerText.trim();if(!t)return!1;new Function(t)()}(),"Vue"in window){var c=[],u=Object.keys(t.vueComponents||{});if(2===r&&u.length&&u.forEach(function(e){!window.Vue.options.components[e]&&window.Vue.component(e,t.vueComponents[e])}),!Ut&&t.vueGlobalOptions&&"function"==typeof t.vueGlobalOptions.data&&(Ut=t.vueGlobalOptions.data()),c.push.apply(c,Object.keys(t.vueMounts||{}).map(function(e){return[g(n,e),t.vueMounts[e]]}).filter(function(e){var t=e[0];return e[1],t})),t.vueGlobalOptions||u.length){var h=/{{2}[^{}]*}{2}/,d=/<[^>/]+\s([@:]|v-)[\w-:.[\]]+[=>\s]/;c.push.apply(c,m(".markdown-section > *").filter(function(e){return!c.some(function(t){var n=t[0];return t[1],n===e})}).filter(function(e){return e.tagName.toLowerCase()in(t.vueComponents||{})||e.querySelector(u.join(",")||null)||h.test(e.outerHTML)||d.test(e.outerHTML)}).map(function(e){var n=i({},t.vueGlobalOptions||{});return Ut&&(n.data=function(){return Ut}),[e,n]}))}for(var p=0,f=c;p<f.length;p+=1){var v=f[p],_=v[0],y=v[1],x="data-isvue";if(!(_.matches("pre, script")||o(_)||_.querySelector("["+x+"]")))if(_.setAttribute(x,""),2===r)y.el=void 0,new window.Vue(y).$mount(_);else if(3===r){var b=window.Vue.createApp(y);u.forEach(function(e){var n=t.vueComponents[e];b.component(e,n)}),b.mount(_)}}}}function Jt(e,t,n,i,r,o){e=o?e:e.replace(/\/$/,""),(e=P(e))&&K(r.router.getFile(e+n)+t,!1,r.config.requestHeaders).then(i,function(o){return Jt(e,t,n,i,r)})}var Qt=Object.freeze({__proto__:null,cached:e,hyphenate:t,hasOwn:n,merge:i,isPrimitive:r,noop:o,isFn:s,isExternal:a,inBrowser:!0,isMobile:l,supportsPushState:c,parseQuery:R,stringifyQuery:M,isAbsolutePath:I,removeParams:A,getParentPath:P,cleanPath:F,resolvePath:L,getPath:O,replaceSlug:D});var en=function(e){function t(){e.call(this),this.config=ae(this),this.initLifecycle(),this.initPlugin(),this.callHook("init"),this.initRouter(),this.initRender(),this.initEvent(),this.initFetch(),this.callHook("mounted")}return e&&(t.__proto__=e),t.prototype=Object.create(e&&e.prototype),t.prototype.constructor=t,t.prototype.initPlugin=function(){var e=this;[].concat(this.config.plugins).forEach(function(t){try{s(t)&&t(e._lifecycle,e)}catch(n){if(!e.config.catchPluginErrors)throw n}})},t}(function(e){var t,n=function(e,n,i){return t&&t.abort&&t.abort(),t=K(e,!0,i)};return function(e){function t(){e.apply(this,arguments)}return e&&(t.__proto__=e),t.prototype=Object.create(e&&e.prototype),t.prototype.constructor=t,t.prototype._loadSideAndNav=function(e,t,n,i){var r=this;return function(){if(!n)return i();Jt(e,t,n,function(e){r._renderSidebar(e),i()},r,!0)}},t.prototype._fetch=function(e){var t=this;void 0===e&&(e=o);var i=this.route.query,r=this.route.path;if(a(r))history.replaceState(null,"","#"),this.router.normalize();else{var s=M(i,["id"]),l=this.config,c=l.loadNavbar,u=l.requestHeaders,h=l.loadSidebar,d=this.router.getFile(r);this.isRemoteUrl=a(d),this.isHTML=/\.html$/g.test(d);var p=function(n,i){t._renderMain(n,i,t._loadSideAndNav(r,s,h,e))},f=function(n){t._fetchFallbackPage(r,s,e)||t._fetch404(d,s,e)};this.isRemoteUrl?n(d+s,0,u).then(p,f):this.matchVirtualRoute(r).then(function(e){"string"==typeof e?p(e):n(d+s,0,u).then(p,f)}),c&&Jt(r,s,c,function(e){return t._renderNav(e)},this,!0)}},t.prototype._fetchCover=function(){var e=this,t=this.config,n=t.coverpage,i=t.requestHeaders,r=this.route.query,o=P(this.route.path);if(n){var s=null,a=this.route.path;if("string"==typeof n)"/"===a&&(s=n);else if(Array.isArray(n))s=n.indexOf(a)>-1&&"_coverpage";else{var l=n[a];s=!0===l?"_coverpage":l}var c=Boolean(s)&&this.config.onlyCover;return s?(s=this.router.getFile(o+s),this.coverIsHTML=/\.html$/g.test(s),K(s+M(r,["id"]),!1,i).then(function(t){return e._renderCover(t,c)})):this._renderCover(null,c),c}},t.prototype.$fetch=function(e,t){var n=this;void 0===e&&(e=o),void 0===t&&(t=this.$resetEvents.bind(this));var i=function(){n.callHook("doneEach"),e()};this._fetchCover()?i():this._fetch(function(){t(),i()})},t.prototype._fetchFallbackPage=function(e,t,i){var r=this;void 0===i&&(i=o);var s=this.config,a=s.requestHeaders,l=s.fallbackLanguages,c=s.loadSidebar;if(!l)return!1;var u=e.split("/")[1];if(-1===l.indexOf(u))return!1;var h=this.router.getFile(e.replace(new RegExp("^/"+u),""));return n(h+t,0,a).then(function(n,o){return r._renderMain(n,o,r._loadSideAndNav(e,t,c,i))},function(){return r._fetch404(e,t,i)}),!0},t.prototype._fetch404=function(e,t,i){var r=this;void 0===i&&(i=o);var s=this.config,a=s.loadSidebar,l=s.requestHeaders,c=s.notFoundPage,u=this._loadSideAndNav(e,t,a,i);if(c){var h=function(e,t){var n,i,r=t.notFoundPage,o="_404"+(t.ext||".md");switch(typeof r){case"boolean":i=o;break;case"string":i=r;break;case"object":i=(n=Object.keys(r).sort(function(e,t){return t.length-e.length}).filter(function(t){return e.match(new RegExp("^"+t))})[0])&&r[n]||o}return i}(e,this.config);return n(this.router.getFile(h),0,l).then(function(e,t){return r._renderMain(e,t,u)},function(){return r._renderMain(null,{},u)}),!0}return this._renderMain(null,{},u),!1},t.prototype.initFetch=function(){var e=this,t=this.config.loadSidebar;if(this.rendered){var n=te(this.router,".sidebar-nav",!0,!0);t&&n&&(n.parentNode.innerHTML+=window.__SUB_SIDEBAR__),this._bindEventOnRendered(n),this.$resetEvents(),this.callHook("doneEach"),this.callHook("ready")}else this.$fetch(function(t){return e.callHook("ready")})},t}(e)}(function(e){return function(e){function t(){e.apply(this,arguments)}return e&&(t.__proto__=e),t.prototype=Object.create(e&&e.prototype),t.prototype.constructor=t,t.prototype.$resetEvents=function(e){var t,n=this,i=this.config.auto2top;"history"!==e&&(n.route.query.id&&ge(n.route.path,n.route.query.id),"navigate"===e&&i&&(void 0===(t=i)&&(t=0),me.scrollTop=!0===t?0:Number(t))),this.config.loadNavbar&&te(this.router,"nav")},t.prototype.initEvent=function(){var e,t;e="button.sidebar-toggle",this.router,t=function(e){return p.classList.toggle("close")},null!=(e=h(e))&&(x(e,"click",function(e){e.stopPropagation(),t()}),l&&x(p,"click",function(e){return p.classList.contains("close")&&t()})),function(e){null!=(e=h(e))&&x(e,"click",function(e){var t=e.target;"A"===t.nodeName&&t.nextSibling&&t.nextSibling.classList&&t.nextSibling.classList.contains("app-sub-sidebar")&&w(t.parentNode,"collapse")})}(".sidebar",this.router),this.config.coverpage?!l&&x("scroll",ee):p.classList.add("sticky")},t}(e)}(function(e){return function(e){function t(){e.apply(this,arguments)}return e&&(t.__proto__=e),t.prototype=Object.create(e&&e.prototype),t.prototype.constructor=t,t.prototype._renderTo=function(e,t,n){var i=h(e);i&&(i[n?"outerHTML":"innerHTML"]=t)},t.prototype._renderSidebar=function(e){var t=this.config,n=t.maxLevel,i=t.subMaxLevel,r=t.loadSidebar;if(t.hideSidebar)return[document.querySelector("aside.sidebar"),document.querySelector("button.sidebar-toggle")].filter(function(e){return!!e}).forEach(function(e){return e.parentNode.removeChild(e)}),document.querySelector("section.content").style.right="unset",document.querySelector("section.content").style.left="unset",document.querySelector("section.content").style.position="relative",document.querySelector("section.content").style.width="100%",null;this._renderTo(".sidebar-nav",this.compiler.sidebar(e,n));var o=te(this.router,".sidebar-nav",!0,!0);r&&o?o.parentNode.innerHTML+=this.compiler.subSidebar(i)||"":this.compiler.subSidebar(),this._bindEventOnRendered(o)},t.prototype._bindEventOnRendered=function(e){var t=this.config.autoHeader;if(function(e){var t=g(".cover.show");de=t?t.offsetHeight:0;var n=h(".sidebar"),i=[];null!=n&&(i=m(n,"li"));for(var r=0,o=i.length;r<o;r+=1){var s=i[r],a=s.querySelector("a");if(a){var c=a.getAttribute("href");if("/"!==c){var u=e.parse(c),d=u.query.id,p=u.path;d&&(c=fe(p,d))}c&&(le[decodeURIComponent(c)]=s)}}if(!l){var f=A(e.getCurrentPath());b("scroll",function(){return pe(f)}),x("scroll",function(){return pe(f)}),x(n,"mouseover",function(){ce=!0}),x(n,"mouseleave",function(){ce=!1})}}(this.router),t&&e){var n=h("#main"),i=n.children[0];if(i&&"H1"!==i.tagName)y(n,v("div",this.compiler.header(e.innerText,1)).children[0])}},t.prototype._renderNav=function(e){e&&this._renderTo("nav",this.compiler.compile(e)),this.config.loadNavbar&&te(this.router,"nav")},t.prototype._renderMain=function(e,t,n){var i=this;if(void 0===t&&(t={}),!e)return Kt.call(this,e);this.callHook("beforeEach",e,function(r){var o,s=function(){t.updatedAt&&(o=Zt(o,t.updatedAt,i.config.formatUpdated)),i.callHook("afterEach",o,function(e){Kt.call(i,e),n()})};i.isHTML?(o=i.result=e,s()):Yt({compiler:i.compiler,raw:r},function(e){o=i.compiler.compile(e),s()})})},t.prototype._renderCover=function(e,t){var n=h(".cover");if(w(h("main"),t?"add":"remove","hidden"),e){w(n,"add","show");var i=this.coverIsHTML?e:this.compiler.cover(e),r=i.trim().match('<p><img.*?data-origin="(.*?)"[^a]+alt="(.*?)">([^<]*?)</p>$');if(r){if("color"===r[2])n.style.background=r[1]+(r[3]||"");else{var o=r[1];w(n,"add","has-mask"),I(r[1])||(o=O(this.router.getBasePath(),r[1])),n.style.backgroundImage="url("+o+")",n.style.backgroundSize="cover",n.style.backgroundPosition="center center"}i=i.replace(r[0],"")}this._renderTo(".cover-main",i),ee()}else w(n,"remove","show")},t.prototype._updateRender=function(){!function(e){var t=h(".app-name-link"),n=e.config.nameLink,i=e.route.path;if(t)if(r(e.config.nameLink))t.setAttribute("href",n);else if("object"==typeof n){var o=Object.keys(n).filter(function(e){return i.indexOf(e)>-1})[0];t.setAttribute("href",n[o])}}(this)},t.prototype.initRender=function(){var e=this.config;this.compiler=new Xt(e,this.router),window.__current_docsify_compiler__=this.compiler;var t,n,i,r,o=e.el||"#app",s=g("nav")||v("nav"),a=g(o),c="",u=p;if(a){if(e.repo&&(c+=(n=e.repo,i=e.cornerExternalLinkTarget,n?(/\/\//.test(n)||(n="https://github.com/"+n),'<a href="'+(n=n.replace(/^git\+/,""))+'" target="'+(i=i||"_blank")+'" class="github-corner" aria-label="View source on Github"><svg viewBox="0 0 250 250" aria-hidden="true"><path d="M0,0 L115,115 L130,115 L142,142 L250,250 L250,0 Z"></path><path d="M128.3,109.0 C113.8,99.7 119.0,89.6 119.0,89.6 C122.0,82.7 120.5,78.6 120.5,78.6 C119.2,72.0 123.4,76.3 123.4,76.3 C127.3,80.9 125.5,87.3 125.5,87.3 C122.9,97.6 130.6,101.9 134.4,103.2" fill="currentColor" style="transform-origin: 130px 106px;" class="octo-arm"></path><path d="M115.0,115.0 C114.9,115.1 118.7,116.5 119.8,115.4 L133.7,101.6 C136.9,99.2 139.9,98.4 142.2,98.6 C133.8,88.0 127.5,74.4 143.8,58.0 C148.5,53.4 154.0,51.2 159.7,51.0 C160.3,49.4 163.2,43.6 171.4,40.1 C171.4,40.1 176.1,42.5 178.8,56.2 C183.1,58.6 187.2,61.8 190.9,65.4 C194.5,69.0 197.7,73.2 200.1,77.6 C213.8,80.2 216.3,84.9 216.3,84.9 C212.7,93.1 206.9,96.0 205.4,96.6 C205.1,102.4 203.0,107.8 198.3,112.5 C181.9,128.9 168.3,122.5 157.7,114.1 C157.9,116.9 156.7,120.9 152.7,124.9 L141.0,136.5 C139.8,137.7 141.6,141.9 141.8,141.8 Z" fill="currentColor" class="octo-body"></path></svg></a>'):"")),e.coverpage&&(c+=(t=", 100%, 85%",'<section class="cover show" style="background: linear-gradient(to left bottom, hsl('+(Math.floor(255*Math.random())+t)+") 0%,hsl("+(Math.floor(255*Math.random())+t)+') 100%)"><div class="mask"></div><div class="cover-main">\x3c!--cover--\x3e</div></section>')),e.logo){var h=/^data:image/.test(e.logo),_=/(?:http[s]?:)?\/\//.test(e.logo),x=/^\./.test(e.logo);h||_||x||(e.logo=O(this.router.getBasePath(),e.logo))}c+=function(e){var t=e.name?e.name:"";return'<main><button class="sidebar-toggle" aria-label="Menu"><div class="sidebar-toggle-button"><span></span><span></span><span></span></div></button><aside class="sidebar">'+(e.name?'<h1 class="app-name"><a class="app-name-link" data-nosearch>'+(e.logo?'<img alt="'+t+'" src='+e.logo+">":t)+"</a></h1>":"")+'<div class="sidebar-nav">\x3c!--sidebar--\x3e</div></aside><section class="content"><article class="markdown-section" id="main">\x3c!--main--\x3e</article></section></main>'}(e),this._renderTo(a,c,!0)}else this.rendered=!0;e.mergeNavbar&&l?u=g(".sidebar"):(s.classList.add("app-nav"),e.repo||s.classList.add("no-badge")),e.loadNavbar&&y(u,s),e.themeColor&&(d.head.appendChild(v("div",(r=e.themeColor,"<style>:root{--theme-color: "+r+";}</style>")).firstElementChild),function(e){if(!(window.CSS&&window.CSS.supports&&window.CSS.supports("(--v:red)"))){var t=m("style:not(.inserted),link");[].forEach.call(t,function(t){if("STYLE"===t.nodeName)J(t,e);else if("LINK"===t.nodeName){var n=t.getAttribute("href");if(!/\.css$/.test(n))return;K(n).then(function(t){var n=v("style",t);f.appendChild(n),J(n,e)})}})}}(e.themeColor)),this._updateRender(),w(p,"ready")},t}(e)}(function(e){return function(e){function t(){e.apply(this,arguments)}return e&&(t.__proto__=e),t.prototype=Object.create(e&&e.prototype),t.prototype.constructor=t,t.prototype.routes=function(){return this.config.routes||{}},t.prototype.matchVirtualRoute=function(e){var t=this.routes(),n=Object.keys(t),i=function(){return null};function r(){var o=n.shift();if(!o)return i(null);var s=function(e){var t,n=(t="^",0===e.indexOf(t)?e:"^"+e);return C(n,"$")?n:n+"$"}(o),a=e.match(s);if(!a)return r();var l,c=t[o];if("string"==typeof c)return i(c);if("function"==typeof c){var u=c,h=(l=function(){return null},[function(e){l(e)},function(e){l=e}]),d=h[0];return(0,h[1])(function(e){return"string"==typeof e?i(e):!1===e?i(null):r()}),u.length<=2?d(u(e,a)):u(e,a,d)}return r()}return{then:function(e){i=e,r()}}},t}(e)}(function(e){return function(e){function t(){for(var t=[],n=arguments.length;n--;)t[n]=arguments[n];e.apply(this,t),this.route={}}return e&&(t.__proto__=e),t.prototype=Object.create(e&&e.prototype),t.prototype.constructor=t,t.prototype.updateRender=function(){this.router.normalize(),this.route=this.router.parse(),p.setAttribute("data-page",this.route.file)},t.prototype.initRouter=function(){var e,t=this,n=this.config;e="history"===(n.routerMode||"hash")&&c?new q(n):new G(n),this.router=e,this.updateRender(),W=this.route,e.onchange(function(e){t.updateRender(),t._updateRender(),W.path!==t.route.path?(t.$fetch(o,t.$resetEvents.bind(t,e.source)),W=t.route):t.$resetEvents(e.source)})},t}(e)}(function(e){function t(){e.apply(this,arguments)}return e&&(t.__proto__=e),t.prototype=Object.create(e&&e.prototype),t.prototype.constructor=t,t.prototype.initLifecycle=function(){var e=this;this._hooks={},this._lifecycle={},["init","mounted","beforeEach","afterEach","doneEach","ready"].forEach(function(t){var n=e._hooks[t]=[];e._lifecycle[t]=function(e){return n.push(e)}})},t.prototype.callHook=function(e,t,n){void 0===n&&(n=o);var i=this._hooks[e],r=this.config.catchPluginErrors,s=function(e){var o=i[e];if(e>=i.length)n(t);else if("function"==typeof o)if(2===o.length)try{o(t,function(n){t=n,s(e+1)})}catch(l){if(!r)throw l;s(e+1)}else try{var a=o(t);t=void 0===a?t:a,s(e+1)}catch(l){if(!r)throw l;s(e+1)}else s(e+1)};s(0)},t}(Object)))))));window.Docsify={util:Qt,dom:S,get:K,slugify:Dt,version:"4.13.1"},window.DocsifyCompiler=Xt,window.marked=It,window.Prism=Gt,k(function(e){window._docsify=new en})}();var i="undefined"!=typeof globalThis?globalThis:"undefined"!=typeof window?window:"undefined"!=typeof global?global:"undefined"!=typeof self?self:{};function r(e){return e&&e.__esModule&&Object.prototype.hasOwnProperty.call(e,"default")?e.default:e}function o(e){if(Object.prototype.hasOwnProperty.call(e,"__esModule"))return e;var t=e.default;if("function"==typeof t){var n=function e(){var n=!1;try{n=this instanceof e}catch{}return n?Reflect.construct(t,arguments,this.constructor):t.apply(this,arguments)};n.prototype=t.prototype}else n={};return Object.defineProperty(n,"__esModule",{value:!0}),Object.keys(e).forEach(function(t){var i=Object.getOwnPropertyDescriptor(e,t);Object.defineProperty(n,t,i.get?i:{enumerable:!0,get:function(){return e[t]}})}),n}var s={exports:{}};var a={exports:{}};const l=o(Object.freeze(Object.defineProperty({__proto__:null,default:{}},Symbol.toStringTag,{value:"Module"})));var c;function u(){return c||(c=1,a.exports=(e=e||function(e,t){var n;if("undefined"!=typeof window&&window.crypto&&(n=window.crypto),"undefined"!=typeof self&&self.crypto&&(n=self.crypto),"undefined"!=typeof globalThis&&globalThis.crypto&&(n=globalThis.crypto),!n&&"undefined"!=typeof window&&window.msCrypto&&(n=window.msCrypto),!n&&void 0!==i&&i.crypto&&(n=i.crypto),!n)try{n=l}catch(v){}var r=function(){if(n){if("function"==typeof n.getRandomValues)try{return n.getRandomValues(new Uint32Array(1))[0]}catch(v){}if("function"==typeof n.randomBytes)try{return n.randomBytes(4).readInt32LE()}catch(v){}}throw new Error("Native crypto module could not be used to get secure random number.")},o=Object.create||function(){function e(){}return function(t){var n;return e.prototype=t,n=new e,e.prototype=null,n}}(),s={},a=s.lib={},c=a.Base=function(){return{extend:function(e){var t=o(this);return e&&t.mixIn(e),t.hasOwnProperty("init")&&this.init!==t.init||(t.init=function(){t.$super.init.apply(this,arguments)}),t.init.prototype=t,t.$super=this,t},create:function(){var e=this.extend();return e.init.apply(e,arguments),e},init:function(){},mixIn:function(e){for(var t in e)e.hasOwnProperty(t)&&(this[t]=e[t]);e.hasOwnProperty("toString")&&(this.toString=e.toString)},clone:function(){return this.init.prototype.extend(this)}}}(),u=a.WordArray=c.extend({init:function(e,n){e=this.words=e||[],this.sigBytes=n!=t?n:4*e.length},toString:function(e){return(e||d).stringify(this)},concat:function(e){var t=this.words,n=e.words,i=this.sigBytes,r=e.sigBytes;if(this.clamp(),i%4)for(var o=0;o<r;o++){var s=n[o>>>2]>>>24-o%4*8&255;t[i+o>>>2]|=s<<24-(i+o)%4*8}else for(var a=0;a<r;a+=4)t[i+a>>>2]=n[a>>>2];return this.sigBytes+=r,this},clamp:function(){var t=this.words,n=this.sigBytes;t[n>>>2]&=4294967295<<32-n%4*8,t.length=e.ceil(n/4)},clone:function(){var e=c.clone.call(this);return e.words=this.words.slice(0),e},random:function(e){for(var t=[],n=0;n<e;n+=4)t.push(r());return new u.init(t,e)}}),h=s.enc={},d=h.Hex={stringify:function(e){for(var t=e.words,n=e.sigBytes,i=[],r=0;r<n;r++){var o=t[r>>>2]>>>24-r%4*8&255;i.push((o>>>4).toString(16)),i.push((15&o).toString(16))}return i.join("")},parse:function(e){for(var t=e.length,n=[],i=0;i<t;i+=2)n[i>>>3]|=parseInt(e.substr(i,2),16)<<24-i%8*4;return new u.init(n,t/2)}},p=h.Latin1={stringify:function(e){for(var t=e.words,n=e.sigBytes,i=[],r=0;r<n;r++){var o=t[r>>>2]>>>24-r%4*8&255;i.push(String.fromCharCode(o))}return i.join("")},parse:function(e){for(var t=e.length,n=[],i=0;i<t;i++)n[i>>>2]|=(255&e.charCodeAt(i))<<24-i%4*8;return new u.init(n,t)}},f=h.Utf8={stringify:function(e){try{return decodeURIComponent(escape(p.stringify(e)))}catch(Ze){throw new Error("Malformed UTF-8 data")}},parse:function(e){return p.parse(unescape(encodeURIComponent(e)))}},g=a.BufferedBlockAlgorithm=c.extend({reset:function(){this._data=new u.init,this._nDataBytes=0},_append:function(e){"string"==typeof e&&(e=f.parse(e)),this._data.concat(e),this._nDataBytes+=e.sigBytes},_process:function(t){var n,i=this._data,r=i.words,o=i.sigBytes,s=this.blockSize,a=o/(4*s),l=(a=t?e.ceil(a):e.max((0|a)-this._minBufferSize,0))*s,c=e.min(4*l,o);if(l){for(var h=0;h<l;h+=s)this._doProcessBlock(r,h);n=r.splice(0,l),i.sigBytes-=c}return new u.init(n,c)},clone:function(){var e=c.clone.call(this);return e._data=this._data.clone(),e},_minBufferSize:0});a.Hasher=g.extend({cfg:c.extend(),init:function(e){this.cfg=this.cfg.extend(e),this.reset()},reset:function(){g.reset.call(this),this._doReset()},update:function(e){return this._append(e),this._process(),this},finalize:function(e){return e&&this._append(e),this._doFinalize()},blockSize:16,_createHelper:function(e){return function(t,n){return new e.init(n).finalize(t)}},_createHmacHelper:function(e){return function(t,n){return new m.HMAC.init(e,n).finalize(t)}}});var m=s.algo={};return s}(Math),e)),a.exports;var e}var h,d={exports:{}};function p(){return h||(h=1,d.exports=(s=u(),n=(t=s).lib,i=n.Base,r=n.WordArray,(o=t.x64={}).Word=i.extend({init:function(e,t){this.high=e,this.low=t}}),o.WordArray=i.extend({init:function(t,n){t=this.words=t||[],this.sigBytes=n!=e?n:8*t.length},toX32:function(){for(var e=this.words,t=e.length,n=[],i=0;i<t;i++){var o=e[i];n.push(o.high),n.push(o.low)}return r.create(n,this.sigBytes)},clone:function(){for(var e=i.clone.call(this),t=e.words=this.words.slice(0),n=t.length,r=0;r<n;r++)t[r]=t[r].clone();return e}}),s)),d.exports;var e,t,n,i,r,o,s}var f,g={exports:{}};function m(){return f||(f=1,g.exports=(e=u(),function(){if("function"==typeof ArrayBuffer){var t=e.lib.WordArray,n=t.init,i=t.init=function(e){if(e instanceof ArrayBuffer&&(e=new Uint8Array(e)),(e instanceof Int8Array||"undefined"!=typeof Uint8ClampedArray&&e instanceof Uint8ClampedArray||e instanceof Int16Array||e instanceof Uint16Array||e instanceof Int32Array||e instanceof Uint32Array||e instanceof Float32Array||e instanceof Float64Array)&&(e=new Uint8Array(e.buffer,e.byteOffset,e.byteLength)),e instanceof Uint8Array){for(var t=e.byteLength,i=[],r=0;r<t;r++)i[r>>>2]|=e[r]<<24-r%4*8;n.call(this,i,t)}else n.apply(this,arguments)};i.prototype=t}}(),e.lib.WordArray)),g.exports;var e}var v,_={exports:{}};function y(){return v||(v=1,_.exports=(e=u(),function(){var t=e,n=t.lib.WordArray,i=t.enc;function r(e){return e<<8&4278255360|e>>>8&16711935}i.Utf16=i.Utf16BE={stringify:function(e){for(var t=e.words,n=e.sigBytes,i=[],r=0;r<n;r+=2){var o=t[r>>>2]>>>16-r%4*8&65535;i.push(String.fromCharCode(o))}return i.join("")},parse:function(e){for(var t=e.length,i=[],r=0;r<t;r++)i[r>>>1]|=e.charCodeAt(r)<<16-r%2*16;return n.create(i,2*t)}},i.Utf16LE={stringify:function(e){for(var t=e.words,n=e.sigBytes,i=[],o=0;o<n;o+=2){var s=r(t[o>>>2]>>>16-o%4*8&65535);i.push(String.fromCharCode(s))}return i.join("")},parse:function(e){for(var t=e.length,i=[],o=0;o<t;o++)i[o>>>1]|=r(e.charCodeAt(o)<<16-o%2*16);return n.create(i,2*t)}}}(),e.enc.Utf16)),_.exports;var e}var x,b={exports:{}};function w(){return x||(x=1,b.exports=(e=u(),function(){var t=e,n=t.lib.WordArray;function i(e,t,i){for(var r=[],o=0,s=0;s<t;s++)if(s%4){var a=i[e.charCodeAt(s-1)]<<s%4*2|i[e.charCodeAt(s)]>>>6-s%4*2;r[o>>>2]|=a<<24-o%4*8,o++}return n.create(r,o)}t.enc.Base64={stringify:function(e){var t=e.words,n=e.sigBytes,i=this._map;e.clamp();for(var r=[],o=0;o<n;o+=3)for(var s=(t[o>>>2]>>>24-o%4*8&255)<<16|(t[o+1>>>2]>>>24-(o+1)%4*8&255)<<8|t[o+2>>>2]>>>24-(o+2)%4*8&255,a=0;a<4&&o+.75*a<n;a++)r.push(i.charAt(s>>>6*(3-a)&63));var l=i.charAt(64);if(l)for(;r.length%4;)r.push(l);return r.join("")},parse:function(e){var t=e.length,n=this._map,r=this._reverseMap;if(!r){r=this._reverseMap=[];for(var o=0;o<n.length;o++)r[n.charCodeAt(o)]=o}var s=n.charAt(64);if(s){var a=e.indexOf(s);-1!==a&&(t=a)}return i(e,t,r)},_map:"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/="}}(),e.enc.Base64)),b.exports;var e}var k,S={exports:{}};function C(){return k||(k=1,S.exports=(e=u(),function(){var t=e,n=t.lib.WordArray;function i(e,t,i){for(var r=[],o=0,s=0;s<t;s++)if(s%4){var a=i[e.charCodeAt(s-1)]<<s%4*2|i[e.charCodeAt(s)]>>>6-s%4*2;r[o>>>2]|=a<<24-o%4*8,o++}return n.create(r,o)}t.enc.Base64url={stringify:function(e,t){void 0===t&&(t=!0);var n=e.words,i=e.sigBytes,r=t?this._safe_map:this._map;e.clamp();for(var o=[],s=0;s<i;s+=3)for(var a=(n[s>>>2]>>>24-s%4*8&255)<<16|(n[s+1>>>2]>>>24-(s+1)%4*8&255)<<8|n[s+2>>>2]>>>24-(s+2)%4*8&255,l=0;l<4&&s+.75*l<i;l++)o.push(r.charAt(a>>>6*(3-l)&63));var c=r.charAt(64);if(c)for(;o.length%4;)o.push(c);return o.join("")},parse:function(e,t){void 0===t&&(t=!0);var n=e.length,r=t?this._safe_map:this._map,o=this._reverseMap;if(!o){o=this._reverseMap=[];for(var s=0;s<r.length;s++)o[r.charCodeAt(s)]=s}var a=r.charAt(64);if(a){var l=e.indexOf(a);-1!==l&&(n=l)}return i(e,n,o)},_map:"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/=",_safe_map:"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789-_"}}(),e.enc.Base64url)),S.exports;var e}var E,T={exports:{}};function R(){return E||(E=1,T.exports=(e=u(),function(t){var n=e,i=n.lib,r=i.WordArray,o=i.Hasher,s=n.algo,a=[];!function(){for(var e=0;e<64;e++)a[e]=4294967296*t.abs(t.sin(e+1))|0}();var l=s.MD5=o.extend({_doReset:function(){this._hash=new r.init([1732584193,4023233417,2562383102,271733878])},_doProcessBlock:function(e,t){for(var n=0;n<16;n++){var i=t+n,r=e[i];e[i]=16711935&(r<<8|r>>>24)|4278255360&(r<<24|r>>>8)}var o=this._hash.words,s=e[t+0],l=e[t+1],p=e[t+2],f=e[t+3],g=e[t+4],m=e[t+5],v=e[t+6],_=e[t+7],y=e[t+8],x=e[t+9],b=e[t+10],w=e[t+11],k=e[t+12],S=e[t+13],C=e[t+14],E=e[t+15],T=o[0],R=o[1],M=o[2],I=o[3];T=c(T,R,M,I,s,7,a[0]),I=c(I,T,R,M,l,12,a[1]),M=c(M,I,T,R,p,17,a[2]),R=c(R,M,I,T,f,22,a[3]),T=c(T,R,M,I,g,7,a[4]),I=c(I,T,R,M,m,12,a[5]),M=c(M,I,T,R,v,17,a[6]),R=c(R,M,I,T,_,22,a[7]),T=c(T,R,M,I,y,7,a[8]),I=c(I,T,R,M,x,12,a[9]),M=c(M,I,T,R,b,17,a[10]),R=c(R,M,I,T,w,22,a[11]),T=c(T,R,M,I,k,7,a[12]),I=c(I,T,R,M,S,12,a[13]),M=c(M,I,T,R,C,17,a[14]),T=u(T,R=c(R,M,I,T,E,22,a[15]),M,I,l,5,a[16]),I=u(I,T,R,M,v,9,a[17]),M=u(M,I,T,R,w,14,a[18]),R=u(R,M,I,T,s,20,a[19]),T=u(T,R,M,I,m,5,a[20]),I=u(I,T,R,M,b,9,a[21]),M=u(M,I,T,R,E,14,a[22]),R=u(R,M,I,T,g,20,a[23]),T=u(T,R,M,I,x,5,a[24]),I=u(I,T,R,M,C,9,a[25]),M=u(M,I,T,R,f,14,a[26]),R=u(R,M,I,T,y,20,a[27]),T=u(T,R,M,I,S,5,a[28]),I=u(I,T,R,M,p,9,a[29]),M=u(M,I,T,R,_,14,a[30]),T=h(T,R=u(R,M,I,T,k,20,a[31]),M,I,m,4,a[32]),I=h(I,T,R,M,y,11,a[33]),M=h(M,I,T,R,w,16,a[34]),R=h(R,M,I,T,C,23,a[35]),T=h(T,R,M,I,l,4,a[36]),I=h(I,T,R,M,g,11,a[37]),M=h(M,I,T,R,_,16,a[38]),R=h(R,M,I,T,b,23,a[39]),T=h(T,R,M,I,S,4,a[40]),I=h(I,T,R,M,s,11,a[41]),M=h(M,I,T,R,f,16,a[42]),R=h(R,M,I,T,v,23,a[43]),T=h(T,R,M,I,x,4,a[44]),I=h(I,T,R,M,k,11,a[45]),M=h(M,I,T,R,E,16,a[46]),T=d(T,R=h(R,M,I,T,p,23,a[47]),M,I,s,6,a[48]),I=d(I,T,R,M,_,10,a[49]),M=d(M,I,T,R,C,15,a[50]),R=d(R,M,I,T,m,21,a[51]),T=d(T,R,M,I,k,6,a[52]),I=d(I,T,R,M,f,10,a[53]),M=d(M,I,T,R,b,15,a[54]),R=d(R,M,I,T,l,21,a[55]),T=d(T,R,M,I,y,6,a[56]),I=d(I,T,R,M,E,10,a[57]),M=d(M,I,T,R,v,15,a[58]),R=d(R,M,I,T,S,21,a[59]),T=d(T,R,M,I,g,6,a[60]),I=d(I,T,R,M,w,10,a[61]),M=d(M,I,T,R,p,15,a[62]),R=d(R,M,I,T,x,21,a[63]),o[0]=o[0]+T|0,o[1]=o[1]+R|0,o[2]=o[2]+M|0,o[3]=o[3]+I|0},_doFinalize:function(){var e=this._data,n=e.words,i=8*this._nDataBytes,r=8*e.sigBytes;n[r>>>5]|=128<<24-r%32;var o=t.floor(i/4294967296),s=i;n[15+(r+64>>>9<<4)]=16711935&(o<<8|o>>>24)|4278255360&(o<<24|o>>>8),n[14+(r+64>>>9<<4)]=16711935&(s<<8|s>>>24)|4278255360&(s<<24|s>>>8),e.sigBytes=4*(n.length+1),this._process();for(var a=this._hash,l=a.words,c=0;c<4;c++){var u=l[c];l[c]=16711935&(u<<8|u>>>24)|4278255360&(u<<24|u>>>8)}return a},clone:function(){var e=o.clone.call(this);return e._hash=this._hash.clone(),e}});function c(e,t,n,i,r,o,s){var a=e+(t&n|~t&i)+r+s;return(a<<o|a>>>32-o)+t}function u(e,t,n,i,r,o,s){var a=e+(t&i|n&~i)+r+s;return(a<<o|a>>>32-o)+t}function h(e,t,n,i,r,o,s){var a=e+(t^n^i)+r+s;return(a<<o|a>>>32-o)+t}function d(e,t,n,i,r,o,s){var a=e+(n^(t|~i))+r+s;return(a<<o|a>>>32-o)+t}n.MD5=o._createHelper(l),n.HmacMD5=o._createHmacHelper(l)}(Math),e.MD5)),T.exports;var e}var M,I={exports:{}};function A(){return M||(M=1,I.exports=(a=u(),t=(e=a).lib,n=t.WordArray,i=t.Hasher,r=e.algo,o=[],s=r.SHA1=i.extend({_doReset:function(){this._hash=new n.init([1732584193,4023233417,2562383102,271733878,3285377520])},_doProcessBlock:function(e,t){for(var n=this._hash.words,i=n[0],r=n[1],s=n[2],a=n[3],l=n[4],c=0;c<80;c++){if(c<16)o[c]=0|e[t+c];else{var u=o[c-3]^o[c-8]^o[c-14]^o[c-16];o[c]=u<<1|u>>>31}var h=(i<<5|i>>>27)+l+o[c];h+=c<20?1518500249+(r&s|~r&a):c<40?1859775393+(r^s^a):c<60?(r&s|r&a|s&a)-1894007588:(r^s^a)-899497514,l=a,a=s,s=r<<30|r>>>2,r=i,i=h}n[0]=n[0]+i|0,n[1]=n[1]+r|0,n[2]=n[2]+s|0,n[3]=n[3]+a|0,n[4]=n[4]+l|0},_doFinalize:function(){var e=this._data,t=e.words,n=8*this._nDataBytes,i=8*e.sigBytes;return t[i>>>5]|=128<<24-i%32,t[14+(i+64>>>9<<4)]=Math.floor(n/4294967296),t[15+(i+64>>>9<<4)]=n,e.sigBytes=4*t.length,this._process(),this._hash},clone:function(){var e=i.clone.call(this);return e._hash=this._hash.clone(),e}}),e.SHA1=i._createHelper(s),e.HmacSHA1=i._createHmacHelper(s),a.SHA1)),I.exports;var e,t,n,i,r,o,s,a}var P,F={exports:{}};function L(){return P||(P=1,F.exports=(e=u(),function(t){var n=e,i=n.lib,r=i.WordArray,o=i.Hasher,s=n.algo,a=[],l=[];!function(){function e(e){for(var n=t.sqrt(e),i=2;i<=n;i++)if(!(e%i))return!1;return!0}function n(e){return 4294967296*(e-(0|e))|0}for(var i=2,r=0;r<64;)e(i)&&(r<8&&(a[r]=n(t.pow(i,.5))),l[r]=n(t.pow(i,1/3)),r++),i++}();var c=[],u=s.SHA256=o.extend({_doReset:function(){this._hash=new r.init(a.slice(0))},_doProcessBlock:function(e,t){for(var n=this._hash.words,i=n[0],r=n[1],o=n[2],s=n[3],a=n[4],u=n[5],h=n[6],d=n[7],p=0;p<64;p++){if(p<16)c[p]=0|e[t+p];else{var f=c[p-15],g=(f<<25|f>>>7)^(f<<14|f>>>18)^f>>>3,m=c[p-2],v=(m<<15|m>>>17)^(m<<13|m>>>19)^m>>>10;c[p]=g+c[p-7]+v+c[p-16]}var _=i&r^i&o^r&o,y=(i<<30|i>>>2)^(i<<19|i>>>13)^(i<<10|i>>>22),x=d+((a<<26|a>>>6)^(a<<21|a>>>11)^(a<<7|a>>>25))+(a&u^~a&h)+l[p]+c[p];d=h,h=u,u=a,a=s+x|0,s=o,o=r,r=i,i=x+(y+_)|0}n[0]=n[0]+i|0,n[1]=n[1]+r|0,n[2]=n[2]+o|0,n[3]=n[3]+s|0,n[4]=n[4]+a|0,n[5]=n[5]+u|0,n[6]=n[6]+h|0,n[7]=n[7]+d|0},_doFinalize:function(){var e=this._data,n=e.words,i=8*this._nDataBytes,r=8*e.sigBytes;return n[r>>>5]|=128<<24-r%32,n[14+(r+64>>>9<<4)]=t.floor(i/4294967296),n[15+(r+64>>>9<<4)]=i,e.sigBytes=4*n.length,this._process(),this._hash},clone:function(){var e=o.clone.call(this);return e._hash=this._hash.clone(),e}});n.SHA256=o._createHelper(u),n.HmacSHA256=o._createHmacHelper(u)}(Math),e.SHA256)),F.exports;var e}var z,O={exports:{}};var D,j={exports:{}};function N(){return D||(D=1,j.exports=(e=u(),p(),function(){var t=e,n=t.lib.Hasher,i=t.x64,r=i.Word,o=i.WordArray,s=t.algo;function a(){return r.create.apply(r,arguments)}var l=[a(1116352408,3609767458),a(1899447441,602891725),a(3049323471,3964484399),a(3921009573,2173295548),a(961987163,4081628472),a(1508970993,3053834265),a(2453635748,2937671579),a(2870763221,3664609560),a(3624381080,2734883394),a(310598401,1164996542),a(607225278,1323610764),a(1426881987,3590304994),a(1925078388,4068182383),a(2162078206,991336113),a(2614888103,633803317),a(3248222580,3479774868),a(3835390401,2666613458),a(4022224774,944711139),a(264347078,2341262773),a(604807628,2007800933),a(770255983,1495990901),a(1249150122,1856431235),a(1555081692,3175218132),a(1996064986,2198950837),a(2554220882,3999719339),a(2821834349,766784016),a(2952996808,2566594879),a(3210313671,3203337956),a(3336571891,1034457026),a(3584528711,2466948901),a(113926993,3758326383),a(338241895,168717936),a(666307205,1188179964),a(773529912,1546045734),a(1294757372,1522805485),a(1396182291,2643833823),a(1695183700,2343527390),a(1986661051,1014477480),a(2177026350,1206759142),a(2456956037,344077627),a(2730485921,1290863460),a(2820302411,3158454273),a(3259730800,3505952657),a(3345764771,106217008),a(3516065817,3606008344),a(3600352804,1432725776),a(4094571909,1467031594),a(275423344,851169720),a(430227734,3100823752),a(506948616,1363258195),a(659060556,3750685593),a(883997877,3785050280),a(958139571,3318307427),a(1322822218,3812723403),a(1537002063,2003034995),a(1747873779,3602036899),a(1955562222,1575990012),a(2024104815,1125592928),a(2227730452,2716904306),a(2361852424,442776044),a(2428436474,593698344),a(2756734187,3733110249),a(3204031479,2999351573),a(3329325298,3815920427),a(3391569614,3928383900),a(3515267271,566280711),a(3940187606,3454069534),a(4118630271,4000239992),a(116418474,1914138554),a(174292421,2731055270),a(289380356,3203993006),a(460393269,320620315),a(685471733,587496836),a(852142971,1086792851),a(1017036298,365543100),a(1126000580,2618297676),a(1288033470,3409855158),a(1501505948,4234509866),a(1607167915,987167468),a(1816402316,1246189591)],c=[];!function(){for(var e=0;e<80;e++)c[e]=a()}();var u=s.SHA512=n.extend({_doReset:function(){this._hash=new o.init([new r.init(1779033703,4089235720),new r.init(3144134277,2227873595),new r.init(1013904242,4271175723),new r.init(2773480762,1595750129),new r.init(1359893119,2917565137),new r.init(2600822924,725511199),new r.init(528734635,4215389547),new r.init(1541459225,327033209)])},_doProcessBlock:function(e,t){for(var n=this._hash.words,i=n[0],r=n[1],o=n[2],s=n[3],a=n[4],u=n[5],h=n[6],d=n[7],p=i.high,f=i.low,g=r.high,m=r.low,v=o.high,_=o.low,y=s.high,x=s.low,b=a.high,w=a.low,k=u.high,S=u.low,C=h.high,E=h.low,T=d.high,R=d.low,M=p,I=f,A=g,P=m,F=v,L=_,z=y,O=x,D=b,j=w,N=k,$=S,B=C,G=E,q=T,W=R,X=0;X<80;X++){var U,H,V=c[X];if(X<16)H=V.high=0|e[t+2*X],U=V.low=0|e[t+2*X+1];else{var Y=c[X-15],Z=Y.high,K=Y.low,J=(Z>>>1|K<<31)^(Z>>>8|K<<24)^Z>>>7,Q=(K>>>1|Z<<31)^(K>>>8|Z<<24)^(K>>>7|Z<<25),ee=c[X-2],te=ee.high,ne=ee.low,ie=(te>>>19|ne<<13)^(te<<3|ne>>>29)^te>>>6,re=(ne>>>19|te<<13)^(ne<<3|te>>>29)^(ne>>>6|te<<26),oe=c[X-7],se=oe.high,ae=oe.low,le=c[X-16],ce=le.high,ue=le.low;H=(H=(H=J+se+((U=Q+ae)>>>0<Q>>>0?1:0))+ie+((U+=re)>>>0<re>>>0?1:0))+ce+((U+=ue)>>>0<ue>>>0?1:0),V.high=H,V.low=U}var he,de=D&N^~D&B,pe=j&$^~j&G,fe=M&A^M&F^A&F,ge=I&P^I&L^P&L,me=(M>>>28|I<<4)^(M<<30|I>>>2)^(M<<25|I>>>7),ve=(I>>>28|M<<4)^(I<<30|M>>>2)^(I<<25|M>>>7),_e=(D>>>14|j<<18)^(D>>>18|j<<14)^(D<<23|j>>>9),ye=(j>>>14|D<<18)^(j>>>18|D<<14)^(j<<23|D>>>9),xe=l[X],be=xe.high,we=xe.low,ke=q+_e+((he=W+ye)>>>0<W>>>0?1:0),Se=ve+ge;q=B,W=G,B=N,G=$,N=D,$=j,D=z+(ke=(ke=(ke=ke+de+((he+=pe)>>>0<pe>>>0?1:0))+be+((he+=we)>>>0<we>>>0?1:0))+H+((he+=U)>>>0<U>>>0?1:0))+((j=O+he|0)>>>0<O>>>0?1:0)|0,z=F,O=L,F=A,L=P,A=M,P=I,M=ke+(me+fe+(Se>>>0<ve>>>0?1:0))+((I=he+Se|0)>>>0<he>>>0?1:0)|0}f=i.low=f+I,i.high=p+M+(f>>>0<I>>>0?1:0),m=r.low=m+P,r.high=g+A+(m>>>0<P>>>0?1:0),_=o.low=_+L,o.high=v+F+(_>>>0<L>>>0?1:0),x=s.low=x+O,s.high=y+z+(x>>>0<O>>>0?1:0),w=a.low=w+j,a.high=b+D+(w>>>0<j>>>0?1:0),S=u.low=S+$,u.high=k+N+(S>>>0<$>>>0?1:0),E=h.low=E+G,h.high=C+B+(E>>>0<G>>>0?1:0),R=d.low=R+W,d.high=T+q+(R>>>0<W>>>0?1:0)},_doFinalize:function(){var e=this._data,t=e.words,n=8*this._nDataBytes,i=8*e.sigBytes;return t[i>>>5]|=128<<24-i%32,t[30+(i+128>>>10<<5)]=Math.floor(n/4294967296),t[31+(i+128>>>10<<5)]=n,e.sigBytes=4*t.length,this._process(),this._hash.toX32()},clone:function(){var e=n.clone.call(this);return e._hash=this._hash.clone(),e},blockSize:32});t.SHA512=n._createHelper(u),t.HmacSHA512=n._createHmacHelper(u)}(),e.SHA512)),j.exports;var e}var $,B={exports:{}};var G,q={exports:{}};function W(){return G||(G=1,q.exports=(e=u(),p(),function(t){var n=e,i=n.lib,r=i.WordArray,o=i.Hasher,s=n.x64.Word,a=n.algo,l=[],c=[],u=[];!function(){for(var e=1,t=0,n=0;n<24;n++){l[e+5*t]=(n+1)*(n+2)/2%64;var i=(2*e+3*t)%5;e=t%5,t=i}for(e=0;e<5;e++)for(t=0;t<5;t++)c[e+5*t]=t+(2*e+3*t)%5*5;for(var r=1,o=0;o<24;o++){for(var a=0,h=0,d=0;d<7;d++){if(1&r){var p=(1<<d)-1;p<32?h^=1<<p:a^=1<<p-32}128&r?r=r<<1^113:r<<=1}u[o]=s.create(a,h)}}();var h=[];!function(){for(var e=0;e<25;e++)h[e]=s.create()}();var d=a.SHA3=o.extend({cfg:o.cfg.extend({outputLength:512}),_doReset:function(){for(var e=this._state=[],t=0;t<25;t++)e[t]=new s.init;this.blockSize=(1600-2*this.cfg.outputLength)/32},_doProcessBlock:function(e,t){for(var n=this._state,i=this.blockSize/2,r=0;r<i;r++){var o=e[t+2*r],s=e[t+2*r+1];o=16711935&(o<<8|o>>>24)|4278255360&(o<<24|o>>>8),s=16711935&(s<<8|s>>>24)|4278255360&(s<<24|s>>>8),(R=n[r]).high^=s,R.low^=o}for(var a=0;a<24;a++){for(var d=0;d<5;d++){for(var p=0,f=0,g=0;g<5;g++)p^=(R=n[d+5*g]).high,f^=R.low;var m=h[d];m.high=p,m.low=f}for(d=0;d<5;d++){var v=h[(d+4)%5],_=h[(d+1)%5],y=_.high,x=_.low;for(p=v.high^(y<<1|x>>>31),f=v.low^(x<<1|y>>>31),g=0;g<5;g++)(R=n[d+5*g]).high^=p,R.low^=f}for(var b=1;b<25;b++){var w=(R=n[b]).high,k=R.low,S=l[b];S<32?(p=w<<S|k>>>32-S,f=k<<S|w>>>32-S):(p=k<<S-32|w>>>64-S,f=w<<S-32|k>>>64-S);var C=h[c[b]];C.high=p,C.low=f}var E=h[0],T=n[0];for(E.high=T.high,E.low=T.low,d=0;d<5;d++)for(g=0;g<5;g++){var R=n[b=d+5*g],M=h[b],I=h[(d+1)%5+5*g],A=h[(d+2)%5+5*g];R.high=M.high^~I.high&A.high,R.low=M.low^~I.low&A.low}R=n[0];var P=u[a];R.high^=P.high,R.low^=P.low}},_doFinalize:function(){var e=this._data,n=e.words;this._nDataBytes;var i=8*e.sigBytes,o=32*this.blockSize;n[i>>>5]|=1<<24-i%32,n[(t.ceil((i+1)/o)*o>>>5)-1]|=128,e.sigBytes=4*n.length,this._process();for(var s=this._state,a=this.cfg.outputLength/8,l=a/8,c=[],u=0;u<l;u++){var h=s[u],d=h.high,p=h.low;d=16711935&(d<<8|d>>>24)|4278255360&(d<<24|d>>>8),p=16711935&(p<<8|p>>>24)|4278255360&(p<<24|p>>>8),c.push(p),c.push(d)}return new r.init(c,a)},clone:function(){for(var e=o.clone.call(this),t=e._state=this._state.slice(0),n=0;n<25;n++)t[n]=t[n].clone();return e}});n.SHA3=o._createHelper(d),n.HmacSHA3=o._createHmacHelper(d)}(Math),e.SHA3)),q.exports;var e}var X,U={exports:{}};var H,V={exports:{}};function Y(){return H||(H=1,V.exports=(e=u(),n=(t=e).lib.Base,i=t.enc.Utf8,void(t.algo.HMAC=n.extend({init:function(e,t){e=this._hasher=new e.init,"string"==typeof t&&(t=i.parse(t));var n=e.blockSize,r=4*n;t.sigBytes>r&&(t=e.finalize(t)),t.clamp();for(var o=this._oKey=t.clone(),s=this._iKey=t.clone(),a=o.words,l=s.words,c=0;c<n;c++)a[c]^=1549556828,l[c]^=909522486;o.sigBytes=s.sigBytes=r,this.reset()},reset:function(){var e=this._hasher;e.reset(),e.update(this._iKey)},update:function(e){return this._hasher.update(e),this},finalize:function(e){var t=this._hasher,n=t.finalize(e);return t.reset(),t.finalize(this._oKey.clone().concat(n))}})))),V.exports;var e,t,n,i}var Z,K={exports:{}};var J,Q={exports:{}};function ee(){return J||(J=1,Q.exports=(a=u(),A(),Y(),t=(e=a).lib,n=t.Base,i=t.WordArray,r=e.algo,o=r.MD5,s=r.EvpKDF=n.extend({cfg:n.extend({keySize:4,hasher:o,iterations:1}),init:function(e){this.cfg=this.cfg.extend(e)},compute:function(e,t){for(var n,r=this.cfg,o=r.hasher.create(),s=i.create(),a=s.words,l=r.keySize,c=r.iterations;a.length<l;){n&&o.update(n),n=o.update(e).finalize(t),o.reset();for(var u=1;u<c;u++)n=o.finalize(n),o.reset();s.concat(n)}return s.sigBytes=4*l,s}}),e.EvpKDF=function(e,t,n){return s.create(n).compute(e,t)},a.EvpKDF)),Q.exports;var e,t,n,i,r,o,s,a}var te,ne={exports:{}};function ie(){return te||(te=1,ne.exports=(e=u(),ee(),void(e.lib.Cipher||function(t){var n=e,i=n.lib,r=i.Base,o=i.WordArray,s=i.BufferedBlockAlgorithm,a=n.enc;a.Utf8;var l=a.Base64,c=n.algo.EvpKDF,u=i.Cipher=s.extend({cfg:r.extend(),createEncryptor:function(e,t){return this.create(this._ENC_XFORM_MODE,e,t)},createDecryptor:function(e,t){return this.create(this._DEC_XFORM_MODE,e,t)},init:function(e,t,n){this.cfg=this.cfg.extend(n),this._xformMode=e,this._key=t,this.reset()},reset:function(){s.reset.call(this),this._doReset()},process:function(e){return this._append(e),this._process()},finalize:function(e){return e&&this._append(e),this._doFinalize()},keySize:4,ivSize:4,_ENC_XFORM_MODE:1,_DEC_XFORM_MODE:2,_createHelper:function(){function e(e){return"string"==typeof e?y:v}return function(t){return{encrypt:function(n,i,r){return e(i).encrypt(t,n,i,r)},decrypt:function(n,i,r){return e(i).decrypt(t,n,i,r)}}}}()});i.StreamCipher=u.extend({_doFinalize:function(){return this._process(!0)},blockSize:1});var h=n.mode={},d=i.BlockCipherMode=r.extend({createEncryptor:function(e,t){return this.Encryptor.create(e,t)},createDecryptor:function(e,t){return this.Decryptor.create(e,t)},init:function(e,t){this._cipher=e,this._iv=t}}),p=h.CBC=function(){var e=d.extend();function n(e,n,i){var r,o=this._iv;o?(r=o,this._iv=t):r=this._prevBlock;for(var s=0;s<i;s++)e[n+s]^=r[s]}return e.Encryptor=e.extend({processBlock:function(e,t){var i=this._cipher,r=i.blockSize;n.call(this,e,t,r),i.encryptBlock(e,t),this._prevBlock=e.slice(t,t+r)}}),e.Decryptor=e.extend({processBlock:function(e,t){var i=this._cipher,r=i.blockSize,o=e.slice(t,t+r);i.decryptBlock(e,t),n.call(this,e,t,r),this._prevBlock=o}}),e}(),f=(n.pad={}).Pkcs7={pad:function(e,t){for(var n=4*t,i=n-e.sigBytes%n,r=i<<24|i<<16|i<<8|i,s=[],a=0;a<i;a+=4)s.push(r);var l=o.create(s,i);e.concat(l)},unpad:function(e){var t=255&e.words[e.sigBytes-1>>>2];e.sigBytes-=t}};i.BlockCipher=u.extend({cfg:u.cfg.extend({mode:p,padding:f}),reset:function(){var e;u.reset.call(this);var t=this.cfg,n=t.iv,i=t.mode;this._xformMode==this._ENC_XFORM_MODE?e=i.createEncryptor:(e=i.createDecryptor,this._minBufferSize=1),this._mode&&this._mode.__creator==e?this._mode.init(this,n&&n.words):(this._mode=e.call(i,this,n&&n.words),this._mode.__creator=e)},_doProcessBlock:function(e,t){this._mode.processBlock(e,t)},_doFinalize:function(){var e,t=this.cfg.padding;return this._xformMode==this._ENC_XFORM_MODE?(t.pad(this._data,this.blockSize),e=this._process(!0)):(e=this._process(!0),t.unpad(e)),e},blockSize:4});var g=i.CipherParams=r.extend({init:function(e){this.mixIn(e)},toString:function(e){return(e||this.formatter).stringify(this)}}),m=(n.format={}).OpenSSL={stringify:function(e){var t=e.ciphertext,n=e.salt;return(n?o.create([1398893684,1701076831]).concat(n).concat(t):t).toString(l)},parse:function(e){var t,n=l.parse(e),i=n.words;return 1398893684==i[0]&&1701076831==i[1]&&(t=o.create(i.slice(2,4)),i.splice(0,4),n.sigBytes-=16),g.create({ciphertext:n,salt:t})}},v=i.SerializableCipher=r.extend({cfg:r.extend({format:m}),encrypt:function(e,t,n,i){i=this.cfg.extend(i);var r=e.createEncryptor(n,i),o=r.finalize(t),s=r.cfg;return g.create({ciphertext:o,key:n,iv:s.iv,algorithm:e,mode:s.mode,padding:s.padding,blockSize:e.blockSize,formatter:i.format})},decrypt:function(e,t,n,i){return i=this.cfg.extend(i),t=this._parse(t,i.format),e.createDecryptor(n,i).finalize(t.ciphertext)},_parse:function(e,t){return"string"==typeof e?t.parse(e,this):e}}),_=(n.kdf={}).OpenSSL={execute:function(e,t,n,i,r){if(i||(i=o.random(8)),r)s=c.create({keySize:t+n,hasher:r}).compute(e,i);else var s=c.create({keySize:t+n}).compute(e,i);var a=o.create(s.words.slice(t),4*n);return s.sigBytes=4*t,g.create({key:s,iv:a,salt:i})}},y=i.PasswordBasedCipher=v.extend({cfg:v.cfg.extend({kdf:_}),encrypt:function(e,t,n,i){var r=(i=this.cfg.extend(i)).kdf.execute(n,e.keySize,e.ivSize,i.salt,i.hasher);i.iv=r.iv;var o=v.encrypt.call(this,e,t,r.key,i);return o.mixIn(r),o},decrypt:function(e,t,n,i){i=this.cfg.extend(i),t=this._parse(t,i.format);var r=i.kdf.execute(n,e.keySize,e.ivSize,t.salt,i.hasher);return i.iv=r.iv,v.decrypt.call(this,e,t,r.key,i)}})}()))),ne.exports;var e}var re,oe={exports:{}};var se,ae={exports:{}};var le,ce={exports:{}};function ue(){return le||(le=1,ce.exports=(e=u(),ie(),
/** @preserve
         * Counter block mode compatible with  Dr Brian Gladman fileenc.c
         * derived from CryptoJS.mode.CTR
         * Jan Hruby jhruby.web@gmail.com
         */
e.mode.CTRGladman=function(){var t=e.lib.BlockCipherMode.extend();function n(e){if(255&~(e>>24))e+=1<<24;else{var t=e>>16&255,n=e>>8&255,i=255&e;255===t?(t=0,255===n?(n=0,255===i?i=0:++i):++n):++t,e=0,e+=t<<16,e+=n<<8,e+=i}return e}function i(e){return 0===(e[0]=n(e[0]))&&(e[1]=n(e[1])),e}var r=t.Encryptor=t.extend({processBlock:function(e,t){var n=this._cipher,r=n.blockSize,o=this._iv,s=this._counter;o&&(s=this._counter=o.slice(0),this._iv=void 0),i(s);var a=s.slice(0);n.encryptBlock(a,0);for(var l=0;l<r;l++)e[t+l]^=a[l]}});return t.Decryptor=r,t}(),e.mode.CTRGladman)),ce.exports;var e}var he,de={exports:{}};var pe,fe={exports:{}};var ge,me={exports:{}};var ve,_e={exports:{}};var ye,xe={exports:{}};var be,we={exports:{}};var ke,Se={exports:{}};var Ce,Ee={exports:{}};var Te,Re={exports:{}};var Me,Ie={exports:{}};function Ae(){return Me||(Me=1,Ie.exports=(e=u(),w(),R(),ee(),ie(),function(){var t=e,n=t.lib,i=n.WordArray,r=n.BlockCipher,o=t.algo,s=[57,49,41,33,25,17,9,1,58,50,42,34,26,18,10,2,59,51,43,35,27,19,11,3,60,52,44,36,63,55,47,39,31,23,15,7,62,54,46,38,30,22,14,6,61,53,45,37,29,21,13,5,28,20,12,4],a=[14,17,11,24,1,5,3,28,15,6,21,10,23,19,12,4,26,8,16,7,27,20,13,2,41,52,31,37,47,55,30,40,51,45,33,48,44,49,39,56,34,53,46,42,50,36,29,32],l=[1,2,4,6,8,10,12,14,15,17,19,21,23,25,27,28],c=[{0:8421888,268435456:32768,536870912:8421378,805306368:2,1073741824:512,1342177280:8421890,1610612736:8389122,1879048192:8388608,2147483648:514,2415919104:8389120,2684354560:33280,2952790016:8421376,3221225472:32770,3489660928:8388610,3758096384:0,4026531840:33282,134217728:0,402653184:8421890,671088640:33282,939524096:32768,1207959552:8421888,1476395008:512,1744830464:8421378,2013265920:2,2281701376:8389120,2550136832:33280,2818572288:8421376,3087007744:8389122,3355443200:8388610,3623878656:32770,3892314112:514,4160749568:8388608,1:32768,268435457:2,536870913:8421888,805306369:8388608,1073741825:8421378,1342177281:33280,1610612737:512,1879048193:8389122,2147483649:8421890,2415919105:8421376,2684354561:8388610,2952790017:33282,3221225473:514,3489660929:8389120,3758096385:32770,4026531841:0,134217729:8421890,402653185:8421376,671088641:8388608,939524097:512,1207959553:32768,1476395009:8388610,1744830465:2,2013265921:33282,2281701377:32770,2550136833:8389122,2818572289:514,3087007745:8421888,3355443201:8389120,3623878657:0,3892314113:33280,4160749569:8421378},{0:1074282512,16777216:16384,33554432:524288,50331648:1074266128,67108864:1073741840,83886080:1074282496,100663296:1073758208,117440512:16,134217728:540672,150994944:1073758224,167772160:1073741824,184549376:540688,201326592:524304,218103808:0,234881024:16400,251658240:1074266112,8388608:1073758208,25165824:540688,41943040:16,58720256:1073758224,75497472:1074282512,92274688:1073741824,109051904:524288,125829120:1074266128,142606336:524304,159383552:0,176160768:16384,192937984:1074266112,209715200:1073741840,226492416:540672,243269632:1074282496,260046848:16400,268435456:0,285212672:1074266128,301989888:1073758224,318767104:1074282496,335544320:1074266112,352321536:16,369098752:540688,385875968:16384,402653184:16400,419430400:524288,436207616:524304,452984832:1073741840,469762048:540672,486539264:1073758208,503316480:1073741824,520093696:1074282512,276824064:540688,293601280:524288,310378496:1074266112,327155712:16384,343932928:1073758208,360710144:1074282512,377487360:16,394264576:1073741824,411041792:1074282496,427819008:1073741840,444596224:1073758224,461373440:524304,478150656:0,494927872:16400,511705088:1074266128,528482304:540672},{0:260,1048576:0,2097152:67109120,3145728:65796,4194304:65540,5242880:67108868,6291456:67174660,7340032:67174400,8388608:67108864,9437184:67174656,10485760:65792,11534336:67174404,12582912:67109124,13631488:65536,14680064:4,15728640:256,524288:67174656,1572864:67174404,2621440:0,3670016:67109120,4718592:67108868,5767168:65536,6815744:65540,7864320:260,8912896:4,9961472:256,11010048:67174400,12058624:65796,13107200:65792,14155776:67109124,15204352:67174660,16252928:67108864,16777216:67174656,17825792:65540,18874368:65536,19922944:67109120,20971520:256,22020096:67174660,23068672:67108868,24117248:0,25165824:67109124,26214400:67108864,27262976:4,28311552:65792,29360128:67174400,30408704:260,31457280:65796,32505856:67174404,17301504:67108864,18350080:260,19398656:67174656,20447232:0,21495808:65540,22544384:67109120,23592960:256,24641536:67174404,25690112:65536,26738688:67174660,27787264:65796,28835840:67108868,29884416:67109124,30932992:67174400,31981568:4,33030144:65792},{0:2151682048,65536:2147487808,131072:4198464,196608:2151677952,262144:0,327680:4198400,393216:2147483712,458752:4194368,524288:2147483648,589824:4194304,655360:64,720896:2147487744,786432:2151678016,851968:4160,917504:4096,983040:2151682112,32768:2147487808,98304:64,163840:2151678016,229376:2147487744,294912:4198400,360448:2151682112,425984:0,491520:2151677952,557056:4096,622592:2151682048,688128:4194304,753664:4160,819200:2147483648,884736:4194368,950272:4198464,1015808:2147483712,1048576:4194368,1114112:4198400,1179648:2147483712,1245184:0,1310720:4160,1376256:2151678016,1441792:2151682048,1507328:2147487808,1572864:2151682112,1638400:2147483648,1703936:2151677952,1769472:4198464,1835008:2147487744,1900544:4194304,1966080:64,2031616:4096,1081344:2151677952,1146880:2151682112,1212416:0,1277952:4198400,1343488:4194368,1409024:2147483648,1474560:2147487808,1540096:64,1605632:2147483712,1671168:4096,1736704:2147487744,1802240:2151678016,1867776:4160,1933312:2151682048,1998848:4194304,2064384:4198464},{0:128,4096:17039360,8192:262144,12288:536870912,16384:537133184,20480:16777344,24576:553648256,28672:262272,32768:16777216,36864:537133056,40960:536871040,45056:553910400,49152:553910272,53248:0,57344:17039488,61440:553648128,2048:17039488,6144:553648256,10240:128,14336:17039360,18432:262144,22528:537133184,26624:553910272,30720:536870912,34816:537133056,38912:0,43008:553910400,47104:16777344,51200:536871040,55296:553648128,59392:16777216,63488:262272,65536:262144,69632:128,73728:536870912,77824:553648256,81920:16777344,86016:553910272,90112:537133184,94208:16777216,98304:553910400,102400:553648128,106496:17039360,110592:537133056,114688:262272,118784:536871040,122880:0,126976:17039488,67584:553648256,71680:16777216,75776:17039360,79872:537133184,83968:536870912,88064:17039488,92160:128,96256:553910272,100352:262272,104448:553910400,108544:0,112640:553648128,116736:16777344,120832:262144,124928:537133056,129024:536871040},{0:268435464,256:8192,512:270532608,768:270540808,1024:268443648,1280:2097152,1536:2097160,1792:268435456,2048:0,2304:268443656,2560:2105344,2816:8,3072:270532616,3328:2105352,3584:8200,3840:270540800,128:270532608,384:270540808,640:8,896:2097152,1152:2105352,1408:268435464,1664:268443648,1920:8200,2176:2097160,2432:8192,2688:268443656,2944:270532616,3200:0,3456:270540800,3712:2105344,3968:268435456,4096:268443648,4352:270532616,4608:270540808,4864:8200,5120:2097152,5376:268435456,5632:268435464,5888:2105344,6144:2105352,6400:0,6656:8,6912:270532608,7168:8192,7424:268443656,7680:270540800,7936:2097160,4224:8,4480:2105344,4736:2097152,4992:268435464,5248:268443648,5504:8200,5760:270540808,6016:270532608,6272:270540800,6528:270532616,6784:8192,7040:2105352,7296:2097160,7552:0,7808:268435456,8064:268443656},{0:1048576,16:33555457,32:1024,48:1049601,64:34604033,80:0,96:1,112:34603009,128:33555456,144:1048577,160:33554433,176:34604032,192:34603008,208:1025,224:1049600,240:33554432,8:34603009,24:0,40:33555457,56:34604032,72:1048576,88:33554433,104:33554432,120:1025,136:1049601,152:33555456,168:34603008,184:1048577,200:1024,216:34604033,232:1,248:1049600,256:33554432,272:1048576,288:33555457,304:34603009,320:1048577,336:33555456,352:34604032,368:1049601,384:1025,400:34604033,416:1049600,432:1,448:0,464:34603008,480:33554433,496:1024,264:1049600,280:33555457,296:34603009,312:1,328:33554432,344:1048576,360:1025,376:34604032,392:33554433,408:34603008,424:0,440:34604033,456:1049601,472:1024,488:33555456,504:1048577},{0:134219808,1:131072,2:134217728,3:32,4:131104,5:134350880,6:134350848,7:2048,8:134348800,9:134219776,10:133120,11:134348832,12:2080,13:0,14:134217760,15:133152,2147483648:2048,2147483649:134350880,2147483650:134219808,2147483651:134217728,2147483652:134348800,2147483653:133120,2147483654:133152,2147483655:32,2147483656:134217760,2147483657:2080,2147483658:131104,2147483659:134350848,2147483660:0,2147483661:134348832,2147483662:134219776,2147483663:131072,16:133152,17:134350848,18:32,19:2048,20:134219776,21:134217760,22:134348832,23:131072,24:0,25:131104,26:134348800,27:134219808,28:134350880,29:133120,30:2080,31:134217728,2147483664:131072,2147483665:2048,2147483666:134348832,2147483667:133152,2147483668:32,2147483669:134348800,2147483670:134217728,2147483671:134219808,2147483672:134350880,2147483673:134217760,2147483674:134219776,2147483675:0,2147483676:133120,2147483677:2080,2147483678:131104,2147483679:134350848}],u=[4160749569,528482304,33030144,2064384,129024,8064,504,2147483679],h=o.DES=r.extend({_doReset:function(){for(var e=this._key.words,t=[],n=0;n<56;n++){var i=s[n]-1;t[n]=e[i>>>5]>>>31-i%32&1}for(var r=this._subKeys=[],o=0;o<16;o++){var c=r[o]=[],u=l[o];for(n=0;n<24;n++)c[n/6|0]|=t[(a[n]-1+u)%28]<<31-n%6,c[4+(n/6|0)]|=t[28+(a[n+24]-1+u)%28]<<31-n%6;for(c[0]=c[0]<<1|c[0]>>>31,n=1;n<7;n++)c[n]=c[n]>>>4*(n-1)+3;c[7]=c[7]<<5|c[7]>>>27}var h=this._invSubKeys=[];for(n=0;n<16;n++)h[n]=r[15-n]},encryptBlock:function(e,t){this._doCryptBlock(e,t,this._subKeys)},decryptBlock:function(e,t){this._doCryptBlock(e,t,this._invSubKeys)},_doCryptBlock:function(e,t,n){this._lBlock=e[t],this._rBlock=e[t+1],d.call(this,4,252645135),d.call(this,16,65535),p.call(this,2,858993459),p.call(this,8,16711935),d.call(this,1,1431655765);for(var i=0;i<16;i++){for(var r=n[i],o=this._lBlock,s=this._rBlock,a=0,l=0;l<8;l++)a|=c[l][((s^r[l])&u[l])>>>0];this._lBlock=s,this._rBlock=o^a}var h=this._lBlock;this._lBlock=this._rBlock,this._rBlock=h,d.call(this,1,1431655765),p.call(this,8,16711935),p.call(this,2,858993459),d.call(this,16,65535),d.call(this,4,252645135),e[t]=this._lBlock,e[t+1]=this._rBlock},keySize:2,ivSize:2,blockSize:2});function d(e,t){var n=(this._lBlock>>>e^this._rBlock)&t;this._rBlock^=n,this._lBlock^=n<<e}function p(e,t){var n=(this._rBlock>>>e^this._lBlock)&t;this._lBlock^=n,this._rBlock^=n<<e}t.DES=r._createHelper(h);var f=o.TripleDES=r.extend({_doReset:function(){var e=this._key.words;if(2!==e.length&&4!==e.length&&e.length<6)throw new Error("Invalid key length - 3DES requires the key length to be 64, 128, 192 or >192.");var t=e.slice(0,2),n=e.length<4?e.slice(0,2):e.slice(2,4),r=e.length<6?e.slice(0,2):e.slice(4,6);this._des1=h.createEncryptor(i.create(t)),this._des2=h.createEncryptor(i.create(n)),this._des3=h.createEncryptor(i.create(r))},encryptBlock:function(e,t){this._des1.encryptBlock(e,t),this._des2.decryptBlock(e,t),this._des3.encryptBlock(e,t)},decryptBlock:function(e,t){this._des3.decryptBlock(e,t),this._des2.encryptBlock(e,t),this._des1.decryptBlock(e,t)},keySize:6,ivSize:2,blockSize:2});t.TripleDES=r._createHelper(f)}(),e.TripleDES)),Ie.exports;var e}var Pe,Fe={exports:{}};var Le,ze={exports:{}};var Oe,De={exports:{}};var je,Ne={exports:{}};function $e(){return je||(je=1,Ne.exports=(e=u(),w(),R(),ee(),ie(),function(){var t=e,n=t.lib.BlockCipher,i=t.algo;const r=16,o=[608135816,2242054355,320440878,57701188,2752067618,698298832,137296536,3964562569,1160258022,953160567,3193202383,887688300,3232508343,3380367581,1065670069,3041331479,2450970073,2306472731],s=[[3509652390,2564797868,805139163,3491422135,3101798381,1780907670,3128725573,4046225305,614570311,3012652279,134345442,2240740374,1667834072,1901547113,2757295779,4103290238,227898511,1921955416,1904987480,2182433518,2069144605,3260701109,2620446009,720527379,3318853667,677414384,3393288472,3101374703,2390351024,1614419982,1822297739,2954791486,3608508353,3174124327,2024746970,1432378464,3864339955,2857741204,1464375394,1676153920,1439316330,715854006,3033291828,289532110,2706671279,2087905683,3018724369,1668267050,732546397,1947742710,3462151702,2609353502,2950085171,1814351708,2050118529,680887927,999245976,1800124847,3300911131,1713906067,1641548236,4213287313,1216130144,1575780402,4018429277,3917837745,3693486850,3949271944,596196993,3549867205,258830323,2213823033,772490370,2760122372,1774776394,2652871518,566650946,4142492826,1728879713,2882767088,1783734482,3629395816,2517608232,2874225571,1861159788,326777828,3124490320,2130389656,2716951837,967770486,1724537150,2185432712,2364442137,1164943284,2105845187,998989502,3765401048,2244026483,1075463327,1455516326,1322494562,910128902,469688178,1117454909,936433444,3490320968,3675253459,1240580251,122909385,2157517691,634681816,4142456567,3825094682,3061402683,2540495037,79693498,3249098678,1084186820,1583128258,426386531,1761308591,1047286709,322548459,995290223,1845252383,2603652396,3431023940,2942221577,3202600964,3727903485,1712269319,422464435,3234572375,1170764815,3523960633,3117677531,1434042557,442511882,3600875718,1076654713,1738483198,4213154764,2393238008,3677496056,1014306527,4251020053,793779912,2902807211,842905082,4246964064,1395751752,1040244610,2656851899,3396308128,445077038,3742853595,3577915638,679411651,2892444358,2354009459,1767581616,3150600392,3791627101,3102740896,284835224,4246832056,1258075500,768725851,2589189241,3069724005,3532540348,1274779536,3789419226,2764799539,1660621633,3471099624,4011903706,913787905,3497959166,737222580,2514213453,2928710040,3937242737,1804850592,3499020752,2949064160,2386320175,2390070455,2415321851,4061277028,2290661394,2416832540,1336762016,1754252060,3520065937,3014181293,791618072,3188594551,3933548030,2332172193,3852520463,3043980520,413987798,3465142937,3030929376,4245938359,2093235073,3534596313,375366246,2157278981,2479649556,555357303,3870105701,2008414854,3344188149,4221384143,3956125452,2067696032,3594591187,2921233993,2428461,544322398,577241275,1471733935,610547355,4027169054,1432588573,1507829418,2025931657,3646575487,545086370,48609733,2200306550,1653985193,298326376,1316178497,3007786442,2064951626,458293330,2589141269,3591329599,3164325604,727753846,2179363840,146436021,1461446943,4069977195,705550613,3059967265,3887724982,4281599278,3313849956,1404054877,2845806497,146425753,1854211946],[1266315497,3048417604,3681880366,3289982499,290971e4,1235738493,2632868024,2414719590,3970600049,1771706367,1449415276,3266420449,422970021,1963543593,2690192192,3826793022,1062508698,1531092325,1804592342,2583117782,2714934279,4024971509,1294809318,4028980673,1289560198,2221992742,1669523910,35572830,157838143,1052438473,1016535060,1802137761,1753167236,1386275462,3080475397,2857371447,1040679964,2145300060,2390574316,1461121720,2956646967,4031777805,4028374788,33600511,2920084762,1018524850,629373528,3691585981,3515945977,2091462646,2486323059,586499841,988145025,935516892,3367335476,2599673255,2839830854,265290510,3972581182,2759138881,3795373465,1005194799,847297441,406762289,1314163512,1332590856,1866599683,4127851711,750260880,613907577,1450815602,3165620655,3734664991,3650291728,3012275730,3704569646,1427272223,778793252,1343938022,2676280711,2052605720,1946737175,3164576444,3914038668,3967478842,3682934266,1661551462,3294938066,4011595847,840292616,3712170807,616741398,312560963,711312465,1351876610,322626781,1910503582,271666773,2175563734,1594956187,70604529,3617834859,1007753275,1495573769,4069517037,2549218298,2663038764,504708206,2263041392,3941167025,2249088522,1514023603,1998579484,1312622330,694541497,2582060303,2151582166,1382467621,776784248,2618340202,3323268794,2497899128,2784771155,503983604,4076293799,907881277,423175695,432175456,1378068232,4145222326,3954048622,3938656102,3820766613,2793130115,2977904593,26017576,3274890735,3194772133,1700274565,1756076034,4006520079,3677328699,720338349,1533947780,354530856,688349552,3973924725,1637815568,332179504,3949051286,53804574,2852348879,3044236432,1282449977,3583942155,3416972820,4006381244,1617046695,2628476075,3002303598,1686838959,431878346,2686675385,1700445008,1080580658,1009431731,832498133,3223435511,2605976345,2271191193,2516031870,1648197032,4164389018,2548247927,300782431,375919233,238389289,3353747414,2531188641,2019080857,1475708069,455242339,2609103871,448939670,3451063019,1395535956,2413381860,1841049896,1491858159,885456874,4264095073,4001119347,1565136089,3898914787,1108368660,540939232,1173283510,2745871338,3681308437,4207628240,3343053890,4016749493,1699691293,1103962373,3625875870,2256883143,3830138730,1031889488,3479347698,1535977030,4236805024,3251091107,2132092099,1774941330,1199868427,1452454533,157007616,2904115357,342012276,595725824,1480756522,206960106,497939518,591360097,863170706,2375253569,3596610801,1814182875,2094937945,3421402208,1082520231,3463918190,2785509508,435703966,3908032597,1641649973,2842273706,3305899714,1510255612,2148256476,2655287854,3276092548,4258621189,236887753,3681803219,274041037,1734335097,3815195456,3317970021,1899903192,1026095262,4050517792,356393447,2410691914,3873677099,3682840055],[3913112168,2491498743,4132185628,2489919796,1091903735,1979897079,3170134830,3567386728,3557303409,857797738,1136121015,1342202287,507115054,2535736646,337727348,3213592640,1301675037,2528481711,1895095763,1721773893,3216771564,62756741,2142006736,835421444,2531993523,1442658625,3659876326,2882144922,676362277,1392781812,170690266,3921047035,1759253602,3611846912,1745797284,664899054,1329594018,3901205900,3045908486,2062866102,2865634940,3543621612,3464012697,1080764994,553557557,3656615353,3996768171,991055499,499776247,1265440854,648242737,3940784050,980351604,3713745714,1749149687,3396870395,4211799374,3640570775,1161844396,3125318951,1431517754,545492359,4268468663,3499529547,1437099964,2702547544,3433638243,2581715763,2787789398,1060185593,1593081372,2418618748,4260947970,69676912,2159744348,86519011,2512459080,3838209314,1220612927,3339683548,133810670,1090789135,1078426020,1569222167,845107691,3583754449,4072456591,1091646820,628848692,1613405280,3757631651,526609435,236106946,48312990,2942717905,3402727701,1797494240,859738849,992217954,4005476642,2243076622,3870952857,3732016268,765654824,3490871365,2511836413,1685915746,3888969200,1414112111,2273134842,3281911079,4080962846,172450625,2569994100,980381355,4109958455,2819808352,2716589560,2568741196,3681446669,3329971472,1835478071,660984891,3704678404,4045999559,3422617507,3040415634,1762651403,1719377915,3470491036,2693910283,3642056355,3138596744,1364962596,2073328063,1983633131,926494387,3423689081,2150032023,4096667949,1749200295,3328846651,309677260,2016342300,1779581495,3079819751,111262694,1274766160,443224088,298511866,1025883608,3806446537,1145181785,168956806,3641502830,3584813610,1689216846,3666258015,3200248200,1692713982,2646376535,4042768518,1618508792,1610833997,3523052358,4130873264,2001055236,3610705100,2202168115,4028541809,2961195399,1006657119,2006996926,3186142756,1430667929,3210227297,1314452623,4074634658,4101304120,2273951170,1399257539,3367210612,3027628629,1190975929,2062231137,2333990788,2221543033,2438960610,1181637006,548689776,2362791313,3372408396,3104550113,3145860560,296247880,1970579870,3078560182,3769228297,1714227617,3291629107,3898220290,166772364,1251581989,493813264,448347421,195405023,2709975567,677966185,3703036547,1463355134,2715995803,1338867538,1343315457,2802222074,2684532164,233230375,2599980071,2000651841,3277868038,1638401717,4028070440,3237316320,6314154,819756386,300326615,590932579,1405279636,3267499572,3150704214,2428286686,3959192993,3461946742,1862657033,1266418056,963775037,2089974820,2263052895,1917689273,448879540,3550394620,3981727096,150775221,3627908307,1303187396,508620638,2975983352,2726630617,1817252668,1876281319,1457606340,908771278,3720792119,3617206836,2455994898,1729034894,1080033504],[976866871,3556439503,2881648439,1522871579,1555064734,1336096578,3548522304,2579274686,3574697629,3205460757,3593280638,3338716283,3079412587,564236357,2993598910,1781952180,1464380207,3163844217,3332601554,1699332808,1393555694,1183702653,3581086237,1288719814,691649499,2847557200,2895455976,3193889540,2717570544,1781354906,1676643554,2592534050,3230253752,1126444790,2770207658,2633158820,2210423226,2615765581,2414155088,3127139286,673620729,2805611233,1269405062,4015350505,3341807571,4149409754,1057255273,2012875353,2162469141,2276492801,2601117357,993977747,3918593370,2654263191,753973209,36408145,2530585658,25011837,3520020182,2088578344,530523599,2918365339,1524020338,1518925132,3760827505,3759777254,1202760957,3985898139,3906192525,674977740,4174734889,2031300136,2019492241,3983892565,4153806404,3822280332,352677332,2297720250,60907813,90501309,3286998549,1016092578,2535922412,2839152426,457141659,509813237,4120667899,652014361,1966332200,2975202805,55981186,2327461051,676427537,3255491064,2882294119,3433927263,1307055953,942726286,933058658,2468411793,3933900994,4215176142,1361170020,2001714738,2830558078,3274259782,1222529897,1679025792,2729314320,3714953764,1770335741,151462246,3013232138,1682292957,1483529935,471910574,1539241949,458788160,3436315007,1807016891,3718408830,978976581,1043663428,3165965781,1927990952,4200891579,2372276910,3208408903,3533431907,1412390302,2931980059,4132332400,1947078029,3881505623,4168226417,2941484381,1077988104,1320477388,886195818,18198404,3786409e3,2509781533,112762804,3463356488,1866414978,891333506,18488651,661792760,1628790961,3885187036,3141171499,876946877,2693282273,1372485963,791857591,2686433993,3759982718,3167212022,3472953795,2716379847,445679433,3561995674,3504004811,3574258232,54117162,3331405415,2381918588,3769707343,4154350007,1140177722,4074052095,668550556,3214352940,367459370,261225585,2610173221,4209349473,3468074219,3265815641,314222801,3066103646,3808782860,282218597,3406013506,3773591054,379116347,1285071038,846784868,2669647154,3771962079,3550491691,2305946142,453669953,1268987020,3317592352,3279303384,3744833421,2610507566,3859509063,266596637,3847019092,517658769,3462560207,3443424879,370717030,4247526661,2224018117,4143653529,4112773975,2788324899,2477274417,1456262402,2901442914,1517677493,1846949527,2295493580,3734397586,2176403920,1280348187,1908823572,3871786941,846861322,1172426758,3287448474,3383383037,1655181056,3139813346,901632758,1897031941,2986607138,3066810236,3447102507,1393639104,373351379,950779232,625454576,3124240540,4148612726,2007998917,544563296,2244738638,2330496472,2058025392,1291430526,424198748,50039436,29584100,3605783033,2429876329,2791104160,1057563949,3255363231,3075367218,3463963227,1469046755,985887462]];var a={pbox:[],sbox:[]};function l(e,t){let n=t>>24&255,i=t>>16&255,r=t>>8&255,o=255&t,s=e.sbox[0][n]+e.sbox[1][i];return s^=e.sbox[2][r],s+=e.sbox[3][o],s}function c(e,t,n){let i,o=t,s=n;for(let a=0;a<r;++a)o^=e.pbox[a],s=l(e,o)^s,i=o,o=s,s=i;return i=o,o=s,s=i,s^=e.pbox[r],o^=e.pbox[r+1],{left:o,right:s}}function u(e,t,n){let i,o=t,s=n;for(let a=r+1;a>1;--a)o^=e.pbox[a],s=l(e,o)^s,i=o,o=s,s=i;return i=o,o=s,s=i,s^=e.pbox[1],o^=e.pbox[0],{left:o,right:s}}function h(e,t,n){for(let r=0;r<4;r++){e.sbox[r]=[];for(let t=0;t<256;t++)e.sbox[r][t]=s[r][t]}let i=0;for(let s=0;s<r+2;s++)e.pbox[s]=o[s]^t[i],i++,i>=n&&(i=0);let a=0,l=0,u=0;for(let o=0;o<r+2;o+=2)u=c(e,a,l),a=u.left,l=u.right,e.pbox[o]=a,e.pbox[o+1]=l;for(let r=0;r<4;r++)for(let t=0;t<256;t+=2)u=c(e,a,l),a=u.left,l=u.right,e.sbox[r][t]=a,e.sbox[r][t+1]=l;return!0}var d=i.Blowfish=n.extend({_doReset:function(){if(this._keyPriorReset!==this._key){var e=this._keyPriorReset=this._key,t=e.words,n=e.sigBytes/4;h(a,t,n)}},encryptBlock:function(e,t){var n=c(a,e[t],e[t+1]);e[t]=n.left,e[t+1]=n.right},decryptBlock:function(e,t){var n=u(a,e[t],e[t+1]);e[t]=n.left,e[t+1]=n.right},blockSize:2,keySize:4,ivSize:2});t.Blowfish=n._createHelper(d)}(),e.Blowfish)),Ne.exports;var e}var Be,Ge,qe,We,Xe,Ue,He;const Ve=r((Be||(Be=1,s.exports=function(e){return e}(u(),p(),m(),y(),w(),C(),R(),A(),L(),z||(z=1,O.exports=(He=u(),L(),qe=(Ge=He).lib.WordArray,We=Ge.algo,Xe=We.SHA256,Ue=We.SHA224=Xe.extend({_doReset:function(){this._hash=new qe.init([3238371032,914150663,812702999,4144912697,4290775857,1750603025,1694076839,3204075428])},_doFinalize:function(){var e=Xe._doFinalize.call(this);return e.sigBytes-=4,e}}),Ge.SHA224=Xe._createHelper(Ue),Ge.HmacSHA224=Xe._createHmacHelper(Ue),He.SHA224)),N(),function(){return $||($=1,B.exports=(a=u(),p(),N(),t=(e=a).x64,n=t.Word,i=t.WordArray,r=e.algo,o=r.SHA512,s=r.SHA384=o.extend({_doReset:function(){this._hash=new i.init([new n.init(3418070365,3238371032),new n.init(1654270250,914150663),new n.init(2438529370,812702999),new n.init(355462360,4144912697),new n.init(1731405415,4290775857),new n.init(2394180231,1750603025),new n.init(3675008525,1694076839),new n.init(1203062813,3204075428)])},_doFinalize:function(){var e=o._doFinalize.call(this);return e.sigBytes-=16,e}}),e.SHA384=o._createHelper(s),e.HmacSHA384=o._createHmacHelper(s),a.SHA384)),B.exports;var e,t,n,i,r,o,s,a}(),W(),function(){return X||(X=1,U.exports=(e=u(),
/** @preserve
          			(c) 2012 by Cédric Mesnil. All rights reserved.
        
          			Redistribution and use in source and binary forms, with or without modification, are permitted provided that the following conditions are met:
        
          			    - Redistributions of source code must retain the above copyright notice, this list of conditions and the following disclaimer.
          			    - Redistributions in binary form must reproduce the above copyright notice, this list of conditions and the following disclaimer in the documentation and/or other materials provided with the distribution.
        
          			THIS SOFTWARE IS PROVIDED BY THE COPYRIGHT HOLDERS AND CONTRIBUTORS "AS IS" AND ANY EXPRESS OR IMPLIED WARRANTIES, INCLUDING, BUT NOT LIMITED TO, THE IMPLIED WARRANTIES OF MERCHANTABILITY AND FITNESS FOR A PARTICULAR PURPOSE ARE DISCLAIMED. IN NO EVENT SHALL THE COPYRIGHT HOLDER OR CONTRIBUTORS BE LIABLE FOR ANY DIRECT, INDIRECT, INCIDENTAL, SPECIAL, EXEMPLARY, OR CONSEQUENTIAL DAMAGES (INCLUDING, BUT NOT LIMITED TO, PROCUREMENT OF SUBSTITUTE GOODS OR SERVICES; LOSS OF USE, DATA, OR PROFITS; OR BUSINESS INTERRUPTION) HOWEVER CAUSED AND ON ANY THEORY OF LIABILITY, WHETHER IN CONTRACT, STRICT LIABILITY, OR TORT (INCLUDING NEGLIGENCE OR OTHERWISE) ARISING IN ANY WAY OUT OF THE USE OF THIS SOFTWARE, EVEN IF ADVISED OF THE POSSIBILITY OF SUCH DAMAGE.
          			*/
function(){var t=e,n=t.lib,i=n.WordArray,r=n.Hasher,o=t.algo,s=i.create([0,1,2,3,4,5,6,7,8,9,10,11,12,13,14,15,7,4,13,1,10,6,15,3,12,0,9,5,2,14,11,8,3,10,14,4,9,15,8,1,2,7,0,6,13,11,5,12,1,9,11,10,0,8,12,4,13,3,7,15,14,5,6,2,4,0,5,9,7,12,2,10,14,1,3,8,11,6,15,13]),a=i.create([5,14,7,0,9,2,11,4,13,6,15,8,1,10,3,12,6,11,3,7,0,13,5,10,14,15,8,12,4,9,1,2,15,5,1,3,7,14,6,9,11,8,12,2,10,0,4,13,8,6,4,1,3,11,15,0,5,12,2,13,9,7,10,14,12,15,10,4,1,5,8,7,6,2,13,14,0,3,9,11]),l=i.create([11,14,15,12,5,8,7,9,11,13,14,15,6,7,9,8,7,6,8,13,11,9,7,15,7,12,15,9,11,7,13,12,11,13,6,7,14,9,13,15,14,8,13,6,5,12,7,5,11,12,14,15,14,15,9,8,9,14,5,6,8,6,5,12,9,15,5,11,6,8,13,12,5,12,13,14,11,8,5,6]),c=i.create([8,9,9,11,13,15,15,5,7,7,8,11,14,14,12,6,9,13,15,7,12,8,9,11,7,7,12,7,6,15,13,11,9,7,15,11,8,6,6,14,12,13,5,14,13,13,7,5,15,5,8,11,14,14,6,14,6,9,12,9,12,5,15,8,8,5,12,9,12,5,14,6,8,13,6,5,15,13,11,11]),u=i.create([0,1518500249,1859775393,2400959708,2840853838]),h=i.create([1352829926,1548603684,1836072691,2053994217,0]),d=o.RIPEMD160=r.extend({_doReset:function(){this._hash=i.create([1732584193,4023233417,2562383102,271733878,3285377520])},_doProcessBlock:function(e,t){for(var n=0;n<16;n++){var i=t+n,r=e[i];e[i]=16711935&(r<<8|r>>>24)|4278255360&(r<<24|r>>>8)}var o,d,y,x,b,w,k,S,C,E,T,R=this._hash.words,M=u.words,I=h.words,A=s.words,P=a.words,F=l.words,L=c.words;for(w=o=R[0],k=d=R[1],S=y=R[2],C=x=R[3],E=b=R[4],n=0;n<80;n+=1)T=o+e[t+A[n]]|0,T+=n<16?p(d,y,x)+M[0]:n<32?f(d,y,x)+M[1]:n<48?g(d,y,x)+M[2]:n<64?m(d,y,x)+M[3]:v(d,y,x)+M[4],T=(T=_(T|=0,F[n]))+b|0,o=b,b=x,x=_(y,10),y=d,d=T,T=w+e[t+P[n]]|0,T+=n<16?v(k,S,C)+I[0]:n<32?m(k,S,C)+I[1]:n<48?g(k,S,C)+I[2]:n<64?f(k,S,C)+I[3]:p(k,S,C)+I[4],T=(T=_(T|=0,L[n]))+E|0,w=E,E=C,C=_(S,10),S=k,k=T;T=R[1]+y+C|0,R[1]=R[2]+x+E|0,R[2]=R[3]+b+w|0,R[3]=R[4]+o+k|0,R[4]=R[0]+d+S|0,R[0]=T},_doFinalize:function(){var e=this._data,t=e.words,n=8*this._nDataBytes,i=8*e.sigBytes;t[i>>>5]|=128<<24-i%32,t[14+(i+64>>>9<<4)]=16711935&(n<<8|n>>>24)|4278255360&(n<<24|n>>>8),e.sigBytes=4*(t.length+1),this._process();for(var r=this._hash,o=r.words,s=0;s<5;s++){var a=o[s];o[s]=16711935&(a<<8|a>>>24)|4278255360&(a<<24|a>>>8)}return r},clone:function(){var e=r.clone.call(this);return e._hash=this._hash.clone(),e}});function p(e,t,n){return e^t^n}function f(e,t,n){return e&t|~e&n}function g(e,t,n){return(e|~t)^n}function m(e,t,n){return e&n|t&~n}function v(e,t,n){return e^(t|~n)}function _(e,t){return e<<t|e>>>32-t}t.RIPEMD160=r._createHelper(d),t.HmacRIPEMD160=r._createHmacHelper(d)}(),e.RIPEMD160)),U.exports;var e}(),Y(),function(){return Z||(Z=1,K.exports=(l=u(),L(),Y(),t=(e=l).lib,n=t.Base,i=t.WordArray,r=e.algo,o=r.SHA256,s=r.HMAC,a=r.PBKDF2=n.extend({cfg:n.extend({keySize:4,hasher:o,iterations:25e4}),init:function(e){this.cfg=this.cfg.extend(e)},compute:function(e,t){for(var n=this.cfg,r=s.create(n.hasher,e),o=i.create(),a=i.create([1]),l=o.words,c=a.words,u=n.keySize,h=n.iterations;l.length<u;){var d=r.update(t).finalize(a);r.reset();for(var p=d.words,f=p.length,g=d,m=1;m<h;m++){g=r.finalize(g),r.reset();for(var v=g.words,_=0;_<f;_++)p[_]^=v[_]}o.concat(d),c[0]++}return o.sigBytes=4*u,o}}),e.PBKDF2=function(e,t,n){return a.create(n).compute(e,t)},l.PBKDF2)),K.exports;var e,t,n,i,r,o,s,a,l}(),ee(),ie(),function(){return re||(re=1,oe.exports=(e=u(),ie(),e.mode.CFB=function(){var t=e.lib.BlockCipherMode.extend();function n(e,t,n,i){var r,o=this._iv;o?(r=o.slice(0),this._iv=void 0):r=this._prevBlock,i.encryptBlock(r,0);for(var s=0;s<n;s++)e[t+s]^=r[s]}return t.Encryptor=t.extend({processBlock:function(e,t){var i=this._cipher,r=i.blockSize;n.call(this,e,t,r,i),this._prevBlock=e.slice(t,t+r)}}),t.Decryptor=t.extend({processBlock:function(e,t){var i=this._cipher,r=i.blockSize,o=e.slice(t,t+r);n.call(this,e,t,r,i),this._prevBlock=o}}),t}(),e.mode.CFB)),oe.exports;var e}(),function(){return se||(se=1,ae.exports=(n=u(),ie(),n.mode.CTR=(e=n.lib.BlockCipherMode.extend(),t=e.Encryptor=e.extend({processBlock:function(e,t){var n=this._cipher,i=n.blockSize,r=this._iv,o=this._counter;r&&(o=this._counter=r.slice(0),this._iv=void 0);var s=o.slice(0);n.encryptBlock(s,0),o[i-1]=o[i-1]+1|0;for(var a=0;a<i;a++)e[t+a]^=s[a]}}),e.Decryptor=t,e),n.mode.CTR)),ae.exports;var e,t,n}(),ue(),function(){return he||(he=1,de.exports=(n=u(),ie(),n.mode.OFB=(e=n.lib.BlockCipherMode.extend(),t=e.Encryptor=e.extend({processBlock:function(e,t){var n=this._cipher,i=n.blockSize,r=this._iv,o=this._keystream;r&&(o=this._keystream=r.slice(0),this._iv=void 0),n.encryptBlock(o,0);for(var s=0;s<i;s++)e[t+s]^=o[s]}}),e.Decryptor=t,e),n.mode.OFB)),de.exports;var e,t,n}(),function(){return pe||(pe=1,fe.exports=(t=u(),ie(),t.mode.ECB=((e=t.lib.BlockCipherMode.extend()).Encryptor=e.extend({processBlock:function(e,t){this._cipher.encryptBlock(e,t)}}),e.Decryptor=e.extend({processBlock:function(e,t){this._cipher.decryptBlock(e,t)}}),e),t.mode.ECB)),fe.exports;var e,t}(),function(){return ge||(ge=1,me.exports=(e=u(),ie(),e.pad.AnsiX923={pad:function(e,t){var n=e.sigBytes,i=4*t,r=i-n%i,o=n+r-1;e.clamp(),e.words[o>>>2]|=r<<24-o%4*8,e.sigBytes+=r},unpad:function(e){var t=255&e.words[e.sigBytes-1>>>2];e.sigBytes-=t}},e.pad.Ansix923)),me.exports;var e}(),function(){return ve||(ve=1,_e.exports=(e=u(),ie(),e.pad.Iso10126={pad:function(t,n){var i=4*n,r=i-t.sigBytes%i;t.concat(e.lib.WordArray.random(r-1)).concat(e.lib.WordArray.create([r<<24],1))},unpad:function(e){var t=255&e.words[e.sigBytes-1>>>2];e.sigBytes-=t}},e.pad.Iso10126)),_e.exports;var e}(),function(){return ye||(ye=1,xe.exports=(e=u(),ie(),e.pad.Iso97971={pad:function(t,n){t.concat(e.lib.WordArray.create([2147483648],1)),e.pad.ZeroPadding.pad(t,n)},unpad:function(t){e.pad.ZeroPadding.unpad(t),t.sigBytes--}},e.pad.Iso97971)),xe.exports;var e}(),function(){return be||(be=1,we.exports=(e=u(),ie(),e.pad.ZeroPadding={pad:function(e,t){var n=4*t;e.clamp(),e.sigBytes+=n-(e.sigBytes%n||n)},unpad:function(e){var t=e.words,n=e.sigBytes-1;for(n=e.sigBytes-1;n>=0;n--)if(t[n>>>2]>>>24-n%4*8&255){e.sigBytes=n+1;break}}},e.pad.ZeroPadding)),we.exports;var e}(),function(){return ke||(ke=1,Se.exports=(e=u(),ie(),e.pad.NoPadding={pad:function(){},unpad:function(){}},e.pad.NoPadding)),Se.exports;var e}(),function(){return Ce||(Ce=1,Ee.exports=(i=u(),ie(),t=(e=i).lib.CipherParams,n=e.enc.Hex,e.format.Hex={stringify:function(e){return e.ciphertext.toString(n)},parse:function(e){var i=n.parse(e);return t.create({ciphertext:i})}},i.format.Hex)),Ee.exports;var e,t,n,i}(),function(){return Te||(Te=1,Re.exports=(e=u(),w(),R(),ee(),ie(),function(){var t=e,n=t.lib.BlockCipher,i=t.algo,r=[],o=[],s=[],a=[],l=[],c=[],u=[],h=[],d=[],p=[];!function(){for(var e=[],t=0;t<256;t++)e[t]=t<128?t<<1:t<<1^283;var n=0,i=0;for(t=0;t<256;t++){var f=i^i<<1^i<<2^i<<3^i<<4;f=f>>>8^255&f^99,r[n]=f,o[f]=n;var g=e[n],m=e[g],v=e[m],_=257*e[f]^16843008*f;s[n]=_<<24|_>>>8,a[n]=_<<16|_>>>16,l[n]=_<<8|_>>>24,c[n]=_,_=16843009*v^65537*m^257*g^16843008*n,u[f]=_<<24|_>>>8,h[f]=_<<16|_>>>16,d[f]=_<<8|_>>>24,p[f]=_,n?(n=g^e[e[e[v^g]]],i^=e[e[i]]):n=i=1}}();var f=[0,1,2,4,8,16,32,64,128,27,54],g=i.AES=n.extend({_doReset:function(){if(!this._nRounds||this._keyPriorReset!==this._key){for(var e=this._keyPriorReset=this._key,t=e.words,n=e.sigBytes/4,i=4*((this._nRounds=n+6)+1),o=this._keySchedule=[],s=0;s<i;s++)s<n?o[s]=t[s]:(c=o[s-1],s%n?n>6&&s%n==4&&(c=r[c>>>24]<<24|r[c>>>16&255]<<16|r[c>>>8&255]<<8|r[255&c]):(c=r[(c=c<<8|c>>>24)>>>24]<<24|r[c>>>16&255]<<16|r[c>>>8&255]<<8|r[255&c],c^=f[s/n|0]<<24),o[s]=o[s-n]^c);for(var a=this._invKeySchedule=[],l=0;l<i;l++){if(s=i-l,l%4)var c=o[s];else c=o[s-4];a[l]=l<4||s<=4?c:u[r[c>>>24]]^h[r[c>>>16&255]]^d[r[c>>>8&255]]^p[r[255&c]]}}},encryptBlock:function(e,t){this._doCryptBlock(e,t,this._keySchedule,s,a,l,c,r)},decryptBlock:function(e,t){var n=e[t+1];e[t+1]=e[t+3],e[t+3]=n,this._doCryptBlock(e,t,this._invKeySchedule,u,h,d,p,o),n=e[t+1],e[t+1]=e[t+3],e[t+3]=n},_doCryptBlock:function(e,t,n,i,r,o,s,a){for(var l=this._nRounds,c=e[t]^n[0],u=e[t+1]^n[1],h=e[t+2]^n[2],d=e[t+3]^n[3],p=4,f=1;f<l;f++){var g=i[c>>>24]^r[u>>>16&255]^o[h>>>8&255]^s[255&d]^n[p++],m=i[u>>>24]^r[h>>>16&255]^o[d>>>8&255]^s[255&c]^n[p++],v=i[h>>>24]^r[d>>>16&255]^o[c>>>8&255]^s[255&u]^n[p++],_=i[d>>>24]^r[c>>>16&255]^o[u>>>8&255]^s[255&h]^n[p++];c=g,u=m,h=v,d=_}g=(a[c>>>24]<<24|a[u>>>16&255]<<16|a[h>>>8&255]<<8|a[255&d])^n[p++],m=(a[u>>>24]<<24|a[h>>>16&255]<<16|a[d>>>8&255]<<8|a[255&c])^n[p++],v=(a[h>>>24]<<24|a[d>>>16&255]<<16|a[c>>>8&255]<<8|a[255&u])^n[p++],_=(a[d>>>24]<<24|a[c>>>16&255]<<16|a[u>>>8&255]<<8|a[255&h])^n[p++],e[t]=g,e[t+1]=m,e[t+2]=v,e[t+3]=_},keySize:8});t.AES=n._createHelper(g)}(),e.AES)),Re.exports;var e}(),Ae(),function(){return Pe||(Pe=1,Fe.exports=(e=u(),w(),R(),ee(),ie(),function(){var t=e,n=t.lib.StreamCipher,i=t.algo,r=i.RC4=n.extend({_doReset:function(){for(var e=this._key,t=e.words,n=e.sigBytes,i=this._S=[],r=0;r<256;r++)i[r]=r;r=0;for(var o=0;r<256;r++){var s=r%n,a=t[s>>>2]>>>24-s%4*8&255;o=(o+i[r]+a)%256;var l=i[r];i[r]=i[o],i[o]=l}this._i=this._j=0},_doProcessBlock:function(e,t){e[t]^=o.call(this)},keySize:8,ivSize:0});function o(){for(var e=this._S,t=this._i,n=this._j,i=0,r=0;r<4;r++){n=(n+e[t=(t+1)%256])%256;var o=e[t];e[t]=e[n],e[n]=o,i|=e[(e[t]+e[n])%256]<<24-8*r}return this._i=t,this._j=n,i}t.RC4=n._createHelper(r);var s=i.RC4Drop=r.extend({cfg:r.cfg.extend({drop:192}),_doReset:function(){r._doReset.call(this);for(var e=this.cfg.drop;e>0;e--)o.call(this)}});t.RC4Drop=n._createHelper(s)}(),e.RC4)),Fe.exports;var e}(),function(){return Le||(Le=1,ze.exports=(e=u(),w(),R(),ee(),ie(),function(){var t=e,n=t.lib.StreamCipher,i=t.algo,r=[],o=[],s=[],a=i.Rabbit=n.extend({_doReset:function(){for(var e=this._key.words,t=this.cfg.iv,n=0;n<4;n++)e[n]=16711935&(e[n]<<8|e[n]>>>24)|4278255360&(e[n]<<24|e[n]>>>8);var i=this._X=[e[0],e[3]<<16|e[2]>>>16,e[1],e[0]<<16|e[3]>>>16,e[2],e[1]<<16|e[0]>>>16,e[3],e[2]<<16|e[1]>>>16],r=this._C=[e[2]<<16|e[2]>>>16,4294901760&e[0]|65535&e[1],e[3]<<16|e[3]>>>16,4294901760&e[1]|65535&e[2],e[0]<<16|e[0]>>>16,4294901760&e[2]|65535&e[3],e[1]<<16|e[1]>>>16,4294901760&e[3]|65535&e[0]];for(this._b=0,n=0;n<4;n++)l.call(this);for(n=0;n<8;n++)r[n]^=i[n+4&7];if(t){var o=t.words,s=o[0],a=o[1],c=16711935&(s<<8|s>>>24)|4278255360&(s<<24|s>>>8),u=16711935&(a<<8|a>>>24)|4278255360&(a<<24|a>>>8),h=c>>>16|4294901760&u,d=u<<16|65535&c;for(r[0]^=c,r[1]^=h,r[2]^=u,r[3]^=d,r[4]^=c,r[5]^=h,r[6]^=u,r[7]^=d,n=0;n<4;n++)l.call(this)}},_doProcessBlock:function(e,t){var n=this._X;l.call(this),r[0]=n[0]^n[5]>>>16^n[3]<<16,r[1]=n[2]^n[7]>>>16^n[5]<<16,r[2]=n[4]^n[1]>>>16^n[7]<<16,r[3]=n[6]^n[3]>>>16^n[1]<<16;for(var i=0;i<4;i++)r[i]=16711935&(r[i]<<8|r[i]>>>24)|4278255360&(r[i]<<24|r[i]>>>8),e[t+i]^=r[i]},blockSize:4,ivSize:2});function l(){for(var e=this._X,t=this._C,n=0;n<8;n++)o[n]=t[n];for(t[0]=t[0]+1295307597+this._b|0,t[1]=t[1]+3545052371+(t[0]>>>0<o[0]>>>0?1:0)|0,t[2]=t[2]+886263092+(t[1]>>>0<o[1]>>>0?1:0)|0,t[3]=t[3]+1295307597+(t[2]>>>0<o[2]>>>0?1:0)|0,t[4]=t[4]+3545052371+(t[3]>>>0<o[3]>>>0?1:0)|0,t[5]=t[5]+886263092+(t[4]>>>0<o[4]>>>0?1:0)|0,t[6]=t[6]+1295307597+(t[5]>>>0<o[5]>>>0?1:0)|0,t[7]=t[7]+3545052371+(t[6]>>>0<o[6]>>>0?1:0)|0,this._b=t[7]>>>0<o[7]>>>0?1:0,n=0;n<8;n++){var i=e[n]+t[n],r=65535&i,a=i>>>16,l=((r*r>>>17)+r*a>>>15)+a*a,c=((4294901760&i)*i|0)+((65535&i)*i|0);s[n]=l^c}e[0]=s[0]+(s[7]<<16|s[7]>>>16)+(s[6]<<16|s[6]>>>16)|0,e[1]=s[1]+(s[0]<<8|s[0]>>>24)+s[7]|0,e[2]=s[2]+(s[1]<<16|s[1]>>>16)+(s[0]<<16|s[0]>>>16)|0,e[3]=s[3]+(s[2]<<8|s[2]>>>24)+s[1]|0,e[4]=s[4]+(s[3]<<16|s[3]>>>16)+(s[2]<<16|s[2]>>>16)|0,e[5]=s[5]+(s[4]<<8|s[4]>>>24)+s[3]|0,e[6]=s[6]+(s[5]<<16|s[5]>>>16)+(s[4]<<16|s[4]>>>16)|0,e[7]=s[7]+(s[6]<<8|s[6]>>>24)+s[5]|0}t.Rabbit=n._createHelper(a)}(),e.Rabbit)),ze.exports;var e}(),function(){return Oe||(Oe=1,De.exports=(e=u(),w(),R(),ee(),ie(),function(){var t=e,n=t.lib.StreamCipher,i=t.algo,r=[],o=[],s=[],a=i.RabbitLegacy=n.extend({_doReset:function(){var e=this._key.words,t=this.cfg.iv,n=this._X=[e[0],e[3]<<16|e[2]>>>16,e[1],e[0]<<16|e[3]>>>16,e[2],e[1]<<16|e[0]>>>16,e[3],e[2]<<16|e[1]>>>16],i=this._C=[e[2]<<16|e[2]>>>16,4294901760&e[0]|65535&e[1],e[3]<<16|e[3]>>>16,4294901760&e[1]|65535&e[2],e[0]<<16|e[0]>>>16,4294901760&e[2]|65535&e[3],e[1]<<16|e[1]>>>16,4294901760&e[3]|65535&e[0]];this._b=0;for(var r=0;r<4;r++)l.call(this);for(r=0;r<8;r++)i[r]^=n[r+4&7];if(t){var o=t.words,s=o[0],a=o[1],c=16711935&(s<<8|s>>>24)|4278255360&(s<<24|s>>>8),u=16711935&(a<<8|a>>>24)|4278255360&(a<<24|a>>>8),h=c>>>16|4294901760&u,d=u<<16|65535&c;for(i[0]^=c,i[1]^=h,i[2]^=u,i[3]^=d,i[4]^=c,i[5]^=h,i[6]^=u,i[7]^=d,r=0;r<4;r++)l.call(this)}},_doProcessBlock:function(e,t){var n=this._X;l.call(this),r[0]=n[0]^n[5]>>>16^n[3]<<16,r[1]=n[2]^n[7]>>>16^n[5]<<16,r[2]=n[4]^n[1]>>>16^n[7]<<16,r[3]=n[6]^n[3]>>>16^n[1]<<16;for(var i=0;i<4;i++)r[i]=16711935&(r[i]<<8|r[i]>>>24)|4278255360&(r[i]<<24|r[i]>>>8),e[t+i]^=r[i]},blockSize:4,ivSize:2});function l(){for(var e=this._X,t=this._C,n=0;n<8;n++)o[n]=t[n];for(t[0]=t[0]+1295307597+this._b|0,t[1]=t[1]+3545052371+(t[0]>>>0<o[0]>>>0?1:0)|0,t[2]=t[2]+886263092+(t[1]>>>0<o[1]>>>0?1:0)|0,t[3]=t[3]+1295307597+(t[2]>>>0<o[2]>>>0?1:0)|0,t[4]=t[4]+3545052371+(t[3]>>>0<o[3]>>>0?1:0)|0,t[5]=t[5]+886263092+(t[4]>>>0<o[4]>>>0?1:0)|0,t[6]=t[6]+1295307597+(t[5]>>>0<o[5]>>>0?1:0)|0,t[7]=t[7]+3545052371+(t[6]>>>0<o[6]>>>0?1:0)|0,this._b=t[7]>>>0<o[7]>>>0?1:0,n=0;n<8;n++){var i=e[n]+t[n],r=65535&i,a=i>>>16,l=((r*r>>>17)+r*a>>>15)+a*a,c=((4294901760&i)*i|0)+((65535&i)*i|0);s[n]=l^c}e[0]=s[0]+(s[7]<<16|s[7]>>>16)+(s[6]<<16|s[6]>>>16)|0,e[1]=s[1]+(s[0]<<8|s[0]>>>24)+s[7]|0,e[2]=s[2]+(s[1]<<16|s[1]>>>16)+(s[0]<<16|s[0]>>>16)|0,e[3]=s[3]+(s[2]<<8|s[2]>>>24)+s[1]|0,e[4]=s[4]+(s[3]<<16|s[3]>>>16)+(s[2]<<16|s[2]>>>16)|0,e[5]=s[5]+(s[4]<<8|s[4]>>>24)+s[3]|0,e[6]=s[6]+(s[5]<<16|s[5]>>>16)+(s[4]<<16|s[4]>>>16)|0,e[7]=s[7]+(s[6]<<8|s[6]>>>24)+s[5]|0}t.RabbitLegacy=n._createHelper(a)}(),e.RabbitLegacy)),De.exports;var e}(),$e())),s.exports));if(void 0===Ye)var Ye=window;var Ze,Ke=Object.create,Je=Object.defineProperty,Qe=Object.getPrototypeOf,et=Object.prototype.hasOwnProperty,tt=Object.getOwnPropertyNames,nt=Object.getOwnPropertyDescriptor,it=(e,t)=>()=>(t||e((t={exports:{}}).exports,t),t.exports),rt=(e,t,n)=>{if((e=>{Je(e,"__esModule",{value:!0})})(e),t&&"object"==typeof t||"function"==typeof t)for(let i of tt(t))!et.call(e,i)&&"default"!==i&&Je(e,i,{get:()=>t[i],enumerable:!(n=nt(t,i))||n.enumerable});return e},ot=it((e,t)=>{t.exports=function(e){var t=typeof e;return null!=e&&("object"==t||"function"==t)}}),st=it((e,t)=>{var n="object"==typeof Ye&&Ye&&Ye.Object===Object&&Ye;t.exports=n}),at=it((e,t)=>{var n=st(),i="object"==typeof self&&self&&self.Object===Object&&self,r=n||i||Function("return this")();t.exports=r}),lt=it((e,t)=>{var n=at();t.exports=function(){return n.Date.now()}}),ct=it((e,t)=>{var n=at().Symbol;t.exports=n}),ut=it((e,t)=>{var n=ct(),i=Object.prototype,r=i.hasOwnProperty,o=i.toString,s=n?n.toStringTag:void 0;t.exports=function(e){var t=r.call(e,s),n=e[s];try{e[s]=void 0;var i=!0}catch(l){}var a=o.call(e);return i&&(t?e[s]=n:delete e[s]),a}}),ht=it((e,t)=>{var n=Object.prototype.toString;t.exports=function(e){return n.call(e)}}),dt=it((e,t)=>{var n=ct(),i=ut(),r=ht(),o=n?n.toStringTag:void 0;t.exports=function(e){return null==e?void 0===e?"[object Undefined]":"[object Null]":o&&o in Object(e)?i(e):r(e)}}),pt=it((e,t)=>{t.exports=function(e){return null!=e&&"object"==typeof e}}),ft=it((e,t)=>{var n=dt(),i=pt();t.exports=function(e){return"symbol"==typeof e||i(e)&&"[object Symbol]"==n(e)}}),gt=it((e,t)=>{var n=ot(),i=ft(),r=/^\s+|\s+$/g,o=/^[-+]0x[0-9a-f]+$/i,s=/^0b[01]+$/i,a=/^0o[0-7]+$/i,l=parseInt;t.exports=function(e){if("number"==typeof e)return e;if(i(e))return NaN;if(n(e)){var t="function"==typeof e.valueOf?e.valueOf():e;e=n(t)?t+"":t}if("string"!=typeof e)return 0===e?e:+e;e=e.replace(r,"");var c=s.test(e);return c||a.test(e)?l(e.slice(2),c?2:8):o.test(e)?NaN:+e}}),mt=it((e,t)=>{var n=ot(),i=lt(),r=gt(),o=Math.max,s=Math.min;t.exports=function(e,t,a){var l,c,u,h,d,p,f=0,g=!1,m=!1,v=!0;if("function"!=typeof e)throw new TypeError("Expected a function");function _(t){var n=l,i=c;return l=c=void 0,f=t,h=e.apply(i,n)}function y(e){var n=e-p;return void 0===p||n>=t||n<0||m&&e-f>=u}function x(){var e=i();if(y(e))return b(e);d=setTimeout(x,function(e){var n=t-(e-p);return m?s(n,u-(e-f)):n}(e))}function b(e){return d=void 0,v&&l?_(e):(l=c=void 0,h)}function w(){var e=i(),n=y(e);if(l=arguments,c=this,p=e,n){if(void 0===d)return function(e){return f=e,d=setTimeout(x,t),g?_(e):h}(p);if(m)return clearTimeout(d),d=setTimeout(x,t),_(p)}return void 0===d&&(d=setTimeout(x,t)),h}return t=r(t)||0,n(a)&&(g=!!a.leading,u=(m="maxWait"in a)?o(r(a.maxWait)||0,t):u,v="trailing"in a?!!a.trailing:v),w.cancel=function(){void 0!==d&&clearTimeout(d),f=0,l=p=c=d=void 0},w.flush=function(){return void 0===d?h:b(i())},w}}),vt=((Ze=mt())&&Ze.__esModule?Ze:rt(Je(null!=Ze?Ke(Qe(Ze)):{},"default",{value:Ze,enumerable:!0}),Ze)).default;function _t(){let e=[],t=[];function n(e,t){e.forEach(e=>{e.call(null,t)})}this.onSingleTap=function(t){"function"!=typeof t||e.includes(t)||e.push(t)},this.onDoubleTap=function(e){"function"!=typeof e||t.includes(e)||t.push(e)},this.attach=function(e){e instanceof Element&&(e.addEventListener("touchstart",c),e.addEventListener("touchmove",h),e.addEventListener("touchend",u),e.addEventListener("mousedown",d),e.addEventListener("mouseup",p),e.addEventListener("mousemove",f))},this.detach=function(e){e.removeEventListener("touchstart",c),e.removeEventListener("touchmove",h),e.removeEventListener("touchend",u),e.removeEventListener("mousedown",d),e.removeEventListener("mouseup",p),e.removeEventListener("mousemove",f)};let i=!1,r=0,o=0,s=0,a=0,l=0;function c(e){i=!0,1===e.touches.length&&g(e.touches[0].clientX,e.touches[0].clientY)}function u(e){0===e.touches.length&&m()}function h(e){1===e.touches.length&&v(e.touches[0].clientX,e.touches[0].clientY)}function d(e){i||g(e.clientX,e.clientY)}function p(e){i||m()}function f(e){i||0===e.button&&v(e.clientX,e.clientY)}function g(e,t){a=e,l=t,s=0}function m(){let i=Date.now();s<10&&(i-r<300?o+=1:o=1,r=Date.now(),n(e,{clientX:a,clientY:l}),2===o&&(n(t,{clientX:a,clientY:l}),o=0)),s=0}function v(e,t){let n=a-e,i=l-t,r=Math.sqrt(n*n+i*i);s+=r,a=e,l=t}}const yt={template:'<div\nref="root"\nclass="vue-zoomer"\n:style="{backgroundColor: backgroundColor}"\n@mousewheel="onMouseWheel"\n@DOMMouseScroll="onMouseWheel"\n@mousedown="onMouseDown"\n@mouseup="onMouseUp"\n@mousemove="onMouseMove"\n@mouseout="setPointerPosCenter"\n@touchstart="onTouchStart"\n@touchend="onTouchEnd"\n@touchmove="onTouchMove"\n>\n<div class="zoomer" :style="wrapperStyle">\n  <slot></slot>\n</div>\n</div>',props:{minScale:{type:Number,default:1},maxScale:{type:Number,default:5},zoomed:{type:Boolean,default:!1},resetTrigger:{type:Number,default:1e5},aspectRatio:{type:Number,default:1},backgroundColor:{type:String,default:"transparent"},pivot:{type:String,default:"cursor"},zoomingElastic:{type:Boolean,default:!0},limitTranslation:{type:Boolean,default:!0},doubleClickToZoom:{type:Boolean,default:!0},mouseWheelToZoom:{type:Boolean,default:!0}},data:()=>({containerWidth:1,containerHeight:1,containerLeft:0,containerTop:0,translateX:0,animTranslateX:0,translateY:0,animTranslateY:0,scale:1,animScale:1,lastFullWheelTime:0,lastWheelTime:0,lastWheelDirection:"y",isPointerDown:!1,pointerPosX:-1,pointerPosY:-1,twoFingerInitDist:0,panLocked:!0,raf:null,tapDetector:null}),computed:{wrapperStyle(){return{transform:[`translate(${this.containerWidth*this.animTranslateX}px, ${this.containerHeight*this.animTranslateY}px)`,`scale(${this.animScale})`].join(" ")}}},watch:{scale(e){1!==e&&(this.$emit("update:zoomed",!0),this.panLocked=!1)},resetTrigger:"reset"},mounted(){this.tapDetector=new _t,this.tapDetector.attach(this.$refs.root),this.doubleClickToZoom&&this.tapDetector.onDoubleTap(this.onDoubleTap),window.addEventListener("resize",this.onWindowResize),this.onWindowResize(),this.refreshContainerPos(),this.loop()},beforeUnmount(){this.tapDetector.detach(this.$refs.root),window.removeEventListener("resize",this.onWindowResize),window.cancelAnimationFrame(this.raf)},methods:{reset(){this.scale=1,this.panLocked=!0,this.translateX=0,this.translateY=0},zoomIn(e=2){this.tryToScale(e),this.onInteractionEnd()},zoomOut(e=.5){this.tryToScale(e),this.onInteractionEnd()},tryToScale(e){let t=this.scale*e;if(this.zoomingElastic){if(t<this.minScale||t>this.maxScale){let n=Math.log2(e);n*=.2,e=Math.pow(2,n),t=this.scale*e}}else t<this.minScale?t=this.minScale:t>this.maxScale&&(t=this.maxScale);if(e=t/this.scale,this.scale=t,"image-center"!==this.pivot){let t=(this.pointerPosX-this.containerLeft)/this.containerWidth,n=(this.pointerPosY-this.containerTop)/this.containerHeight;this.translateX=(.5+this.translateX-t)*e+t-.5,this.translateY=(.5+this.translateY-n)*e+n-.5}},setPointerPosCenter(){this.pointerPosX=this.containerLeft+this.containerWidth/2,this.pointerPosY=this.containerTop+this.containerHeight/2},onPointerMove(e,t){if(this.isPointerDown){let n=e-this.pointerPosX,i=t-this.pointerPosY;this.panLocked||(this.translateX+=n/this.containerWidth,this.translateY+=i/this.containerHeight)}this.pointerPosX=e,this.pointerPosY=t},onInteractionEnd:vt(function(){this.limit(),this.panLocked=1===this.scale,this.$emit("update:zoomed",!this.panLocked)},100),limit(){if(this.scale<this.minScale?this.scale=this.minScale:this.scale>this.maxScale&&this.tryToScale(this.maxScale/this.scale),this.limitTranslation){let e=this.calcTranslateLimit();Math.abs(this.translateX)>e.x&&(this.translateX*=e.x/Math.abs(this.translateX)),Math.abs(this.translateY)>e.y&&(this.translateY*=e.y/Math.abs(this.translateY))}},calcTranslateLimit(){if("y"===this.getMarginDirection()){let e=this.containerWidth/this.aspectRatio/this.containerHeight,t=(this.scale*e-1)/2;return t<0&&(t=0),{x:(this.scale-1)/2,y:t}}{let e=this.containerHeight*this.aspectRatio/this.containerWidth,t=(this.scale*e-1)/2;return t<0&&(t=0),{x:t,y:(this.scale-1)/2}}},getMarginDirection(){return this.containerWidth/this.containerHeight>this.aspectRatio?"x":"y"},onDoubleTap(e){1===this.scale?(e.clientX>0&&(this.pointerPosX=e.clientX,this.pointerPosY=e.clientY),this.tryToScale(Math.min(3,this.maxScale))):this.reset(),this.onInteractionEnd()},onWindowResize(){let e=window.getComputedStyle(this.$refs.root);this.containerWidth=parseFloat(e.width),this.containerHeight=parseFloat(e.height),this.setPointerPosCenter(),this.limit()},refreshContainerPos(){let e=this.$refs.root.getBoundingClientRect();this.containerLeft=e.left,this.containerTop=e.top},loop(){this.animScale=this.gainOn(this.animScale,this.scale),this.animTranslateX=this.gainOn(this.animTranslateX,this.translateX),this.animTranslateY=this.gainOn(this.animTranslateY,this.translateY),this.raf=window.requestAnimationFrame(this.loop)},gainOn(e,t){let n=.3*(t-e);return Math.abs(n)>1e-5?e+n:t},onMouseWheel(e){if(!this.mouseWheelToZoom)return;e.preventDefault(),e.detail&&(e.wheelDelta=-10*e.detail);let t=Date.now();120===Math.abs(e.wheelDelta)?t-this.lastFullWheelTime>50&&(this.onMouseWheelDo(e.wheelDelta),this.lastFullWheelTime=t):(t-this.lastWheelTime>50&&"number"==typeof e.deltaX&&(this.lastWheelDirection=0==e.detail&&Math.abs(e.deltaX)>Math.abs(e.deltaY)?"x":"y","x"===this.lastWheelDirection&&this.$emit("swipe",e.deltaX>0?"left":"right")),"y"===this.lastWheelDirection&&this.onMouseWheelDo(e.wheelDelta)),this.lastWheelTime=t},onMouseWheelDo(e){let t=Math.pow(1.25,e/120);this.tryToScale(t),this.onInteractionEnd()},onMouseDown(e){this.refreshContainerPos(),this.isPointerDown=!0,this.pointerPosX=e.clientX,this.pointerPosY=e.clientY},onMouseUp(e){this.isPointerDown=!1,this.onInteractionEnd()},onMouseMove(e){this.onPointerMove(e.clientX,e.clientY)},onTouchStart(e){if(1===e.touches.length)this.refreshContainerPos(),this.pointerPosX=e.touches[0].clientX,this.pointerPosY=e.touches[0].clientY,this.isPointerDown=!0;else if(2===e.touches.length){this.isPointerDown=!0,this.pointerPosX=(e.touches[0].clientX+e.touches[1].clientX)/2,this.pointerPosY=(e.touches[0].clientY+e.touches[1].clientY)/2;let t=e.touches[0].clientX-e.touches[1].clientX,n=e.touches[0].clientY-e.touches[1].clientY;this.twoFingerInitDist=Math.sqrt(t*t+n*n)}},onTouchEnd(e){0===e.touches.length?(this.isPointerDown=!1,Math.abs(this.scale-1)<.1&&(this.scale=1),this.onInteractionEnd()):1===e.touches.length&&(this.pointerPosX=e.touches[0].clientX,this.pointerPosY=e.touches[0].clientY)},onTouchMove(e){if(1===e.touches.length)this.onPointerMove(e.touches[0].clientX,e.touches[0].clientY);else if(2===e.touches.length){let t=(e.touches[0].clientX+e.touches[1].clientX)/2,n=(e.touches[0].clientY+e.touches[1].clientY)/2;this.onPointerMove(t,n),this.pointerPosX=t,this.pointerPosY=n;let i=e.touches[0].clientX-e.touches[1].clientX,r=e.touches[0].clientY-e.touches[1].clientY,o=Math.sqrt(i*i+r*r);this.tryToScale(o/this.twoFingerInitDist),this.twoFingerInitDist=o}}}},xt=e=>e.replace(/\n/g,""),bt=(e,t=0)=>{let n;return function(...i){clearTimeout(n),n=setTimeout(()=>e.apply(this,i),t)}},wt=()=>localStorage.getItem("lee6's-secret"),kt={template:xt('<svg fill="#fff" t="1658039132650" class="icon" viewBox="0 0 1024 1024" version="1.1" xmlns="http://www.w3.org/2000/svg" p-id="2251" width="25" height="25">\n<path d="M556.8 512L832 236.8c12.8-12.8 12.8-32 0-44.8-12.8-12.8-32-12.8-44.8 0L512 467.2l-275.2-277.333333c-12.8-12.8-32-12.8-44.8 0-12.8 12.8-12.8 32 0 44.8l275.2 277.333333-277.333333 275.2c-12.8 12.8-12.8 32 0 44.8 6.4 6.4 14.933333 8.533333 23.466666 8.533333s17.066667-2.133333 23.466667-8.533333L512 556.8 787.2 832c6.4 6.4 14.933333 8.533333 23.466667 8.533333s17.066667-2.133333 23.466666-8.533333c12.8-12.8 12.8-32 0-44.8L556.8 512z" p-id="2252"></path>\n</svg>')},St={template:xt('\n<Teleport :disabled="!visible" to="body">\n  <div style="line-height:initial">\n    <div v-if="visible" class="a-modal-wrapper">\n      <div class="a-modal-close" @click="this.close">\n        <v-close></v-close>\n      </div>\n      <div class="a-modal-actions">\n        <slot name="action"></slot>\n      </div>\n      <v-zoomer ref="zoomer" style="width:100%;height:100%;">\n        <slot name="popover"></slot>\n      </v-zoomer>\n    </div>\n    <div @click="this.pop">\n      <slot name="default"></slot>\n    </div>\n  </div>\n</Teleport>\n'),data:function(){return{visible:!1}},props:{scale:{type:Number,default:1}},watch:{scale(){this.$nextTick(function(){this.scale?this.zoomIn(this.scale):this.reset()})}},methods:{zoomIn:function(e){this.$refs.zoomer&&this.$refs.zoomer.zoomIn(e)},reset:function(){this.$refs.zoomer&&this.$refs.zoomer.reset()},pop:function(){this.visible=!0,this.$emit("popover"),this.$nextTick(function(){this.zoomIn(this.scale)}),document.body.style.overflowY="hidden"},close:function(){this.visible=!1,document.body.style.overflowY="auto"}},components:{"v-zoomer":yt,"v-close":kt}},Ct={template:xt('\n<span ref="lazy">\n  <slot name="default"></slot>\n</span>\n'),data:()=>({loaded:!1,handler:null}),mounted(){setTimeout(()=>{this.shouldLoad(()=>{this.listen()})},100)},beforeUnmount(){this.dismiss()},methods:{listen(){this.handler=bt(this.onscroll,100),document.addEventListener("scroll",this.handler)},dismiss(){document.removeEventListener("scroll",this.handler),this.handler=null},onscroll(){this.shouldLoad()},shouldLoad(e){const t=document.documentElement.clientHeight,n=.5*t,{bottom:i,top:r}=this.$refs.lazy.getBoundingClientRect();if(!this.loaded&&i-t<n&&r>0-n)return this.loaded=!0,this.$emit("load"),void this.dismiss();"function"==typeof e&&e()}}},Et={template:xt('\n<div style="width:100%;height:200px;text-align:center;line-height:120px;background:#fafafa">\n  <slot name="default"></slot>\n</div>\n')},Tt=xt('\n<a-lazyload @load="onLoad">\n  <a-placeholder v-if="visible && (!src && !srcMin)"></a-placeholder>\n  <a-modal v-if="!loading || (src || srcMin)" :scale="scale">\n    <template v-slot:action>\n      <div>\n        <div class="a-img-left-action">\n            <t-button type="text" style="padding:4px 5px;"  v-if="!src" @click="loadHD" :loading="loading">\n            <svg viewBox="0 0 1024 1024" version="1.1" xmlns="http://www.w3.org/2000/svg" width="20" height="20"><path d="M128 128h768a42.666667 42.666667 0 0 1 42.666667 42.666667v682.666666a42.666667 42.666667 0 0 1-42.666667 42.666667H128a42.666667 42.666667 0 0 1-42.666667-42.666667V170.666667a42.666667 42.666667 0 0 1 42.666667-42.666667z m192 352V384H256v256h64v-96h85.333333V640H469.333333V384H405.333333v96h-85.333333z m298.666667-32H682.666667a21.333333 21.333333 0 0 1 21.333333 21.333333v85.333334a21.333333 21.333333 0 0 1-21.333333 21.333333h-64v-128zM554.666667 384v256h128a85.333333 85.333333 0 0 0 85.333333-85.333333v-85.333334a85.333333 85.333333 0 0 0-85.333333-85.333333h-128z" fill="#fff"></path></svg>\n            </t-button>\n        </div>\n        <div class="a-img-right-action">\n            <t-button type="text" style="padding:4px 5px;" @click="scaleIn">\n                <svg viewBox="0 0 1024 1024" version="1.1" xmlns="http://www.w3.org/2000/svg" width="20" height="20"><path d="M149.333333 394.666667c17.066667 0 32-14.933333 32-32v-136.533334l187.733334 187.733334c6.4 6.4 14.933333 8.533333 23.466666 8.533333s17.066667-2.133333 23.466667-8.533333c12.8-12.8 12.8-32 0-44.8l-187.733333-187.733334H362.666667c17.066667 0 32-14.933333 32-32s-14.933333-32-32-32H149.333333c-4.266667 0-8.533333 0-10.666666 2.133334-8.533333 4.266667-14.933333 10.666667-19.2 17.066666-2.133333 4.266667-2.133333 8.533333-2.133334 12.8v213.333334c0 17.066667 14.933333 32 32 32zM874.666667 629.333333c-17.066667 0-32 14.933333-32 32v136.533334L642.133333 597.333333c-12.8-12.8-32-12.8-44.8 0s-12.8 32 0 44.8l200.533334 200.533334H661.333333c-17.066667 0-32 14.933333-32 32s14.933333 32 32 32h213.333334c4.266667 0 8.533333 0 10.666666-2.133334 8.533333-4.266667 14.933333-8.533333 17.066667-17.066666 2.133333-4.266667 2.133333-8.533333 2.133333-10.666667V661.333333c2.133333-17.066667-12.8-32-29.866666-32zM381.866667 595.2l-200.533334 200.533333V661.333333c0-17.066667-14.933333-32-32-32s-32 14.933333-32 32v213.333334c0 4.266667 0 8.533333 2.133334 10.666666 4.266667 8.533333 8.533333 14.933333 17.066666 17.066667 4.266667 2.133333 8.533333 2.133333 10.666667 2.133333h213.333333c17.066667 0 32-14.933333 32-32s-14.933333-32-32-32h-136.533333l200.533333-200.533333c12.8-12.8 12.8-32 0-44.8s-29.866667-10.666667-42.666666 0zM904.533333 138.666667c0-2.133333 0-2.133333 0 0-4.266667-8.533333-10.666667-14.933333-17.066666-17.066667-4.266667-2.133333-8.533333-2.133333-10.666667-2.133333H661.333333c-17.066667 0-32 14.933333-32 32s14.933333 32 32 32h136.533334l-187.733334 187.733333c-12.8 12.8-12.8 32 0 44.8 6.4 6.4 14.933333 8.533333 23.466667 8.533333s17.066667-2.133333 23.466667-8.533333l187.733333-187.733333V362.666667c0 17.066667 14.933333 32 32 32s32-14.933333 32-32V149.333333c-2.133333-4.266667-2.133333-8.533333-4.266667-10.666666z" fill="#fff"></path></svg>\n            </t-button>\n            <t-button type="text" style="padding:4px 5px;" @click="scaleOut">\n                <svg viewBox="0 0 1024 1024" version="1.1" xmlns="http://www.w3.org/2000/svg" width="20" height="20"><path d="M313.6 358.4H177.066667c-17.066667 0-32 14.933333-32 32s14.933333 32 32 32h213.333333c4.266667 0 8.533333 0 10.666667-2.133333 8.533333-4.266667 14.933333-8.533333 17.066666-17.066667 2.133333-4.266667 2.133333-8.533333 2.133334-10.666667v-213.333333c0-17.066667-14.933333-32-32-32s-32 14.933333-32 32v136.533333L172.8 125.866667c-12.8-12.8-32-12.8-44.8 0-12.8 12.8-12.8 32 0 44.8l185.6 187.733333zM695.466667 650.666667H832c17.066667 0 32-14.933333 32-32s-14.933333-32-32-32H618.666667c-4.266667 0-8.533333 0-10.666667 2.133333-8.533333 4.266667-14.933333 8.533333-17.066667 17.066667-2.133333 4.266667-2.133333 8.533333-2.133333 10.666666v213.333334c0 17.066667 14.933333 32 32 32s32-14.933333 32-32v-136.533334l200.533333 200.533334c6.4 6.4 14.933333 8.533333 23.466667 8.533333s17.066667-2.133333 23.466667-8.533333c12.8-12.8 12.8-32 0-44.8l-204.8-198.4zM435.2 605.866667c-4.266667-8.533333-8.533333-14.933333-17.066667-17.066667-4.266667-2.133333-8.533333-2.133333-10.666666-2.133333H192c-17.066667 0-32 14.933333-32 32s14.933333 32 32 32h136.533333L128 851.2c-12.8 12.8-12.8 32 0 44.8 6.4 6.4 14.933333 8.533333 23.466667 8.533333s17.066667-2.133333 23.466666-8.533333l200.533334-200.533333V832c0 17.066667 14.933333 32 32 32s32-14.933333 32-32V618.666667c-2.133333-4.266667-2.133333-8.533333-4.266667-12.8zM603.733333 403.2c4.266667 8.533333 8.533333 14.933333 17.066667 17.066667 4.266667 2.133333 8.533333 2.133333 10.666667 2.133333h213.333333c17.066667 0 32-14.933333 32-32s-14.933333-32-32-32h-136.533333L896 170.666667c12.8-12.8 12.8-32 0-44.8-12.8-12.8-32-12.8-44.8 0l-187.733333 187.733333V177.066667c0-17.066667-14.933333-32-32-32s-32 14.933333-32 32v213.333333c2.133333 4.266667 2.133333 8.533333 4.266666 12.8z" fill="#fff"></path></svg>\n            </t-button>\n        </div>\n      </div>\n    </template>\n    <template v-slot:popover>\n      <img class="a-img-popover-item" :src="visible && (src || srcMin)" :alt="name" />\n    </template>\n    <template v-slot:default>\n      <img v-if="visible && hide && (src || srcMin)" src="data:image/gif;base64,R0lGODlhAQABAIAAAMLCwgAAACH5BAAAAAAALAAAAAABAAEAAAICRAEAOw==" style="width:100vw;height:56.25vw;max-height:30vh" />\n      <img v-if="visible && !hide && (src || srcMin)" :src="src || srcMin" :alt="name" @load="onImageLoad" @error="onImageError" style="width:100%" />\n    </template>\n  </a-modal>\n</a-lazyload>\n'),Rt="localhost"===location.hostname,Mt=(e="docs/assets/")=>{const t=window.__img_repo_name__||"img";return Rt?`/packages/${t}/${e}`:`/${t}/assets/`},It={template:Tt,props:{name:{type:String,required:!0},dir:{type:String,default:"public"},hide:{type:Boolean,default:!1}},data:function(){const e=wt();return{img:void 0,src:void 0,srcMin:void 0,scale:void 0,secretKey:e,loading:!1,visible:!this.dir.includes("privacy")||!!e}},methods:{onLoad(){this.load("min","srcMin")},onImageLoad(e){this.img=e.target,this.scaleIn()},onImageError(e){window.antd.message.error(`${e.srcElement.getAttribute("src").split("/").slice(-1)} load error.`)},scaleIn(){this.scale=window.innerHeight/this.img.offsetHeight},scaleOut(){this.scale=0},loadHD(){this.load("","src")},load(e="",t="src"){const n=e=>{window.antd.message.error(e)},i=e=>(this.loading=!0,fetch(Mt()+e,{mode:"cors"}).then(e=>200===e.status?e.blob():(n(`${e.url.split("/").slice(-1)} ${e.statusText.toLowerCase()}.`),Promise.reject())).then(e=>new Promise(t=>{const n=new FileReader;n.onload=function(){const e=n.result.split("datatext/plainbase64")[1];t(e)},n.readAsDataURL(e)})).then(e=>{const n=function(e,t,n="encrypt"){const i=t.split(""),r=i.length<16?[...i,...Array.from(new Array(16-i.length)).map(()=>"0")].join(""):r,o=Ve.enc.Utf8.parse(r),s={iv:Ve.enc.Base64.parse(r)};if("decrypt"===n){const t=Ve.AES.decrypt({ciphertext:Ve.enc.Base64.parse(e)},o,s);return Ve.enc.Utf8.stringify(t)}return Ve.AES.encrypt(e,o,s).toString()}(e,this.secretKey,"decrypt"),i=URL.createObjectURL((e=>{const[t,n]=e.split(","),i=atob(n);let r=[];for(let s=0;s<i.length;s++)r.push(i.charCodeAt(s));const o=new Blob([new Uint8Array(r)],{type:t});return new File([o],`${(new Date).getTime()}`,{type:t})})(n));this[t]=i}).finally(()=>{this.loading=!1}));if("privacy"===this.dir){if(this.secretKey){const r=e?[this.name.split(".")[0],e,"webp"].join("."):this.name;i("privacy/"+r).finally(()=>{Rt&&!this[t]&&(this[t]=Mt("src/")+"privacy/"+this.name,n(`${r} asset load fail, use source instead.`))})}}else if("privacy-gif"===this.dir){if(this.secretKey){const r=e?[this.name.split(".")[0],e?e+".g1f":"gif"].join("."):this.name;i("privacy/"+r).finally(()=>{Rt&&!this[t]&&(this[t]=Mt("src/")+"privacy/"+this.name,n(`${r} asset load fail, use source instead.`))})}}else"animation"===this.dir?this[t]=Mt()+"animation/"+[this.name,e,"gif"].filter(e=>e).join("."):"origin"===this.dir?(this.srcMin=Mt()+this.name,this.src=this.srcMin):this[t]=Mt()+"public/"+[this.name,e,"webp"].filter(e=>e).join(".")}},components:{"a-modal":St,"a-lazyload":Ct,"a-placeholder":Et,"t-button":e.Button}},At={template:xt('\n<template v-if="loading">\n  <a-skeleton></a-skeleton>\n</template>\n<template v-if="!visible">\n  <span\n    v-if="this.blackout || this.content"\n    @click="decrypt"\n    style="\n      display: inline;\n      background-color: #333;\n      color: transparent;\n      padding: 0 8px;\n      user-select: none;\n      height: 18px;\n      line-height: 18px;\n      word-break: break-all;\n      letter-spacing: -5.5px;\n    "\n  >\n      {{ this.rawContent }}\n  </span>\n</template>\n<template v-else>\n  <span ref="t"></span>\n</template>\n'),props:{name:{type:String,required:!0},autoload:{type:Boolean,default:!1},blackout:{type:Boolean,default:!1}},data:function(){return{app:void 0,visible:!1,loading:!1,rawContent:void 0,content:void 0,secretKey:wt()}},beforeUnmount(){this.app&&(this.app.unmount(),this.app=null)},mounted(){this.secretKey&&(this.loading=!0,fetch(`assets/confidential/${this.name}.md`,{mode:"cors"}).then(e=>200===e.status?e.text():(window.antd.message.error(`${e.url.split("/").slice(-1)} ${e.statusText.toLowerCase()}.`),Promise.reject())).then(e=>{if(this.rawContent=e,this.secretKey){const t=16,i=this.secretKey.split(""),r=i.length<16?[...i,...Array.from(new Array(t-i.length)).map(()=>"0")].join(""):r,o=Ve.enc.Utf8.parse(r),s={iv:Ve.enc.Base64.parse(r)},a=Ve.AES.decrypt({ciphertext:Ve.enc.Base64.parse(e)},o,s),l=n(Ve.enc.Utf8.stringify(a));this.content=_docsify.compiler.compile(l),this.autoload&&this.decrypt()}}).finally(()=>this.loading=!1))},methods:{decrypt:function(){if(this.secretKey){const e=window.Vue.createApp({template:this.content,components:window.$docsify.vueComponents});this.visible=!0,this.app=e,setTimeout(()=>{e.mount(this.$refs.t),this.subSidebar()},0)}},subSidebar:function(e=_docsify.config.subMaxLevel){const t=document.querySelector(`.sidebar-nav a[href='${location.hash.split("?")[0]}']`);if(!t)return;const n=_docsify.compiler.genTree,i=_docsify.compiler.tree,r=[];document.getElementById("main").querySelectorAll("h1,h2,h3,h4,h5,h6").forEach(e=>{const t=Number(e.tagName.slice(-1)),n=e.innerText,i=e.children[0]?.getAttribute("href");i&&r.push({level:t,title:n,slug:i})}),r[0]&&1===r[0].level&&r.shift();const o=i(n(r,e),"{inner}"),s=t.parentNode.querySelector(".app-sub-sidebar");s&&(_docsify.compiler.toc=[],s.innerHTML=o)}},components:{"a-skeleton":window.antd.Skeleton}},Pt={template:xt('<div class="a-flight">\n<div class="a-flight-no"><span>{{ this.flight }}</span></div>\n<div class="am-steps am-steps-horizontal am-steps-label-vertical">\n<div class="am-steps-item am-steps-item-process am-steps-item-custom">\n<div class="am-steps-item-tail"></div>\n<div class="am-steps-item-icon">\n<span class="am-steps-icon">\n<i class="anticon">\n<svg t="1651558792798" class="icon" viewBox="0 0 1024 1024" version="1.1" xmlns="http://www.w3.org/2000/svg" p-id="1560" width="22" height="22"><path d="M152.362667 591.594667c2.218667-0.768 5.76 0.810667 8.106666 2.261333 24.661333 15.381333 49.130667 31.04 73.813334 46.357333 2.368 1.472 6.272 2.304 8.725333 1.429334 50.176-18.133333 100.266667-36.522667 150.357333-54.890667 0.853333-0.32 1.6-0.853333 3.050667-1.642667L203.648 285.866667c2.261333-0.981333 4.053333-1.877333 5.888-2.56 23.722667-8.746667 47.530667-17.28 71.146667-26.304 5.077333-1.92 8.32-1.024 12.416 2.24 101.781333 81.472 203.712 162.730667 305.450666 244.266666 5.226667 4.202667 9.258667 4.736 15.466667 2.432 80.96-29.930667 161.984-59.584 243.050667-89.173333 37.738667-13.781333 75.029333 8.554667 80.981333 48.298667 4.074667 27.157333-12.565333 54.101333-39.978667 64.192-63.786667 23.466667-127.637333 46.826667-191.445333 70.229333l-445.653333 163.413333c-32.064 11.776-56.533333 2.986667-76.992-24.704-18.666667-25.301333-39.36-49.088-59.178667-73.557333L85.333333 616.021333c23.04-8.469333 44.970667-16.704 67.029334-24.426666z" fill="#3D3D3D" p-id="1561"></path></svg>\n</i>\n</span></div><div class="am-steps-item-content">\n<div class="am-steps-item-title">{{ this.departure }}</div><div class="am-steps-item-description">{{ this.departureTimeLocale }}</div>\n</div></div>\n<div class="am-steps-item am-steps-item-wait am-steps-item-custom">\n<div class="am-steps-item-tail"></div><div class="am-steps-item-icon">\n<span class="am-steps-icon">\n<i class="anticon">\n<svg t="1651558896240" class="icon" viewBox="0 0 1024 1024" version="1.1" xmlns="http://www.w3.org/2000/svg" p-id="1699" width="22" height="22"><path d="M128 896h768v42.666667H128v-42.666667z m384-18.133333s-167.936-103.957333-179.413333-112c-33.557333-23.466667-59.690667-44.074667-77.013334-61.44A361.536 361.536 0 0 1 149.333333 448c0-200.298667 162.368-362.666667 362.666667-362.666667s362.666667 162.368 362.666667 362.666667c0 97.493333-38.656 188.885333-106.24 256.426667-17.322667 17.365333-43.456 37.973333-77.013334 61.44-11.477333 8.042667-179.413333 112-179.413333 112zM512 576a128 128 0 1 0 0-256 128 128 0 0 0 0 256z" fill="#3D3D3D" p-id="1700"></path></svg>\n</i>\n</span></div><div class="am-steps-item-content">\n<div class="am-steps-item-title">{{ this.destination }}</div><div class="am-steps-item-description">{{ this.arriveTimeLocale }}</div></div></div></div></div>'),props:{flight:{type:String,required:!0},departure:{type:String,required:!0},departureTime:{type:String,required:!0},destination:{type:String,required:!0},arriveTime:{type:String,required:!0}},computed:{departureTimeLocale:function(){return window.dayjs(this.departureTime).format("D MMM, HH:mm")},arriveTimeLocale:function(){return 0===window.dayjs(this.departureTime).diff(this.arriveTime,"day")?window.dayjs(this.arriveTime).format("HH:mm"):window.dayjs(this.arriveTime).format("D MMM, HH:mm")}}},Ft={center:{type:String,default:null},zoom:{type:Number,default:6},points:{type:String,default:null},driving:{type:String,default:null},walking:{type:String,default:null}},Lt="layergroup",zt="size",Ot="target",Dt="view",jt="ol-hidden",Nt="ol-unselectable",$t="ol-unsupported",Bt="ol-control",Gt="ol-collapsed",qt=new RegExp(["^\\s*(?=(?:(?:[-a-z]+\\s*){0,2}(italic|oblique))?)","(?=(?:(?:[-a-z]+\\s*){0,2}(small-caps))?)","(?=(?:(?:[-a-z]+\\s*){0,2}(bold(?:er)?|lighter|[1-9]00 ))?)","(?:(?:normal|\\1|\\2|\\3)\\s*){0,3}((?:xx?-)?","(?:small|large)|medium|smaller|larger|[\\.\\d]+(?:\\%|in|[cem]m|ex|p[ctx]))","(?:\\s*\\/\\s*(normal|[\\.\\d]+(?:\\%|in|[cem]m|ex|p[ctx])?))","?\\s*([-,\\\"\\'\\sa-z0-9]+?)\\s*$"].join(""),"i"),Wt=["style","variant","weight","size","lineHeight","family"],Xt={normal:400,bold:700},Ut=function(e){const t=e.match(qt);if(!t)return null;const n={lineHeight:"normal",size:"1.2em",style:"normal",weight:"400",variant:"normal"};for(let i=0,r=Wt.length;i<r;++i){const e=t[i+1];void 0!==e&&(n[Wt[i]]="string"==typeof e?e.trim():e)}return isNaN(Number(n.weight))&&n.weight in Xt&&(n.weight=Xt[n.weight]),n.families=n.family.split(/,\s?/).map(e=>e.trim().replace(/^['"]|['"]$/g,"")),n},Ht="undefined"!=typeof navigator&&void 0!==navigator.userAgent?navigator.userAgent.toLowerCase():"";Ht.includes("safari")&&!Ht.includes("chrom")&&(Ht.includes("version/15.4")||/cpu (os|iphone os) 15_4 like mac os x/.test(Ht));const Vt=Ht.includes("webkit")&&!Ht.includes("edge"),Yt=Ht.includes("macintosh"),Zt="undefined"!=typeof devicePixelRatio?devicePixelRatio:1,Kt="undefined"!=typeof WorkerGlobalScope&&"undefined"!=typeof OffscreenCanvas&&self instanceof WorkerGlobalScope,Jt="undefined"!=typeof Image&&Image.prototype.decode,Qt="function"==typeof createImageBitmap,en=function(){let e=!1;try{const t=Object.defineProperty({},"passive",{get:function(){e=!0}});window.addEventListener("_",null,t),window.removeEventListener("_",null,t)}catch{}return e}();function tn(e,t,n,i){let r;return r=n&&n.length?n.shift():Kt?new OffscreenCanvas(e||300,t||300):document.createElement("canvas"),e&&(r.width=e),t&&(r.height=t),r.getContext("2d",i)}let nn;function rn(){return nn||(nn=tn(1,1)),nn}function on(e){const t=e.canvas;t.width=1,t.height=1,e.clearRect(0,0,1,1)}function sn(e,t){const n=t.parentNode;n&&n.replaceChild(e,t)}const an="change",ln="error",cn="contextmenu",un="click",hn="dblclick",dn="keydown",pn="keypress",fn="load",gn="touchmove",mn="wheel";function vn(e){for(const t in e)delete e[t]}function _n(e){let t;for(t in e)return!1;return!t}function yn(e,t,n,i,r){if(r){const r=n;n=function(o){return e.removeEventListener(t,n),r.call(i??this,o)}}else i&&i!==e&&(n=n.bind(i));const o={target:e,type:t,listener:n};return e.addEventListener(t,n),o}function xn(e,t,n,i){return yn(e,t,n,i,!0)}function bn(e){e&&e.target&&(e.target.removeEventListener(e.type,e.listener),vn(e))}const wn="postrender",kn="movestart",Sn="moveend",Cn="loadstart",En="loadend",Tn="propertychange";class Rn{constructor(){this.disposed=!1}dispose(){this.disposed||(this.disposed=!0,this.disposeInternal())}disposeInternal(){}}function Mn(e,t){return e>t?1:e<t?-1:0}function In(e,t){return e<t?1:e>t?-1:0}function An(e,t,n){if(e[0]<=t)return 0;const i=e.length;if(t<=e[i-1])return i-1;if("function"==typeof n){for(let r=1;r<i;++r){const i=e[r];if(i===t)return r;if(i<t)return n(t,e[r-1],i)>0?r-1:r}return i-1}if(n>0){for(let n=1;n<i;++n)if(e[n]<t)return n-1;return i-1}if(n<0){for(let n=1;n<i;++n)if(e[n]<=t)return n;return i-1}for(let r=1;r<i;++r){if(e[r]==t)return r;if(e[r]<t)return e[r-1]-t<t-e[r]?r-1:r}return i-1}function Pn(e,t,n){for(;t<n;){const i=e[t];e[t]=e[n],e[n]=i,++t,--n}}function Fn(e,t){const n=Array.isArray(t)?t:[t],i=n.length;for(let r=0;r<i;r++)e[e.length]=n[r]}function Ln(e,t){const n=e.length;if(n!==t.length)return!1;for(let i=0;i<n;i++)if(e[i]!==t[i])return!1;return!0}function zn(){return!0}function On(){return!1}function Dn(){}function jn(e){let t,n,i;return function(){const r=Array.prototype.slice.call(arguments);return n&&this===i&&Ln(r,n)||(i=this,n=r,t=e.apply(this,arguments)),t}}function Nn(e){return function(){let t;try{t=e()}catch(n){return Promise.reject(n)}return t instanceof Promise?t:Promise.resolve(t)}()}class $n{constructor(e){this.propagationStopped,this.defaultPrevented,this.type=e,this.target=null}preventDefault(){this.defaultPrevented=!0}stopPropagation(){this.propagationStopped=!0}}class Bn extends Rn{constructor(e){super(),this.eventTarget_=e,this.pendingRemovals_=null,this.dispatching_=null,this.listeners_=null}addEventListener(e,t){if(!e||!t)return;const n=this.listeners_||(this.listeners_={}),i=n[e]||(n[e]=[]);i.includes(t)||i.push(t)}dispatchEvent(e){const t="string"==typeof e,n=t?e:e.type,i=this.listeners_&&this.listeners_[n];if(!i)return;const r=t?new $n(e):e;r.target||(r.target=this.eventTarget_||this);const o=this.dispatching_||(this.dispatching_={}),s=this.pendingRemovals_||(this.pendingRemovals_={});let a;n in o||(o[n]=0,s[n]=0),++o[n];for(let l=0,c=i.length;l<c;++l)if(a="handleEvent"in i[l]?i[l].handleEvent(r):i[l].call(this,r),!1===a||r.propagationStopped){a=!1;break}if(0===--o[n]){let e=s[n];for(delete s[n];e--;)this.removeEventListener(n,Dn);delete o[n]}return a}disposeInternal(){this.listeners_&&vn(this.listeners_)}getListeners(e){return this.listeners_&&this.listeners_[e]||void 0}hasListener(e){return!!this.listeners_&&(e?e in this.listeners_:Object.keys(this.listeners_).length>0)}removeEventListener(e,t){if(!this.listeners_)return;const n=this.listeners_[e];if(!n)return;const i=n.indexOf(t);-1!==i&&(this.pendingRemovals_&&e in this.pendingRemovals_?(n[i]=Dn,++this.pendingRemovals_[e]):(n.splice(i,1),0===n.length&&delete this.listeners_[e]))}}class Gn extends Bn{constructor(){super(),this.on=this.onInternal,this.once=this.onceInternal,this.un=this.unInternal,this.revision_=0}changed(){++this.revision_,this.dispatchEvent(an)}getRevision(){return this.revision_}onInternal(e,t){if(Array.isArray(e)){const n=e.length,i=new Array(n);for(let r=0;r<n;++r)i[r]=yn(this,e[r],t);return i}return yn(this,e,t)}onceInternal(e,t){let n;if(Array.isArray(e)){const i=e.length;n=new Array(i);for(let r=0;r<i;++r)n[r]=xn(this,e[r],t)}else n=xn(this,e,t);return t.ol_key=n,n}unInternal(e,t){const n=t.ol_key;if(n)!function(e){if(Array.isArray(e))for(let t=0,n=e.length;t<n;++t)bn(e[t]);else bn(e)}(n);else if(Array.isArray(e))for(let i=0,r=e.length;i<r;++i)this.removeEventListener(e[i],t);else this.removeEventListener(e,t)}}function qn(){throw new Error("Unimplemented abstract method.")}Gn.prototype.on,Gn.prototype.once,Gn.prototype.un;let Wn=0;function Xn(e){return e.ol_uid||(e.ol_uid=String(++Wn))}class Un extends $n{constructor(e,t,n){super(e),this.key=t,this.oldValue=n}}class Hn extends Gn{constructor(e){super(),this.on,this.once,this.un,Xn(this),this.values_=null,void 0!==e&&this.setProperties(e)}get(e){let t;return this.values_&&this.values_.hasOwnProperty(e)&&(t=this.values_[e]),t}getKeys(){return this.values_&&Object.keys(this.values_)||[]}getProperties(){return this.values_&&Object.assign({},this.values_)||{}}getPropertiesInternal(){return this.values_}hasProperties(){return!!this.values_}notify(e,t){let n;n=`change:${e}`,this.hasListener(n)&&this.dispatchEvent(new Un(n,e,t)),n=Tn,this.hasListener(n)&&this.dispatchEvent(new Un(n,e,t))}addChangeListener(e,t){this.addEventListener(`change:${e}`,t)}removeChangeListener(e,t){this.removeEventListener(`change:${e}`,t)}set(e,t,n){const i=this.values_||(this.values_={});if(n)i[e]=t;else{const n=i[e];i[e]=t,n!==t&&this.notify(e,n)}}setProperties(e,t){for(const n in e)this.set(n,e[n],t)}applyProperties(e){e.values_&&Object.assign(this.values_||(this.values_={}),e.values_)}unset(e,t){if(this.values_&&e in this.values_){const n=this.values_[e];delete this.values_[e],_n(this.values_)&&(this.values_=null),t||this.notify(e,n)}}}class Vn extends Hn{constructor(e){super();const t=e.element;!t||e.target||t.style.pointerEvents||(t.style.pointerEvents="auto"),this.element=t||null,this.target_=null,this.map_=null,this.listenerKeys=[],e.render&&(this.render=e.render),e.target&&this.setTarget(e.target)}disposeInternal(){this.element?.remove(),super.disposeInternal()}getMap(){return this.map_}setMap(e){this.map_&&this.element?.remove();for(let t=0,n=this.listenerKeys.length;t<n;++t)bn(this.listenerKeys[t]);if(this.listenerKeys.length=0,this.map_=e,e){const t=this.target_??e.getOverlayContainerStopEvent();this.element&&t.appendChild(this.element),this.render!==Dn&&this.listenerKeys.push(yn(e,wn,this.render,this)),e.render()}}render(e){}setTarget(e){this.target_="string"==typeof e?document.getElementById(e):e}}const Yn=["fullscreenchange","webkitfullscreenchange"],Zn="enterfullscreen",Kn="leavefullscreen";class Jn extends Vn{constructor(e){e=e||{},super({element:document.createElement("div"),target:e.target}),this.on,this.once,this.un,this.keys_=void 0!==e.keys&&e.keys,this.source_=e.source,this.isInFullscreen_=!1,this.boundHandleMapTargetChange_=this.handleMapTargetChange_.bind(this),this.cssClassName_=void 0!==e.className?e.className:"ol-full-screen",this.documentListeners_=[],this.activeClassName_=void 0!==e.activeClassName?e.activeClassName.split(" "):[this.cssClassName_+"-true"],this.inactiveClassName_=void 0!==e.inactiveClassName?e.inactiveClassName.split(" "):[this.cssClassName_+"-false"];const t=void 0!==e.label?e.label:"⤢";this.labelNode_="string"==typeof t?document.createTextNode(t):t;const n=void 0!==e.labelActive?e.labelActive:"×";this.labelActiveNode_="string"==typeof n?document.createTextNode(n):n;const i=e.tipLabel?e.tipLabel:"Toggle full-screen";this.button_=document.createElement("button"),this.button_.title=i,this.button_.setAttribute("type","button"),this.button_.appendChild(this.labelNode_),this.button_.addEventListener(un,this.handleClick_.bind(this),!1),this.setClassName_(this.button_,this.isInFullscreen_),this.element.className=`${this.cssClassName_} ${Nt} ${Bt}`,this.element.appendChild(this.button_)}handleClick_(e){e.preventDefault(),this.handleFullScreen_()}handleFullScreen_(){const e=this.getMap();if(!e)return;const t=e.getOwnerDocument();if(Qn(t))if(ei(t))!function(e){e.exitFullscreen?e.exitFullscreen():e.webkitExitFullscreen&&e.webkitExitFullscreen()}(t);else{let n;n=this.source_?"string"==typeof this.source_?t.getElementById(this.source_):this.source_:e.getTargetElement(),this.keys_?function(e){e.webkitRequestFullscreen?e.webkitRequestFullscreen():ti(e)}(n):ti(n)}}handleFullScreenChange_(){const e=this.getMap();if(!e)return;const t=this.isInFullscreen_;this.isInFullscreen_=ei(e.getOwnerDocument()),t!==this.isInFullscreen_&&(this.setClassName_(this.button_,this.isInFullscreen_),this.isInFullscreen_?(sn(this.labelActiveNode_,this.labelNode_),this.dispatchEvent(Zn)):(sn(this.labelNode_,this.labelActiveNode_),this.dispatchEvent(Kn)),e.updateSize())}setClassName_(e,t){t?(e.classList.remove(...this.inactiveClassName_),e.classList.add(...this.activeClassName_)):(e.classList.remove(...this.activeClassName_),e.classList.add(...this.inactiveClassName_))}setMap(e){const t=this.getMap();t&&t.removeChangeListener(Ot,this.boundHandleMapTargetChange_),super.setMap(e),this.handleMapTargetChange_(),e&&e.addChangeListener(Ot,this.boundHandleMapTargetChange_)}handleMapTargetChange_(){const e=this.documentListeners_;for(let n=0,i=e.length;n<i;++n)bn(e[n]);e.length=0;const t=this.getMap();if(t){const n=t.getOwnerDocument();Qn(n)?this.element.classList.remove($t):this.element.classList.add($t);for(let t=0,i=Yn.length;t<i;++t)e.push(yn(n,Yn[t],this.handleFullScreenChange_,this));this.handleFullScreenChange_()}}}function Qn(e){const t=e.body;return!!(t.webkitRequestFullscreen||t.requestFullscreen&&e.fullscreenEnabled)}function ei(e){return!(!e.webkitIsFullScreen&&!e.fullscreenElement)}function ti(e){e.requestFullscreen?e.requestFullscreen():e.webkitRequestFullscreen&&e.webkitRequestFullscreen()}const ni="add",ii="remove",ri="length";class oi extends $n{constructor(e,t,n){super(e),this.element=t,this.index=n}}class si extends Hn{constructor(e,t){if(super(),this.on,this.once,this.un,t=t||{},this.unique_=!!t.unique,this.array_=e||[],this.unique_)for(let n=0,i=this.array_.length;n<i;++n)this.assertUnique_(this.array_[n],n);this.updateLength_()}clear(){for(;this.getLength()>0;)this.pop()}extend(e){for(let t=0,n=e.length;t<n;++t)this.push(e[t]);return this}forEach(e){const t=this.array_;for(let n=0,i=t.length;n<i;++n)e(t[n],n,t)}getArray(){return this.array_}item(e){return this.array_[e]}getLength(){return this.get(ri)}insertAt(e,t){if(e<0||e>this.getLength())throw new Error("Index out of bounds: "+e);this.unique_&&this.assertUnique_(t),this.array_.splice(e,0,t),this.updateLength_(),this.dispatchEvent(new oi(ni,t,e))}pop(){return this.removeAt(this.getLength()-1)}push(e){this.unique_&&this.assertUnique_(e);const t=this.getLength();return this.insertAt(t,e),this.getLength()}remove(e){const t=this.array_;for(let n=0,i=t.length;n<i;++n)if(t[n]===e)return this.removeAt(n)}removeAt(e){if(e<0||e>=this.getLength())return;const t=this.array_[e];return this.array_.splice(e,1),this.updateLength_(),this.dispatchEvent(new oi(ii,t,e)),t}setAt(e,t){if(e>=this.getLength())return void this.insertAt(e,t);if(e<0)throw new Error("Index out of bounds: "+e);this.unique_&&this.assertUnique_(t,e);const n=this.array_[e];this.array_[e]=t,this.dispatchEvent(new oi(ii,n,e)),this.dispatchEvent(new oi(ni,t,e))}updateLength_(){this.set(ri,this.array_.length)}assertUnique_(e,t){for(let n=0,i=this.array_.length;n<i;++n)if(this.array_[n]===e&&n!==t)throw new Error("Duplicate item added to a unique collection")}}function ai(e,t){if(!e)throw new Error(t)}const li=0,ci=1,ui=2,hi=4,di=8,pi=16;function fi(e){const t=wi();for(let n=0,i=e.length;n<i;++n)Mi(t,e[n]);return t}function gi(e,t,n){return n?(n[0]=e[0]-t,n[1]=e[1]-t,n[2]=e[2]+t,n[3]=e[3]+t,n):[e[0]-t,e[1]-t,e[2]+t,e[3]+t]}function mi(e,t){return t?(t[0]=e[0],t[1]=e[1],t[2]=e[2],t[3]=e[3],t):e.slice()}function vi(e,t,n){let i,r;return i=t<e[0]?e[0]-t:e[2]<t?t-e[2]:0,r=n<e[1]?e[1]-n:e[3]<n?n-e[3]:0,i*i+r*r}function _i(e,t){return xi(e,t[0],t[1])}function yi(e,t){return e[0]<=t[0]&&t[2]<=e[2]&&e[1]<=t[1]&&t[3]<=e[3]}function xi(e,t,n){return e[0]<=t&&t<=e[2]&&e[1]<=n&&n<=e[3]}function bi(e,t){const n=e[0],i=e[1],r=e[2],o=e[3],s=t[0],a=t[1];let l=li;return s<n?l|=pi:s>r&&(l|=hi),a<i?l|=di:a>o&&(l|=ui),l===li&&(l=ci),l}function wi(){return[1/0,1/0,-1/0,-1/0]}function ki(e,t,n,i,r){return r?(r[0]=e,r[1]=t,r[2]=n,r[3]=i,r):[e,t,n,i]}function Si(e){return ki(1/0,1/0,-1/0,-1/0,e)}function Ci(e,t){const n=e[0],i=e[1];return ki(n,i,n,i,t)}function Ei(e,t,n,i,r){return Ii(Si(r),e,t,n,i)}function Ti(e,t){return e[0]==t[0]&&e[2]==t[2]&&e[1]==t[1]&&e[3]==t[3]}function Ri(e,t){return t[0]<e[0]&&(e[0]=t[0]),t[2]>e[2]&&(e[2]=t[2]),t[1]<e[1]&&(e[1]=t[1]),t[3]>e[3]&&(e[3]=t[3]),e}function Mi(e,t){t[0]<e[0]&&(e[0]=t[0]),t[0]>e[2]&&(e[2]=t[0]),t[1]<e[1]&&(e[1]=t[1]),t[1]>e[3]&&(e[3]=t[1])}function Ii(e,t,n,i,r){for(;n<i;n+=r)Ai(e,t[n],t[n+1]);return e}function Ai(e,t,n){e[0]=Math.min(e[0],t),e[1]=Math.min(e[1],n),e[2]=Math.max(e[2],t),e[3]=Math.max(e[3],n)}function Pi(e,t){let n;return n=t(Li(e)),n||(n=t(zi(e)),n||(n=t(qi(e)),n||(n=t(Gi(e)),n||!1)))}function Fi(e){let t=0;return Ui(e)||(t=Wi(e)*$i(e)),t}function Li(e){return[e[0],e[1]]}function zi(e){return[e[2],e[1]]}function Oi(e){return[(e[0]+e[2])/2,(e[1]+e[3])/2]}function Di(e,t){let n;if("bottom-left"===t)n=Li(e);else if("bottom-right"===t)n=zi(e);else if("top-left"===t)n=Gi(e);else{if("top-right"!==t)throw new Error("Invalid corner");n=qi(e)}return n}function ji(e,t,n,i,r){const[o,s,a,l,c,u,h,d]=Ni(e,t,n,i);return ki(Math.min(o,a,c,h),Math.min(s,l,u,d),Math.max(o,a,c,h),Math.max(s,l,u,d),r)}function Ni(e,t,n,i){const r=t*i[0]/2,o=t*i[1]/2,s=Math.cos(n),a=Math.sin(n),l=r*s,c=r*a,u=o*s,h=o*a,d=e[0],p=e[1];return[d-l+h,p-c-u,d-l-h,p-c+u,d+l-h,p+c+u,d+l+h,p+c-u,d-l+h,p-c-u]}function $i(e){return e[3]-e[1]}function Bi(e,t,n){const i=n||[1/0,1/0,-1/0,-1/0];return Xi(e,t)?(e[0]>t[0]?i[0]=e[0]:i[0]=t[0],e[1]>t[1]?i[1]=e[1]:i[1]=t[1],e[2]<t[2]?i[2]=e[2]:i[2]=t[2],e[3]<t[3]?i[3]=e[3]:i[3]=t[3]):Si(i),i}function Gi(e){return[e[0],e[3]]}function qi(e){return[e[2],e[3]]}function Wi(e){return e[2]-e[0]}function Xi(e,t){return e[0]<=t[2]&&e[2]>=t[0]&&e[1]<=t[3]&&e[3]>=t[1]}function Ui(e){return e[2]<e[0]||e[3]<e[1]}function Hi(e,t,n,i){if(Ui(e))return Si(n);let r=[];r=[e[0],e[1],e[2],e[1],e[2],e[3],e[0],e[3]],t(r,r,2);const o=[],s=[];for(let a=0,l=r.length;a<l;a+=2)o.push(r[a]),s.push(r[a+1]);return function(e,t,n){return ki(Math.min.apply(null,e),Math.min.apply(null,t),Math.max.apply(null,e),Math.max.apply(null,t),n)}(o,s,n)}function Vi(e,t){const n=t.getExtent(),i=Oi(e);if(t.canWrapX()&&(i[0]<n[0]||i[0]>=n[2])){const t=Wi(n),r=Math.floor((i[0]-n[0])/t)*t;e[0]-=r,e[2]-=r}return e}function Yi(e,t,n){if(t.canWrapX()){const i=t.getExtent();if(!isFinite(e[0])||!isFinite(e[2]))return[[i[0],e[1],i[2],e[3]]];Vi(e,t);const r=Wi(i);if(Wi(e)>r&&!n)return[[i[0],e[1],i[2],e[3]]];if(e[0]<i[0])return[[e[0]+r,e[1],i[2],e[3]],[i[0],e[1],e[2],e[3]]];if(e[2]>i[2])return[[e[0],e[1],i[2],e[3]],[i[0],e[1],e[2]-r,e[3]]]}return[e]}function Zi(e,t,n,i,r,o,s){const a=new XMLHttpRequest;a.open("GET","function"==typeof e?e(n,i,r):e,!0),"arraybuffer"==t.getType()&&(a.responseType="arraybuffer"),a.withCredentials=false,a.onload=function(e){if(!a.status||a.status>=200&&a.status<300){const e=t.getType();try{let i;"text"==e||"json"==e?i=a.responseText:"xml"==e?i=a.responseXML||a.responseText:"arraybuffer"==e&&(i=a.response),i?o(t.readFeatures(i,{extent:n,featureProjection:r}),t.readProjection(i)):s()}catch{s()}}else s()},a.onerror=s,a.send()}function Ki(e,t){return function(n,i,r,o,s){Zi(e,t,n,i,r,(e,t)=>{this.addFeatures(e),void 0!==o&&o(e)},()=>{this.changed(),void 0!==s&&s()})}}function Ji(e,t,n){return Math.min(Math.max(e,t),n)}function Qi(e,t,n,i,r,o){const s=r-n,a=o-i;if(0!==s||0!==a){const l=((e-n)*s+(t-i)*a)/(s*s+a*a);l>1?(n=r,i=o):l>0&&(n+=s*l,i+=a*l)}return er(e,t,n,i)}function er(e,t,n,i){const r=n-e,o=i-t;return r*r+o*o}function tr(e){return 180*e/Math.PI}function nr(e){return e*Math.PI/180}function ir(e,t){const n=e%t;return n*t<0?n+t:n}function rr(e,t,n){return e+n*(t-e)}function or(e,t){const n=Math.pow(10,t);return Math.round(e*n)/n}function sr(e,t){return Math.floor(or(e,t))}function ar(e,t){return Math.ceil(or(e,t))}function lr(e,t,n){if(e>=t&&e<n)return e;const i=n-t;return((e-t)%i+i)%i+t}function cr(e,t){let n=!0;for(let i=e.length-1;i>=0;--i)if(e[i]!=t[i]){n=!1;break}return n}function ur(e,t){const n=Math.cos(t),i=Math.sin(t),r=e[0]*n-e[1]*i,o=e[1]*n+e[0]*i;return e[0]=r,e[1]=o,e}function hr(e,t){if(t.canWrapX()){const n=Wi(t.getExtent()),i=function(e,t,n){const i=t.getExtent();let r=0;t.canWrapX()&&(e[0]<i[0]||e[0]>i[2])&&(n=n||Wi(i),r=Math.floor((e[0]-i[0])/n));return r}(e,t,n);i&&(e[0]-=i*n)}return e}const dr={radians:6370997/(2*Math.PI),degrees:2*Math.PI*6370997/360,ft:.3048,m:1,"us-ft":1200/3937};class pr{constructor(e){this.code_=e.code,this.units_=e.units,this.extent_=void 0!==e.extent?e.extent:null,this.worldExtent_=void 0!==e.worldExtent?e.worldExtent:null,this.axisOrientation_=void 0!==e.axisOrientation?e.axisOrientation:"enu",this.global_=void 0!==e.global&&e.global,this.canWrapX_=!(!this.global_||!this.extent_),this.getPointResolutionFunc_=e.getPointResolution,this.defaultTileGrid_=null,this.metersPerUnit_=e.metersPerUnit}canWrapX(){return this.canWrapX_}getCode(){return this.code_}getExtent(){return this.extent_}getUnits(){return this.units_}getMetersPerUnit(){return this.metersPerUnit_||dr[this.units_]}getWorldExtent(){return this.worldExtent_}getAxisOrientation(){return this.axisOrientation_}isGlobal(){return this.global_}setGlobal(e){this.global_=e,this.canWrapX_=!(!e||!this.extent_)}getDefaultTileGrid(){return this.defaultTileGrid_}setDefaultTileGrid(e){this.defaultTileGrid_=e}setExtent(e){this.extent_=e,this.canWrapX_=!(!this.global_||!e)}setWorldExtent(e){this.worldExtent_=e}setGetPointResolution(e){this.getPointResolutionFunc_=e}getPointResolutionFunc(){return this.getPointResolutionFunc_}}const fr=6378137,gr=Math.PI*fr,mr=[-gr,-gr,gr,gr],vr=[-180,-85,180,85],_r=fr*Math.log(Math.tan(Math.PI/2));class yr extends pr{constructor(e){super({code:e,units:"m",extent:mr,global:!0,worldExtent:vr,getPointResolution:function(e,t){return e/Math.cosh(t[1]/fr)}})}}const xr=[new yr("EPSG:3857"),new yr("EPSG:102100"),new yr("EPSG:102113"),new yr("EPSG:900913"),new yr("http://www.opengis.net/def/crs/EPSG/0/3857"),new yr("http://www.opengis.net/gml/srs/epsg.xml#3857")];function br(e,t,n,i){const r=e.length;n=n>1?n:2,i=i??n,void 0===t&&(t=n>2?e.slice():new Array(r));for(let o=0;o<r;o+=i){t[o]=gr*e[o]/180;let n=fr*Math.log(Math.tan(Math.PI*(+e[o+1]+90)/360));n>_r?n=_r:n<-_r&&(n=-_r),t[o+1]=n}return t}function wr(e,t,n,i){const r=e.length;n=n>1?n:2,i=i??n,void 0===t&&(t=n>2?e.slice():new Array(r));for(let o=0;o<r;o+=i)t[o]=180*e[o]/gr,t[o+1]=360*Math.atan(Math.exp(e[o+1]/fr))/Math.PI-90;return t}const kr=[-180,-90,180,90],Sr=6378137*Math.PI/180;class Cr extends pr{constructor(e,t){super({code:e,units:"degrees",extent:kr,axisOrientation:t,global:!0,metersPerUnit:Sr,worldExtent:kr})}}const Er=[new Cr("CRS:84"),new Cr("EPSG:4326","neu"),new Cr("urn:ogc:def:crs:OGC:1.3:CRS84"),new Cr("urn:ogc:def:crs:OGC:2:84"),new Cr("http://www.opengis.net/def/crs/OGC/1.3/CRS84"),new Cr("http://www.opengis.net/gml/srs/epsg.xml#4326","neu"),new Cr("http://www.opengis.net/def/crs/EPSG/0/4326","neu")];let Tr={};let Rr={};function Mr(e,t,n){const i=e.getCode(),r=t.getCode();i in Rr||(Rr[i]={}),Rr[i][r]=n}function Ir(e,t){return e in Rr&&t in Rr[e]?Rr[e][t]:null}const Ar=.9996,Pr=.00669438,Fr=Pr*Pr,Lr=Fr*Pr,zr=Pr/(1-Pr),Or=Math.sqrt(1-Pr),Dr=(1-Or)/(1+Or),jr=Dr*Dr,Nr=jr*Dr,$r=Nr*Dr,Br=$r*Dr,Gr=.9983242984503243,qr=15*Fr/256+45*Lr/1024,Wr=35*Lr/3072,Xr=1.5*Dr-27/32*Nr+269/512*Br,Ur=21/16*jr-55/32*$r,Hr=151/96*Nr-417/128*Br,Vr=1097/512*$r,Yr=6378137;function Zr(e,t,n){const i=e-5e5,r=(n.north?t:t-1e7)/Ar/(Yr*Gr),o=r+Xr*Math.sin(2*r)+Ur*Math.sin(4*r)+Hr*Math.sin(6*r)+Vr*Math.sin(8*r),s=Math.sin(o),a=s*s,l=Math.cos(o),c=s/l,u=c*c,h=u*u,d=1-Pr*a,p=Math.sqrt(1-Pr*a),f=zr*l**2,g=f*f,m=i/(Yr/p*Ar),v=m*m,_=v*m,y=_*m,x=y*m,b=o-c/((1-Pr)/d)*(v/2-y/24*(5+3*u+10*f-4*g-9*zr))+x*m/720*(61+90*u+298*f+45*h-252*zr-3*g);let w=(m-_/6*(1+2*u+f)+x/120*(5-2*f+28*u-3*g+8*zr+24*h))/l;return w=lr(w+nr(Jr(n.number)),-Math.PI,Math.PI),[tr(w),tr(b)]}function Kr(e,t,n){e=lr(e,-180,180),t<-80?t=-80:t>84&&(t=84);const i=nr(t),r=Math.sin(i),o=Math.cos(i),s=r/o,a=s*s,l=a*a,c=nr(e),u=nr(Jr(n.number)),h=Yr/Math.sqrt(1-Pr*r**2),d=zr*o**2,p=o*lr(c-u,-Math.PI,Math.PI),f=p*p,g=f*p,m=g*p,v=m*p,_=v*p,y=Yr*(Gr*i-.002514607064228144*Math.sin(2*i)+qr*Math.sin(4*i)-Wr*Math.sin(6*i)),x=Ar*h*(p+g/6*(1-a+d)+v/120*(5-18*a+l+72*d-58*zr))+5e5;let b=Ar*(y+h*s*(f/2+m/24*(5-a+9*d+4*d**2)+_/720*(61-58*a+l+600*d-330*zr)));return n.north||(b+=1e7),[x,b]}function Jr(e){return 6*(e-1)-180+3}const Qr=[/^EPSG:(\d+)$/,/^urn:ogc:def:crs:EPSG::(\d+)$/,/^http:\/\/www\.opengis\.net\/def\/crs\/EPSG\/0\/(\d+)$/];function eo(e){let t=0;for(const r of Qr){const n=e.match(r);if(n){t=parseInt(n[1]);break}}if(!t)return null;let n=0,i=!1;return t>32700&&t<32761?n=t-32700:t>32600&&t<32661&&(i=!0,n=t-32600),n?{number:n,north:i}:null}function to(e,t){return function(n,i,r,o){const s=n.length;r=r>1?r:2,o=o??r,i||(i=r>2?n.slice():new Array(s));for(let a=0;a<s;a+=o){const r=n[a],o=n[a+1],s=e(r,o,t);i[a]=s[0],i[a+1]=s[1]}return i}}function no(e,t,n){n=n||6371008.8;const i=nr(e[1]),r=nr(t[1]),o=(r-i)/2,s=nr(t[0]-e[0])/2,a=Math.sin(o)*Math.sin(o)+Math.sin(s)*Math.sin(s)*Math.cos(i)*Math.cos(r);return 2*n*Math.atan2(Math.sqrt(a),Math.sqrt(1-a))}const io=[function(e){const t=eo(e.getCode());return t?{forward:to(Kr,t),inverse:to(Zr,t)}:null}],ro=[function(e){return eo(e)?new pr({code:e,units:"m"}):null}];let oo=!0;function so(e){oo=!1}function ao(e,t){if(void 0!==t)for(let n=0,i=e.length;n<i;++n)t[n]=e[n];else t=e.slice();return t}function lo(e){!function(e,t){Tr[e]=t}(e.getCode(),e),Mr(e,e,ao)}function co(e){if("string"!=typeof e)return e;const t=Tr[n=e]||Tr[n.replace(/urn:(x-)?ogc:def:crs:EPSG:(.*:)?(\w+)$/,"EPSG:$3")]||null;var n;if(t)return t;for(const i of ro){const t=i(e);if(t)return t}return null}function uo(e,t,n,i){let r;const o=(e=co(e)).getPointResolutionFunc();if(o){if(r=o(t,n),i&&i!==e.getUnits()){const t=e.getMetersPerUnit();t&&(r=r*t/dr[i])}}else{const o=e.getUnits();if("degrees"==o&&!i||"degrees"==i)r=t;else{const s=mo(e,co("EPSG:4326"));if(s||"degrees"===o){let e=[n[0]-t/2,n[1],n[0]+t/2,n[1],n[0],n[1]-t/2,n[0],n[1]+t/2];e=s(e,e,2);r=(no(e.slice(0,2),e.slice(2,4))+no(e.slice(4,6),e.slice(6,8)))/2}else r=t*e.getMetersPerUnit();const a=i?dr[i]:e.getMetersPerUnit();void 0!==a&&(r/=a)}}return r}function ho(e){!function(e){e.forEach(lo)}(e),e.forEach(function(t){e.forEach(function(e){t!==e&&Mr(t,e,ao)})})}function po(e,t){return e?"string"==typeof e?co(e):e:co(t)}function fo(e,t){return so(),yo(e,"EPSG:4326",void 0!==t?t:"EPSG:3857")}function go(e,t){if(e===t)return!0;const n=e.getUnits()===t.getUnits();if(e.getCode()===t.getCode())return n;return mo(e,t)===ao&&n}function mo(e,t){const n=e.getCode(),i=t.getCode();let r=Ir(n,i);if(r)return r;let o=null,s=null;for(const l of io)o||(o=l(e)),s||(s=l(t));if(!o&&!s)return null;const a="EPSG:4326";if(s)if(o)r=vo(o.inverse,s.forward);else{const e=Ir(n,a);e&&(r=vo(e,s.forward))}else{const e=Ir(a,i);e&&(r=vo(o.inverse,e))}return r&&(lo(e),lo(t),Mr(e,t,r)),r}function vo(e,t){return function(n,i,r,o){return i=e(n,i,r,o),t(i,i,r,o)}}function _o(e,t){return mo(co(e),co(t))}function yo(e,t,n){const i=_o(t,n);if(!i){const e=co(t).getCode(),i=co(n).getCode();throw new Error(`No transform available between ${e} and ${i}`)}return i(e,void 0,e.length)}function xo(e,t){return e}function bo(e,t){return oo&&!cr(e,[0,0])&&e[0]>=-180&&e[0]<=180&&e[1]>=-90&&e[1]<=90&&(oo=!1),e}function wo(e,t){return e}function ko(e,t){return e}var So,Co,Eo;function To(e,t){return[[-1/0,-1/0,1/0,1/0]]}function Ro(e,t){return[e]}ho(xr),ho(Er),So=xr,Co=br,Eo=wr,Er.forEach(function(e){So.forEach(function(t){Mr(e,t,Co),Mr(t,e,Eo)})});class Mo extends Hn{constructor(e){if(super(),this.on,this.once,this.un,this.id_=void 0,this.geometryName_="geometry",this.style_=null,this.styleFunction_=void 0,this.geometryChangeKey_=null,this.addChangeListener(this.geometryName_,this.handleGeometryChanged_),e)if("function"==typeof e.getSimplifiedGeometry){const t=e;this.setGeometry(t)}else{const t=e;this.setProperties(t)}}clone(){const e=new Mo(this.hasProperties()?this.getProperties():null);e.setGeometryName(this.getGeometryName());const t=this.getGeometry();t&&e.setGeometry(t.clone());const n=this.getStyle();return n&&e.setStyle(n),e}getGeometry(){return this.get(this.geometryName_)}getId(){return this.id_}getGeometryName(){return this.geometryName_}getStyle(){return this.style_}getStyleFunction(){return this.styleFunction_}handleGeometryChange_(){this.changed()}handleGeometryChanged_(){this.geometryChangeKey_&&(bn(this.geometryChangeKey_),this.geometryChangeKey_=null);const e=this.getGeometry();e&&(this.geometryChangeKey_=yn(e,an,this.handleGeometryChange_,this)),this.changed()}setGeometry(e){this.set(this.geometryName_,e)}setStyle(e){this.style_=e,this.styleFunction_=e?function(e){if("function"==typeof e)return e;let t;if(Array.isArray(e))t=e;else{ai("function"==typeof e.getZIndex,"Expected an `ol/style/Style` or an array of `ol/style/Style.js`");t=[e]}return function(){return t}}(e):void 0,this.changed()}setId(e){this.id_=e,this.changed()}setGeometryName(e){this.removeChangeListener(this.geometryName_,this.handleGeometryChanged_),this.geometryName_=e,this.addChangeListener(this.geometryName_,this.handleGeometryChanged_),this.handleGeometryChanged_()}}function Io(e,t,n,i){const r=[];let o=[1/0,1/0,-1/0,-1/0];for(let s=0,a=n.length;s<a;++s){const a=n[s];o=Ei(e,t,a[0],i),r.push((o[0]+o[2])/2,(o[1]+o[3])/2),t=a[a.length-1]}return r}function Ao(e,t,n,i,r){return!Pi(r,function(r){return!Po(e,t,n,i,r[0],r[1])})}function Po(e,t,n,i,r,o){let s=0,a=e[n-i],l=e[n-i+1];for(;t<n;t+=i){const n=e[t],i=e[t+1];l<=o?i>o&&(n-a)*(o-l)-(r-a)*(i-l)>0&&s++:i<=o&&(n-a)*(o-l)-(r-a)*(i-l)<0&&s--,a=n,l=i}return 0!==s}function Fo(e,t,n,i,r,o){if(0===n.length)return!1;if(!Po(e,t,n[0],i,r,o))return!1;for(let s=1,a=n.length;s<a;++s)if(Po(e,n[s-1],n[s],i,r,o))return!1;return!0}function Lo(e,t,n,i,r,o,s){let a,l,c,u,h,d,p;const f=r[o+1],g=[];for(let _=0,y=n.length;_<y;++_){const r=n[_];for(u=e[r-i],d=e[r-i+1],a=t;a<r;a+=i)h=e[a],p=e[a+1],(f<=d&&p<=f||d<=f&&f<=p)&&(c=(f-d)/(p-d)*(h-u)+u,g.push(c)),u=h,d=p}let m=NaN,v=-1/0;for(g.sort(Mn),u=g[0],a=1,l=g.length;a<l;++a){h=g[a];const r=Math.abs(h-u);r>v&&(c=(u+h)/2,Fo(e,t,n,i,c,f)&&(m=c,v=r)),u=h}return isNaN(m)&&(m=r[o]),s?(s.push(m,f,v),s):[m,f,v]}function zo(e,t,n,i,r){let o=[];for(let s=0,a=n.length;s<a;++s){const a=n[s];o=Lo(e,t,a,i,r,2*s,o),t=a[a.length-1]}return o}function Oo(e,t,n,i,r,o,s){let a,l;const c=(n-t)/i;if(1===c)a=t;else if(2===c)a=t,l=r;else if(0!==c){let o=e[t],s=e[t+1],c=0;const u=[0];for(let r=t+i;r<n;r+=i){const t=e[r],n=e[r+1];c+=Math.sqrt((t-o)*(t-o)+(n-s)*(n-s)),u.push(c),o=t,s=n}const h=r*c,d=function(e,t,n){let i,r;n=n||Mn;let o=0,s=e.length,a=!1;for(;o<s;)i=o+(s-o>>1),r=+n(e[i],t),r<0?o=i+1:(s=i,a=!r);return a?o:~o}(u,h);d<0?(l=(h-u[-d-2])/(u[-d-1]-u[-d-2]),a=t+(-d-2)*i):a=t+d*i}s=s>1?s:2,o=o||new Array(s);for(let u=0;u<s;++u)o[u]=void 0===a?NaN:void 0===l?e[a+u]:rr(e[a+u],e[a+i+u],l);return o}function Do(e,t,n,i,r,o){if(n==t)return null;let s;if(r<e[t+i-1])return o?(s=e.slice(t,t+i),s[i-1]=r,s):null;if(e[n-1]<r)return o?(s=e.slice(n-i,n),s[i-1]=r,s):null;if(r==e[t+i-1])return e.slice(t,t+i);let a=t/i,l=n/i;for(;a<l;){const t=a+l>>1;r<e[(t+1)*i-1]?l=t:a=t+1}const c=e[a*i-1];if(r==c)return e.slice((a-1)*i,(a-1)*i+i);const u=(r-c)/(e[(a+1)*i-1]-c);s=[];for(let h=0;h<i-1;++h)s.push(rr(e[(a-1)*i+h],e[a*i+h],u));return s.push(r),s}function jo(e,t,n,i){for(;t<n-i;){for(let r=0;r<i;++r){const o=e[t+r];e[t+r]=e[n-i+r],e[n-i+r]=o}t+=i,n-=i}}function No(e,t,n,i){let r=0,o=e[n-i],s=e[n-i+1];for(;t<n;t+=i){const n=e[t],i=e[t+1];r+=(n-o)*(i+s),o=n,s=i}return 0===r?void 0:r>0}function $o(e,t,n,i,r){r=void 0!==r&&r;for(let o=0,s=n.length;o<s;++o){const s=n[o],a=No(e,t,s,i);if(0===o){if(r&&a||!r&&!a)return!1}else if(r&&!a||!r&&a)return!1;t=s}return!0}function Bo(e,t,n,i,r){for(let o=0,s=n.length;o<s;++o){const s=n[o];if(!$o(e,t,s,i,r))return!1;s.length&&(t=s[s.length-1])}return!0}function Go(e,t,n,i,r){r=void 0!==r&&r;for(let o=0,s=n.length;o<s;++o){const s=n[o],a=No(e,t,s,i);(0===o?r&&a||!r&&!a:r&&!a||!r&&a)&&jo(e,t,s,i),t=s}return t}function qo(e,t,n,i,r){for(let o=0,s=n.length;o<s;++o)t=Go(e,t,n[o],i,r);return t}function Wo(e,t){const n=[];let i,r=0,o=0;for(let s=0,a=t.length;s<a;++s){const a=t[s],l=No(e,r,a,2);if(void 0===i&&(i=l),l===i)n.push(t.slice(o,s+1));else{if(0===n.length)continue;n[n.length-1].push(t[o])}o=s+1,r=a}return n}function Xo(e,t,n,i,r,o,s){const a=(n-t)/i;if(a<3){for(;t<n;t+=i)o[s++]=e[t],o[s++]=e[t+1];return s}const l=new Array(a);l[0]=1,l[a-1]=1;const c=[t,n-i];let u=0;for(;c.length>0;){const n=c.pop(),o=c.pop();let s=0;const a=e[o],h=e[o+1],d=e[n],p=e[n+1];for(let t=o+i;t<n;t+=i){const n=Qi(e[t],e[t+1],a,h,d,p);n>s&&(u=t,s=n)}s>r&&(l[(u-t)/i]=1,o+i<u&&c.push(o,u),u+i<n&&c.push(u,n))}for(let h=0;h<a;++h)l[h]&&(o[s++]=e[t+h*i],o[s++]=e[t+h*i+1]);return s}function Uo(e,t,n,i,r,o,s,a){for(let l=0,c=n.length;l<c;++l){const c=n[l];s=Xo(e,t,c,i,r,o,s),a.push(s),t=c}return s}function Ho(e,t){return t*Math.round(e/t)}function Vo(e,t,n,i,r,o,s){if(t==n)return s;let a,l,c=Ho(e[t],r),u=Ho(e[t+1],r);t+=i,o[s++]=c,o[s++]=u;do{if(a=Ho(e[t],r),l=Ho(e[t+1],r),(t+=i)==n)return o[s++]=a,o[s++]=l,s}while(a==c&&l==u);for(;t<n;){const n=Ho(e[t],r),h=Ho(e[t+1],r);if(t+=i,n==a&&h==l)continue;const d=a-c,p=l-u,f=n-c,g=h-u;d*g==p*f&&(d<0&&f<d||d==f||d>0&&f>d)&&(p<0&&g<p||p==g||p>0&&g>p)?(a=n,l=h):(o[s++]=a,o[s++]=l,c=a,u=l,a=n,l=h)}return o[s++]=a,o[s++]=l,s}function Yo(e,t,n,i,r,o,s,a){for(let l=0,c=n.length;l<c;++l){const c=n[l];s=Vo(e,t,c,i,r,o,s),a.push(s),t=c}return s}function Zo(e,t,n,i,r,o,s){o=o||[],s=s||2;let a=0;for(let l=t;l<n;l+=i){const t=e[l],n=e[l+1];o[a++]=r[0]*t+r[2]*n+r[4],o[a++]=r[1]*t+r[3]*n+r[5];for(let i=2;i<s;i++)o[a++]=e[l+i]}return o&&o.length!=a&&(o.length=a),o}function Ko(e,t,n,i,r,o,s){s=s||[];const a=Math.cos(r),l=Math.sin(r),c=o[0],u=o[1];let h=0;for(let d=t;d<n;d+=i){const t=e[d]-c,n=e[d+1]-u;s[h++]=c+t*a-n*l,s[h++]=u+t*l+n*a;for(let r=d+2;r<d+i;++r)s[h++]=e[r]}return s&&s.length!=h&&(s.length=h),s}const Jo=new Array(6);function Qo(e){return ts(e,1,0,0,1,0,0)}function es(e,t){const n=e[0],i=e[1],r=e[2],o=e[3],s=e[4],a=e[5],l=t[0],c=t[1],u=t[2],h=t[3],d=t[4],p=t[5];return e[0]=n*l+r*c,e[1]=i*l+o*c,e[2]=n*u+r*h,e[3]=i*u+o*h,e[4]=n*d+r*p+s,e[5]=i*d+o*p+a,e}function ts(e,t,n,i,r,o,s){return e[0]=t,e[1]=n,e[2]=i,e[3]=r,e[4]=o,e[5]=s,e}function ns(e,t){const n=t[0],i=t[1];return t[0]=e[0]*n+e[2]*i+e[4],t[1]=e[1]*n+e[3]*i+e[5],t}function is(e,t,n){return es(e,ts(Jo,t,0,0,n,0,0))}function rs(e,t,n,i,r,o,s,a){const l=Math.sin(o),c=Math.cos(o);return e[0]=i*c,e[1]=r*l,e[2]=-i*l,e[3]=r*c,e[4]=s*i*c-a*i*l+t,e[5]=s*r*l+a*r*c+n,e}function os(e,t){const n=(i=t)[0]*i[3]-i[1]*i[2];var i;ai(0!==n,"Transformation matrix cannot be inverted");const r=t[0],o=t[1],s=t[2],a=t[3],l=t[4],c=t[5];return e[0]=a/n,e[1]=-o/n,e[2]=-s/n,e[3]=r/n,e[4]=(s*c-a*l)/n,e[5]=-(r*c-o*l)/n,e}const ss=[1e5,1e5,1e5,1e5,2,2];function as(e){return e.substring(7,e.length-1).split(",").map(parseFloat)}const ls=[1,0,0,1,0,0],cs=[NaN,NaN];class us extends Hn{constructor(){super(),this.extent_=[1/0,1/0,-1/0,-1/0],this.extentRevision_=-1,this.simplifiedGeometryMaxMinSquaredTolerance=0,this.simplifiedGeometryRevision=0,this.simplifyTransformedInternal=jn((e,t,n)=>{if(!n)return this.getSimplifiedGeometry(t);const i=this.clone();return i.applyTransform(n),i.getSimplifiedGeometry(t)})}simplifyTransformed(e,t){return this.simplifyTransformedInternal(this.getRevision(),e,t)}clone(){return qn()}closestPointXY(e,t,n,i){return qn()}containsXY(e,t){return 0===this.closestPointXY(e,t,cs,Number.MIN_VALUE)}getClosestPoint(e,t){return t=t||[NaN,NaN],this.closestPointXY(e[0],e[1],t,1/0),t}intersectsCoordinate(e){return this.containsXY(e[0],e[1])}computeExtent(e){return qn()}getExtent(e){if(this.extentRevision_!=this.getRevision()){const e=this.computeExtent(this.extent_);(isNaN(e[0])||isNaN(e[1]))&&Si(e),this.extentRevision_=this.getRevision()}return function(e,t){return t?(t[0]=e[0],t[1]=e[1],t[2]=e[2],t[3]=e[3],t):e}(this.extent_,e)}rotate(e,t){qn()}scale(e,t,n){qn()}simplify(e){return this.getSimplifiedGeometry(e*e)}getSimplifiedGeometry(e){return qn()}getType(){return qn()}applyTransform(e){qn()}intersectsExtent(e){return qn()}translate(e,t){qn()}transform(e,t){const n=co(e),i="tile-pixels"==n.getUnits()?function(e,i,r){const o=n.getExtent(),s=n.getWorldExtent(),a=$i(s)/$i(o);rs(ls,s[0],s[3],a,-a,0,0,0);const l=Zo(e,0,e.length,r,ls,i),c=_o(n,t);return c?c(l,l,r):l}:_o(n,t);return this.applyTransform(i),this}}class hs extends us{constructor(){super(),this.layout="XY",this.stride=2,this.flatCoordinates}computeExtent(e){return Ei(this.flatCoordinates,0,this.flatCoordinates.length,this.stride,e)}getCoordinates(){return qn()}getFirstCoordinate(){return this.flatCoordinates.slice(0,this.stride)}getFlatCoordinates(){return this.flatCoordinates}getLastCoordinate(){return this.flatCoordinates.slice(this.flatCoordinates.length-this.stride)}getLayout(){return this.layout}getSimplifiedGeometry(e){if(this.simplifiedGeometryRevision!==this.getRevision()&&(this.simplifiedGeometryMaxMinSquaredTolerance=0,this.simplifiedGeometryRevision=this.getRevision()),e<0||0!==this.simplifiedGeometryMaxMinSquaredTolerance&&e<=this.simplifiedGeometryMaxMinSquaredTolerance)return this;const t=this.getSimplifiedGeometryInternal(e);return t.getFlatCoordinates().length<this.flatCoordinates.length?t:(this.simplifiedGeometryMaxMinSquaredTolerance=e,this)}getSimplifiedGeometryInternal(e){return this}getStride(){return this.stride}setFlatCoordinates(e,t){this.stride=ps(e),this.layout=e,this.flatCoordinates=t}setCoordinates(e,t){qn()}setLayout(e,t,n){let i;if(e)i=ps(e);else{for(let e=0;e<n;++e){if(0===t.length)return this.layout="XY",void(this.stride=2);t=t[0]}i=t.length,e=ds(i)}this.layout=e,this.stride=i}applyTransform(e){this.flatCoordinates&&(e(this.flatCoordinates,this.flatCoordinates,this.layout.startsWith("XYZ")?3:2,this.stride),this.changed())}rotate(e,t){const n=this.getFlatCoordinates();if(n){const i=this.getStride();Ko(n,0,n.length,i,e,t,n),this.changed()}}scale(e,t,n){void 0===t&&(t=e),n||(n=Oi(this.getExtent()));const i=this.getFlatCoordinates();if(i){const r=this.getStride();!function(e,t,n,i,r,o,s,a){a=a||[];const l=s[0],c=s[1];let u=0;for(let h=t;h<n;h+=i){const t=e[h]-l,n=e[h+1]-c;a[u++]=l+r*t,a[u++]=c+o*n;for(let r=h+2;r<h+i;++r)a[u++]=e[r]}a&&a.length!=u&&(a.length=u)}(i,0,i.length,r,e,t,n,i),this.changed()}}translate(e,t){const n=this.getFlatCoordinates();if(n){const i=this.getStride();!function(e,t,n,i,r,o,s){s=s||[];let a=0;for(let l=t;l<n;l+=i){s[a++]=e[l]+r,s[a++]=e[l+1]+o;for(let t=l+2;t<l+i;++t)s[a++]=e[t]}s&&s.length!=a&&(s.length=a)}(n,0,n.length,i,e,t,n),this.changed()}}}function ds(e){let t;return 2==e?t="XY":3==e?t="XYZ":4==e&&(t="XYZM"),t}function ps(e){let t;return"XY"==e?t=2:"XYZ"==e||"XYM"==e?t=3:"XYZM"==e&&(t=4),t}function fs(e,t,n,i){for(let r=0,o=n.length;r<o;++r){const o=n[r];for(let n=0;n<i;++n)e[t++]=o[n]}return t}function gs(e,t,n,i,r){r=r||[];let o=0;for(let s=0,a=n.length;s<a;++s){const a=fs(e,t,n[s],i);r[o++]=a,t=a}return r.length=o,r}function ms(e,t,n,i,r){r=r||[];let o=0;for(let s=0,a=n.length;s<a;++s){const a=gs(e,t,n[s],i,r[o]);0===a.length&&(a[0]=t),r[o++]=a,t=a[a.length-1]}return r.length=o,r}class vs extends us{constructor(e){super(),this.geometries_=e,this.changeEventsKeys_=[],this.listenGeometriesChange_()}unlistenGeometriesChange_(){this.changeEventsKeys_.forEach(bn),this.changeEventsKeys_.length=0}listenGeometriesChange_(){const e=this.geometries_;for(let t=0,n=e.length;t<n;++t)this.changeEventsKeys_.push(yn(e[t],an,this.changed,this))}clone(){const e=new vs(_s(this.geometries_));return e.applyProperties(this),e}closestPointXY(e,t,n,i){if(i<vi(this.getExtent(),e,t))return i;const r=this.geometries_;for(let o=0,s=r.length;o<s;++o)i=r[o].closestPointXY(e,t,n,i);return i}containsXY(e,t){const n=this.geometries_;for(let i=0,r=n.length;i<r;++i)if(n[i].containsXY(e,t))return!0;return!1}computeExtent(e){Si(e);const t=this.geometries_;for(let n=0,i=t.length;n<i;++n)Ri(e,t[n].getExtent());return e}getGeometries(){return _s(this.geometries_)}getGeometriesArray(){return this.geometries_}getGeometriesArrayRecursive(){let e=[];const t=this.geometries_;for(let n=0,i=t.length;n<i;++n)t[n].getType()===this.getType()?e=e.concat(t[n].getGeometriesArrayRecursive()):e.push(t[n]);return e}getSimplifiedGeometry(e){if(this.simplifiedGeometryRevision!==this.getRevision()&&(this.simplifiedGeometryMaxMinSquaredTolerance=0,this.simplifiedGeometryRevision=this.getRevision()),e<0||0!==this.simplifiedGeometryMaxMinSquaredTolerance&&e<this.simplifiedGeometryMaxMinSquaredTolerance)return this;const t=[],n=this.geometries_;let i=!1;for(let r=0,o=n.length;r<o;++r){const o=n[r],s=o.getSimplifiedGeometry(e);t.push(s),s!==o&&(i=!0)}if(i){return new vs(t)}return this.simplifiedGeometryMaxMinSquaredTolerance=e,this}getType(){return"GeometryCollection"}intersectsExtent(e){const t=this.geometries_;for(let n=0,i=t.length;n<i;++n)if(t[n].intersectsExtent(e))return!0;return!1}isEmpty(){return 0===this.geometries_.length}rotate(e,t){const n=this.geometries_;for(let i=0,r=n.length;i<r;++i)n[i].rotate(e,t);this.changed()}scale(e,t,n){n||(n=Oi(this.getExtent()));const i=this.geometries_;for(let r=0,o=i.length;r<o;++r)i[r].scale(e,t,n);this.changed()}setGeometries(e){this.setGeometriesArray(_s(e))}setGeometriesArray(e){this.unlistenGeometriesChange_(),this.geometries_=e,this.listenGeometriesChange_(),this.changed()}applyTransform(e){const t=this.geometries_;for(let n=0,i=t.length;n<i;++n)t[n].applyTransform(e);this.changed()}translate(e,t){const n=this.geometries_;for(let i=0,r=n.length;i<r;++i)n[i].translate(e,t);this.changed()}disposeInternal(){this.unlistenGeometriesChange_(),super.disposeInternal()}}function _s(e){return e.map(e=>e.clone())}function ys(e,t,n,i){let r=0;const o=e[n-i],s=e[n-i+1];let a=0,l=0;for(;t<n;t+=i){const n=e[t]-o,i=e[t+1]-s;r+=l*n-a*i,a=n,l=i}return r/2}function xs(e,t,n,i){let r=0;for(let o=0,s=n.length;o<s;++o){const s=n[o];r+=ys(e,t,s,i),t=s}return r}function bs(e,t,n,i,r,o,s){const a=e[t],l=e[t+1],c=e[n]-a,u=e[n+1]-l;let h;if(0===c&&0===u)h=t;else{const d=((r-a)*c+(o-l)*u)/(c*c+u*u);if(d>1)h=n;else{if(d>0){for(let r=0;r<i;++r)s[r]=rr(e[t+r],e[n+r],d);return void(s.length=i)}h=t}}for(let d=0;d<i;++d)s[d]=e[h+d];s.length=i}function ws(e,t,n,i,r){let o=e[t],s=e[t+1];for(t+=i;t<n;t+=i){const n=e[t],i=e[t+1],a=er(o,s,n,i);a>r&&(r=a),o=n,s=i}return r}function ks(e,t,n,i,r){for(let o=0,s=n.length;o<s;++o){const s=n[o];r=ws(e,t,s,i,r),t=s}return r}function Ss(e,t,n,i,r,o,s,a,l,c,u){if(t==n)return c;let h,d;if(0===r){if(d=er(s,a,e[t],e[t+1]),d<c){for(h=0;h<i;++h)l[h]=e[t+h];return l.length=i,d}return c}u=u||[NaN,NaN];let p=t+i;for(;p<n;)if(bs(e,p-i,p,i,s,a,u),d=er(s,a,u[0],u[1]),d<c){for(c=d,h=0;h<i;++h)l[h]=u[h];l.length=i,p+=i}else p+=i*Math.max((Math.sqrt(d)-Math.sqrt(c))/r|0,1);if(o&&(bs(e,n-i,t,i,s,a,u),d=er(s,a,u[0],u[1]),d<c)){for(c=d,h=0;h<i;++h)l[h]=u[h];l.length=i}return c}function Cs(e,t,n,i,r,o,s,a,l,c,u){u=u||[NaN,NaN];for(let h=0,d=n.length;h<d;++h){const d=n[h];c=Ss(e,t,d,i,r,o,s,a,l,c,u),t=d}return c}function Es(e,t,n,i,r){r=void 0!==r?r:[];let o=0;for(let s=t;s<n;s+=i)r[o++]=e.slice(s,s+i);return r.length=o,r}function Ts(e,t,n,i,r){r=void 0!==r?r:[];let o=0;for(let s=0,a=n.length;s<a;++s){const a=n[s];r[o++]=Es(e,t,a,i,r[o]),t=a}return r.length=o,r}function Rs(e,t,n,i,r){r=void 0!==r?r:[];let o=0;for(let s=0,a=n.length;s<a;++s){const a=n[s];r[o++]=1===a.length&&a[0]===t?[]:Ts(e,t,a,i,r[o]),t=a[a.length-1]}return r.length=o,r}class Ms extends hs{constructor(e,t){super(),this.maxDelta_=-1,this.maxDeltaRevision_=-1,void 0===t||Array.isArray(e[0])?this.setCoordinates(e,t):this.setFlatCoordinates(t,e)}clone(){return new Ms(this.flatCoordinates.slice(),this.layout)}closestPointXY(e,t,n,i){return i<vi(this.getExtent(),e,t)?i:(this.maxDeltaRevision_!=this.getRevision()&&(this.maxDelta_=Math.sqrt(ws(this.flatCoordinates,0,this.flatCoordinates.length,this.stride,0)),this.maxDeltaRevision_=this.getRevision()),Ss(this.flatCoordinates,0,this.flatCoordinates.length,this.stride,this.maxDelta_,!0,e,t,n,i))}getArea(){return ys(this.flatCoordinates,0,this.flatCoordinates.length,this.stride)}getCoordinates(){return Es(this.flatCoordinates,0,this.flatCoordinates.length,this.stride)}getSimplifiedGeometryInternal(e){const t=[];return t.length=Xo(this.flatCoordinates,0,this.flatCoordinates.length,this.stride,e,t,0),new Ms(t,"XY")}getType(){return"LinearRing"}intersectsExtent(e){return!1}setCoordinates(e,t){this.setLayout(t,e,1),this.flatCoordinates||(this.flatCoordinates=[]),this.flatCoordinates.length=fs(this.flatCoordinates,0,e,this.stride),this.changed()}}function Is(e,t,n,i,r){let o;for(t+=i;t<n;t+=i)if(o=r(e.slice(t-i,t),e.slice(t,t+i)),o)return o;return!1}function As(e,t,n,i,r,o){return o=o??Ii([1/0,1/0,-1/0,-1/0],e,t,n,i),!!Xi(r,o)&&(o[0]>=r[0]&&o[2]<=r[2]||o[1]>=r[1]&&o[3]<=r[3]||Is(e,t,n,i,function(e,t){return function(e,t,n){let i=!1;const r=bi(e,t),o=bi(e,n);if(r===ci||o===ci)i=!0;else{const s=e[0],a=e[1],l=e[2],c=e[3],u=t[0],h=t[1],d=n[0],p=n[1],f=(p-h)/(d-u);let g,m;o&ui&&!(r&ui)&&(g=d-(p-c)/f,i=g>=s&&g<=l),i||!(o&hi)||r&hi||(m=p-(d-l)*f,i=m>=a&&m<=c),i||!(o&di)||r&di||(g=d-(p-a)/f,i=g>=s&&g<=l),i||!(o&pi)||r&pi||(m=p-(d-s)*f,i=m>=a&&m<=c)}return i}(r,e,t)}))}function Ps(e,t,n,i,r){return!!As(e,t,n,i,r)||(!!Po(e,t,n,i,r[0],r[1])||(!!Po(e,t,n,i,r[0],r[3])||(!!Po(e,t,n,i,r[2],r[1])||!!Po(e,t,n,i,r[2],r[3]))))}function Fs(e,t,n,i,r){if(!Ps(e,t,n[0],i,r))return!1;if(1===n.length)return!0;for(let o=1,s=n.length;o<s;++o)if(Ao(e,n[o-1],n[o],i,r)&&!As(e,n[o-1],n[o],i,r))return!1;return!0}function Ls(e,t,n,i){let r=e[t],o=e[t+1],s=0;for(let a=t+i;a<n;a+=i){const t=e[a],n=e[a+1];s+=Math.sqrt((t-r)*(t-r)+(n-o)*(n-o)),r=t,o=n}return s}class zs extends hs{constructor(e,t){super(),this.flatMidpoint_=null,this.flatMidpointRevision_=-1,this.maxDelta_=-1,this.maxDeltaRevision_=-1,void 0===t||Array.isArray(e[0])?this.setCoordinates(e,t):this.setFlatCoordinates(t,e)}appendCoordinate(e){Fn(this.flatCoordinates,e),this.changed()}clone(){const e=new zs(this.flatCoordinates.slice(),this.layout);return e.applyProperties(this),e}closestPointXY(e,t,n,i){return i<vi(this.getExtent(),e,t)?i:(this.maxDeltaRevision_!=this.getRevision()&&(this.maxDelta_=Math.sqrt(ws(this.flatCoordinates,0,this.flatCoordinates.length,this.stride,0)),this.maxDeltaRevision_=this.getRevision()),Ss(this.flatCoordinates,0,this.flatCoordinates.length,this.stride,this.maxDelta_,!1,e,t,n,i))}forEachSegment(e){return Is(this.flatCoordinates,0,this.flatCoordinates.length,this.stride,e)}getCoordinateAtM(e,t){return"XYM"!=this.layout&&"XYZM"!=this.layout?null:(t=void 0!==t&&t,Do(this.flatCoordinates,0,this.flatCoordinates.length,this.stride,e,t))}getCoordinates(){return Es(this.flatCoordinates,0,this.flatCoordinates.length,this.stride)}getCoordinateAt(e,t){return Oo(this.flatCoordinates,0,this.flatCoordinates.length,this.stride,e,t,this.stride)}getLength(){return Ls(this.flatCoordinates,0,this.flatCoordinates.length,this.stride)}getFlatMidpoint(){return this.flatMidpointRevision_!=this.getRevision()&&(this.flatMidpoint_=this.getCoordinateAt(.5,this.flatMidpoint_??void 0),this.flatMidpointRevision_=this.getRevision()),this.flatMidpoint_}getSimplifiedGeometryInternal(e){const t=[];return t.length=Xo(this.flatCoordinates,0,this.flatCoordinates.length,this.stride,e,t,0),new zs(t,"XY")}getType(){return"LineString"}intersectsExtent(e){return As(this.flatCoordinates,0,this.flatCoordinates.length,this.stride,e,this.getExtent())}setCoordinates(e,t){this.setLayout(t,e,1),this.flatCoordinates||(this.flatCoordinates=[]),this.flatCoordinates.length=fs(this.flatCoordinates,0,e,this.stride),this.changed()}}class Os extends hs{constructor(e,t,n){if(super(),this.ends_=[],this.maxDelta_=-1,this.maxDeltaRevision_=-1,Array.isArray(e[0]))this.setCoordinates(e,t);else if(void 0!==t&&n)this.setFlatCoordinates(t,e),this.ends_=n;else{const t=e,n=[],i=[];for(let e=0,o=t.length;e<o;++e){Fn(n,t[e].getFlatCoordinates()),i.push(n.length)}const r=0===t.length?this.getLayout():t[0].getLayout();this.setFlatCoordinates(r,n),this.ends_=i}}appendLineString(e){Fn(this.flatCoordinates,e.getFlatCoordinates().slice()),this.ends_.push(this.flatCoordinates.length),this.changed()}clone(){const e=new Os(this.flatCoordinates.slice(),this.layout,this.ends_.slice());return e.applyProperties(this),e}closestPointXY(e,t,n,i){return i<vi(this.getExtent(),e,t)?i:(this.maxDeltaRevision_!=this.getRevision()&&(this.maxDelta_=Math.sqrt(ks(this.flatCoordinates,0,this.ends_,this.stride,0)),this.maxDeltaRevision_=this.getRevision()),Cs(this.flatCoordinates,0,this.ends_,this.stride,this.maxDelta_,!1,e,t,n,i))}getCoordinateAtM(e,t,n){return"XYM"!=this.layout&&"XYZM"!=this.layout||0===this.flatCoordinates.length?null:(t=void 0!==t&&t,n=void 0!==n&&n,function(e,t,n,i,r,o,s){if(s)return Do(e,t,n[n.length-1],i,r,o);let a;if(r<e[i-1])return o?(a=e.slice(0,i),a[i-1]=r,a):null;if(e[e.length-1]<r)return o?(a=e.slice(e.length-i),a[i-1]=r,a):null;for(let l=0,c=n.length;l<c;++l){const o=n[l];if(t!=o){if(r<e[t+i-1])return null;if(r<=e[o-1])return Do(e,t,o,i,r,!1);t=o}}return null}(this.flatCoordinates,0,this.ends_,this.stride,e,t,n))}getCoordinates(){return Ts(this.flatCoordinates,0,this.ends_,this.stride)}getEnds(){return this.ends_}getLineString(e){return e<0||this.ends_.length<=e?null:new zs(this.flatCoordinates.slice(0===e?0:this.ends_[e-1],this.ends_[e]),this.layout)}getLineStrings(){const e=this.flatCoordinates,t=this.ends_,n=this.layout,i=[];let r=0;for(let o=0,s=t.length;o<s;++o){const s=t[o],a=new zs(e.slice(r,s),n);i.push(a),r=s}return i}getLength(){const e=this.ends_;let t=0,n=0;for(let i=0,r=e.length;i<r;++i)n+=Ls(this.flatCoordinates,t,e[i],this.stride),t=e[i];return n}getFlatMidpoints(){const e=[],t=this.flatCoordinates;let n=0;const i=this.ends_,r=this.stride;for(let o=0,s=i.length;o<s;++o){const s=i[o];Fn(e,Oo(t,n,s,r,.5)),n=s}return e}getSimplifiedGeometryInternal(e){const t=[],n=[];return t.length=Uo(this.flatCoordinates,0,this.ends_,this.stride,e,t,0,n),new Os(t,"XY",n)}getType(){return"MultiLineString"}intersectsExtent(e){return function(e,t,n,i,r){for(let o=0,s=n.length;o<s;++o){if(As(e,t,n[o],i,r))return!0;t=n[o]}return!1}(this.flatCoordinates,0,this.ends_,this.stride,e)}setCoordinates(e,t){this.setLayout(t,e,2),this.flatCoordinates||(this.flatCoordinates=[]);const n=gs(this.flatCoordinates,0,e,this.stride,this.ends_);this.flatCoordinates.length=0===n.length?0:n[n.length-1],this.changed()}}class Ds extends hs{constructor(e,t){super(),this.setCoordinates(e,t)}clone(){const e=new Ds(this.flatCoordinates.slice(),this.layout);return e.applyProperties(this),e}closestPointXY(e,t,n,i){const r=this.flatCoordinates,o=er(e,t,r[0],r[1]);if(o<i){const e=this.stride;for(let t=0;t<e;++t)n[t]=r[t];return n.length=e,o}return i}getCoordinates(){return this.flatCoordinates.slice()}computeExtent(e){return Ci(this.flatCoordinates,e)}getType(){return"Point"}intersectsExtent(e){return xi(e,this.flatCoordinates[0],this.flatCoordinates[1])}setCoordinates(e,t){this.setLayout(t,e,0),this.flatCoordinates||(this.flatCoordinates=[]),this.flatCoordinates.length=function(e,t,n){for(let i=0,r=n.length;i<r;++i)e[t++]=n[i];return t}(this.flatCoordinates,0,e,this.stride),this.changed()}}class js extends hs{constructor(e,t){super(),t&&!Array.isArray(e[0])?this.setFlatCoordinates(t,e):this.setCoordinates(e,t)}appendPoint(e){Fn(this.flatCoordinates,e.getFlatCoordinates()),this.changed()}clone(){const e=new js(this.flatCoordinates.slice(),this.layout);return e.applyProperties(this),e}closestPointXY(e,t,n,i){if(i<vi(this.getExtent(),e,t))return i;const r=this.flatCoordinates,o=this.stride;for(let s=0,a=r.length;s<a;s+=o){const a=er(e,t,r[s],r[s+1]);if(a<i){i=a;for(let e=0;e<o;++e)n[e]=r[s+e];n.length=o}}return i}getCoordinates(){return Es(this.flatCoordinates,0,this.flatCoordinates.length,this.stride)}getPoint(e){const t=this.flatCoordinates.length/this.stride;return e<0||t<=e?null:new Ds(this.flatCoordinates.slice(e*this.stride,(e+1)*this.stride),this.layout)}getPoints(){const e=this.flatCoordinates,t=this.layout,n=this.stride,i=[];for(let r=0,o=e.length;r<o;r+=n){const o=new Ds(e.slice(r,r+n),t);i.push(o)}return i}getType(){return"MultiPoint"}intersectsExtent(e){const t=this.flatCoordinates,n=this.stride;for(let i=0,r=t.length;i<r;i+=n){if(xi(e,t[i],t[i+1]))return!0}return!1}setCoordinates(e,t){this.setLayout(t,e,1),this.flatCoordinates||(this.flatCoordinates=[]),this.flatCoordinates.length=fs(this.flatCoordinates,0,e,this.stride),this.changed()}}class Ns extends hs{constructor(e,t,n){super(),this.ends_=[],this.flatInteriorPointRevision_=-1,this.flatInteriorPoint_=null,this.maxDelta_=-1,this.maxDeltaRevision_=-1,this.orientedRevision_=-1,this.orientedFlatCoordinates_=null,void 0!==t&&n?(this.setFlatCoordinates(t,e),this.ends_=n):this.setCoordinates(e,t)}appendLinearRing(e){this.flatCoordinates?Fn(this.flatCoordinates,e.getFlatCoordinates()):this.flatCoordinates=e.getFlatCoordinates().slice(),this.ends_.push(this.flatCoordinates.length),this.changed()}clone(){const e=new Ns(this.flatCoordinates.slice(),this.layout,this.ends_.slice());return e.applyProperties(this),e}closestPointXY(e,t,n,i){return i<vi(this.getExtent(),e,t)?i:(this.maxDeltaRevision_!=this.getRevision()&&(this.maxDelta_=Math.sqrt(ks(this.flatCoordinates,0,this.ends_,this.stride,0)),this.maxDeltaRevision_=this.getRevision()),Cs(this.flatCoordinates,0,this.ends_,this.stride,this.maxDelta_,!0,e,t,n,i))}containsXY(e,t){return Fo(this.getOrientedFlatCoordinates(),0,this.ends_,this.stride,e,t)}getArea(){return xs(this.getOrientedFlatCoordinates(),0,this.ends_,this.stride)}getCoordinates(e){let t;return void 0!==e?(t=this.getOrientedFlatCoordinates().slice(),Go(t,0,this.ends_,this.stride,e)):t=this.flatCoordinates,Ts(t,0,this.ends_,this.stride)}getEnds(){return this.ends_}getFlatInteriorPoint(){if(this.flatInteriorPointRevision_!=this.getRevision()){const e=Oi(this.getExtent());this.flatInteriorPoint_=Lo(this.getOrientedFlatCoordinates(),0,this.ends_,this.stride,e,0),this.flatInteriorPointRevision_=this.getRevision()}return this.flatInteriorPoint_}getInteriorPoint(){return new Ds(this.getFlatInteriorPoint(),"XYM")}getLinearRingCount(){return this.ends_.length}getLinearRing(e){return e<0||this.ends_.length<=e?null:new Ms(this.flatCoordinates.slice(0===e?0:this.ends_[e-1],this.ends_[e]),this.layout)}getLinearRings(){const e=this.layout,t=this.flatCoordinates,n=this.ends_,i=[];let r=0;for(let o=0,s=n.length;o<s;++o){const s=n[o],a=new Ms(t.slice(r,s),e);i.push(a),r=s}return i}getOrientedFlatCoordinates(){if(this.orientedRevision_!=this.getRevision()){const e=this.flatCoordinates;$o(e,0,this.ends_,this.stride)?this.orientedFlatCoordinates_=e:(this.orientedFlatCoordinates_=e.slice(),this.orientedFlatCoordinates_.length=Go(this.orientedFlatCoordinates_,0,this.ends_,this.stride)),this.orientedRevision_=this.getRevision()}return this.orientedFlatCoordinates_}getSimplifiedGeometryInternal(e){const t=[],n=[];return t.length=Yo(this.flatCoordinates,0,this.ends_,this.stride,Math.sqrt(e),t,0,n),new Ns(t,"XY",n)}getType(){return"Polygon"}intersectsExtent(e){return Fs(this.getOrientedFlatCoordinates(),0,this.ends_,this.stride,e)}setCoordinates(e,t){this.setLayout(t,e,2),this.flatCoordinates||(this.flatCoordinates=[]);const n=gs(this.flatCoordinates,0,e,this.stride,this.ends_);this.flatCoordinates.length=0===n.length?0:n[n.length-1],this.changed()}}function $s(e){if(Ui(e))throw new Error("Cannot create polygon from empty extent");const t=e[0],n=e[1],i=e[2],r=e[3],o=[t,n,t,r,i,r,i,n,t,n];return new Ns(o,"XY",[o.length])}class Bs extends hs{constructor(e,t,n){if(super(),this.endss_=[],this.flatInteriorPointsRevision_=-1,this.flatInteriorPoints_=null,this.maxDelta_=-1,this.maxDeltaRevision_=-1,this.orientedRevision_=-1,this.orientedFlatCoordinates_=null,!n&&!Array.isArray(e[0])){const i=e,r=[],o=[];for(let e=0,t=i.length;e<t;++e){const t=i[e],n=r.length,s=t.getEnds();for(let e=0,i=s.length;e<i;++e)s[e]+=n;Fn(r,t.getFlatCoordinates()),o.push(s)}t=0===i.length?this.getLayout():i[0].getLayout(),e=r,n=o}void 0!==t&&n?(this.setFlatCoordinates(t,e),this.endss_=n):this.setCoordinates(e,t)}appendPolygon(e){let t;if(this.flatCoordinates){const n=this.flatCoordinates.length;Fn(this.flatCoordinates,e.getFlatCoordinates()),t=e.getEnds().slice();for(let e=0,i=t.length;e<i;++e)t[e]+=n}else this.flatCoordinates=e.getFlatCoordinates().slice(),t=e.getEnds().slice(),this.endss_.push();this.endss_.push(t),this.changed()}clone(){const e=this.endss_.length,t=new Array(e);for(let i=0;i<e;++i)t[i]=this.endss_[i].slice();const n=new Bs(this.flatCoordinates.slice(),this.layout,t);return n.applyProperties(this),n}closestPointXY(e,t,n,i){return i<vi(this.getExtent(),e,t)?i:(this.maxDeltaRevision_!=this.getRevision()&&(this.maxDelta_=Math.sqrt(function(e,t,n,i,r){for(let o=0,s=n.length;o<s;++o){const s=n[o];r=ks(e,t,s,i,r),t=s[s.length-1]}return r}(this.flatCoordinates,0,this.endss_,this.stride,0)),this.maxDeltaRevision_=this.getRevision()),function(e,t,n,i,r,o,s,a,l,c,u){u=u||[NaN,NaN];for(let h=0,d=n.length;h<d;++h){const d=n[h];c=Cs(e,t,d,i,r,o,s,a,l,c,u),t=d[d.length-1]}return c}(this.getOrientedFlatCoordinates(),0,this.endss_,this.stride,this.maxDelta_,!0,e,t,n,i))}containsXY(e,t){return function(e,t,n,i,r,o){if(0===n.length)return!1;for(let s=0,a=n.length;s<a;++s){const a=n[s];if(Fo(e,t,a,i,r,o))return!0;t=a[a.length-1]}return!1}(this.getOrientedFlatCoordinates(),0,this.endss_,this.stride,e,t)}getArea(){return function(e,t,n,i){let r=0;for(let o=0,s=n.length;o<s;++o){const s=n[o];r+=xs(e,t,s,i),t=s[s.length-1]}return r}(this.getOrientedFlatCoordinates(),0,this.endss_,this.stride)}getCoordinates(e){let t;return void 0!==e?(t=this.getOrientedFlatCoordinates().slice(),qo(t,0,this.endss_,this.stride,e)):t=this.flatCoordinates,Rs(t,0,this.endss_,this.stride)}getEndss(){return this.endss_}getFlatInteriorPoints(){if(this.flatInteriorPointsRevision_!=this.getRevision()){const e=Io(this.flatCoordinates,0,this.endss_,this.stride);this.flatInteriorPoints_=zo(this.getOrientedFlatCoordinates(),0,this.endss_,this.stride,e),this.flatInteriorPointsRevision_=this.getRevision()}return this.flatInteriorPoints_}getInteriorPoints(){return new js(this.getFlatInteriorPoints().slice(),"XYM")}getOrientedFlatCoordinates(){if(this.orientedRevision_!=this.getRevision()){const e=this.flatCoordinates;Bo(e,0,this.endss_,this.stride)?this.orientedFlatCoordinates_=e:(this.orientedFlatCoordinates_=e.slice(),this.orientedFlatCoordinates_.length=qo(this.orientedFlatCoordinates_,0,this.endss_,this.stride)),this.orientedRevision_=this.getRevision()}return this.orientedFlatCoordinates_}getSimplifiedGeometryInternal(e){const t=[],n=[];return t.length=function(e,t,n,i,r,o,s,a){for(let l=0,c=n.length;l<c;++l){const c=n[l],u=[];s=Yo(e,t,c,i,r,o,s,u),a.push(u),t=c[c.length-1]}return s}(this.flatCoordinates,0,this.endss_,this.stride,Math.sqrt(e),t,0,n),new Bs(t,"XY",n)}getPolygon(e){if(e<0||this.endss_.length<=e)return null;let t;if(0===e)t=0;else{const n=this.endss_[e-1];t=n[n.length-1]}const n=this.endss_[e].slice(),i=n[n.length-1];if(0!==t)for(let r=0,o=n.length;r<o;++r)n[r]-=t;return new Ns(this.flatCoordinates.slice(t,i),this.layout,n)}getPolygons(){const e=this.layout,t=this.flatCoordinates,n=this.endss_,i=[];let r=0;for(let o=0,s=n.length;o<s;++o){const s=n[o].slice(),a=s[s.length-1];if(0!==r)for(let e=0,t=s.length;e<t;++e)s[e]-=r;const l=new Ns(t.slice(r,a),e,s);i.push(l),r=a}return i}getType(){return"MultiPolygon"}intersectsExtent(e){return function(e,t,n,i,r){for(let o=0,s=n.length;o<s;++o){const s=n[o];if(Fs(e,t,s,i,r))return!0;t=s[s.length-1]}return!1}(this.getOrientedFlatCoordinates(),0,this.endss_,this.stride,e)}setCoordinates(e,t){this.setLayout(t,e,3),this.flatCoordinates||(this.flatCoordinates=[]);const n=ms(this.flatCoordinates,0,e,this.stride,this.endss_);if(0===n.length)this.flatCoordinates.length=0;else{const e=n[n.length-1];this.flatCoordinates.length=0===e.length?0:e[e.length-1]}this.changed()}}const Gs=[1,0,0,1,0,0];class qs{constructor(e,t,n,i,r,o){this.styleFunction,this.extent_,this.id_=o,this.type_=e,this.flatCoordinates_=t,this.flatInteriorPoints_=null,this.flatMidpoints_=null,this.ends_=n||null,this.properties_=r,this.squaredTolerance_,this.stride_=i,this.simplifiedGeometry_}get(e){return this.properties_[e]}getExtent(){return this.extent_||(this.extent_="Point"===this.type_?Ci(this.flatCoordinates_):Ei(this.flatCoordinates_,0,this.flatCoordinates_.length,2)),this.extent_}getFlatInteriorPoint(){if(!this.flatInteriorPoints_){const e=Oi(this.getExtent());this.flatInteriorPoints_=Lo(this.flatCoordinates_,0,this.ends_,2,e,0)}return this.flatInteriorPoints_}getFlatInteriorPoints(){if(!this.flatInteriorPoints_){const e=Wo(this.flatCoordinates_,this.ends_),t=Io(this.flatCoordinates_,0,e,2);this.flatInteriorPoints_=zo(this.flatCoordinates_,0,e,2,t)}return this.flatInteriorPoints_}getFlatMidpoint(){return this.flatMidpoints_||(this.flatMidpoints_=Oo(this.flatCoordinates_,0,this.flatCoordinates_.length,2,.5)),this.flatMidpoints_}getFlatMidpoints(){if(!this.flatMidpoints_){this.flatMidpoints_=[];const e=this.flatCoordinates_;let t=0;const n=this.ends_;for(let i=0,r=n.length;i<r;++i){const r=n[i],o=Oo(e,t,r,2,.5);Fn(this.flatMidpoints_,o),t=r}}return this.flatMidpoints_}getId(){return this.id_}getOrientedFlatCoordinates(){return this.flatCoordinates_}getGeometry(){return this}getSimplifiedGeometry(e){return this}simplifyTransformed(e,t){return this}getProperties(){return this.properties_}getPropertiesInternal(){return this.properties_}getStride(){return this.stride_}getStyleFunction(){return this.styleFunction}getType(){return this.type_}transform(e){const t=(e=co(e)).getExtent(),n=e.getWorldExtent();if(t&&n){const e=$i(n)/$i(t);rs(Gs,n[0],n[3],e,-e,0,0,0),Zo(this.flatCoordinates_,0,this.flatCoordinates_.length,2,Gs,this.flatCoordinates_)}}applyTransform(e){e(this.flatCoordinates_,this.flatCoordinates_,this.stride_)}clone(){return new qs(this.type_,this.flatCoordinates_.slice(),this.ends_?.slice(),this.stride_,Object.assign({},this.properties_),this.id_)}getEnds(){return this.ends_}enableSimplifyTransformed(){return this.simplifyTransformed=jn((e,t)=>{if(e===this.squaredTolerance_)return this.simplifiedGeometry_;this.simplifiedGeometry_=this.clone(),t&&this.simplifiedGeometry_.applyTransform(t);const n=this.simplifiedGeometry_.getFlatCoordinates();let i;switch(this.type_){case"LineString":n.length=Xo(n,0,this.simplifiedGeometry_.flatCoordinates_.length,this.simplifiedGeometry_.stride_,e,n,0),i=[n.length];break;case"MultiLineString":i=[],n.length=Uo(n,0,this.simplifiedGeometry_.ends_,this.simplifiedGeometry_.stride_,e,n,0,i);break;case"Polygon":i=[],n.length=Yo(n,0,this.simplifiedGeometry_.ends_,this.simplifiedGeometry_.stride_,Math.sqrt(e),n,0,i)}return i&&(this.simplifiedGeometry_=new qs(this.type_,n,i,2,this.properties_,this.id_)),this.squaredTolerance_=e,this.simplifiedGeometry_}),this}}function Ws(e,t,n=0,i=e.length-1,r=Us){for(;i>n;){if(i-n>600){const o=i-n+1,s=t-n+1,a=Math.log(o),l=.5*Math.exp(2*a/3),c=.5*Math.sqrt(a*l*(o-l)/o)*(s-o/2<0?-1:1);Ws(e,t,Math.max(n,Math.floor(t-s*l/o+c)),Math.min(i,Math.floor(t+(o-s)*l/o+c)),r)}const o=e[t];let s=n,a=i;for(Xs(e,n,t),r(e[i],o)>0&&Xs(e,n,i);s<a;){for(Xs(e,s,a),s++,a--;r(e[s],o)<0;)s++;for(;r(e[a],o)>0;)a--}0===r(e[n],o)?Xs(e,n,a):(a++,Xs(e,a,i)),a<=t&&(n=a+1),t<=a&&(i=a-1)}}function Xs(e,t,n){const i=e[t];e[t]=e[n],e[n]=i}function Us(e,t){return e<t?-1:e>t?1:0}qs.prototype.getFlatCoordinates=qs.prototype.getOrientedFlatCoordinates;let Hs=class{constructor(e=9){this._maxEntries=Math.max(4,e),this._minEntries=Math.max(2,Math.ceil(.4*this._maxEntries)),this.clear()}all(){return this._all(this.data,[])}search(e){let t=this.data;const n=[];if(!oa(e,t))return n;const i=this.toBBox,r=[];for(;t;){for(let o=0;o<t.children.length;o++){const s=t.children[o],a=t.leaf?i(s):s;oa(e,a)&&(t.leaf?n.push(s):ra(e,a)?this._all(s,n):r.push(s))}t=r.pop()}return n}collides(e){let t=this.data;if(!oa(e,t))return!1;const n=[];for(;t;){for(let i=0;i<t.children.length;i++){const r=t.children[i],o=t.leaf?this.toBBox(r):r;if(oa(e,o)){if(t.leaf||ra(e,o))return!0;n.push(r)}}t=n.pop()}return!1}load(e){if(!e||!e.length)return this;if(e.length<this._minEntries){for(let t=0;t<e.length;t++)this.insert(e[t]);return this}let t=this._build(e.slice(),0,e.length-1,0);if(this.data.children.length)if(this.data.height===t.height)this._splitRoot(this.data,t);else{if(this.data.height<t.height){const e=this.data;this.data=t,t=e}this._insert(t,this.data.height-t.height-1,!0)}else this.data=t;return this}insert(e){return e&&this._insert(e,this.data.height-1),this}clear(){return this.data=sa([]),this}remove(e,t){if(!e)return this;let n=this.data;const i=this.toBBox(e),r=[],o=[];let s,a,l;for(;n||r.length;){if(n||(n=r.pop(),a=r[r.length-1],s=o.pop(),l=!0),n.leaf){const i=Vs(e,n.children,t);if(-1!==i)return n.children.splice(i,1),r.push(n),this._condense(r),this}l||n.leaf||!ra(n,i)?a?(s++,n=a.children[s],l=!1):n=null:(r.push(n),o.push(s),s=0,a=n,n=n.children[0])}return this}toBBox(e){return e}compareMinX(e,t){return e.minX-t.minX}compareMinY(e,t){return e.minY-t.minY}toJSON(){return this.data}fromJSON(e){return this.data=e,this}_all(e,t){const n=[];for(;e;)e.leaf?t.push(...e.children):n.push(...e.children),e=n.pop();return t}_build(e,t,n,i){const r=n-t+1;let o,s=this._maxEntries;if(r<=s)return o=sa(e.slice(t,n+1)),Ys(o,this.toBBox),o;i||(i=Math.ceil(Math.log(r)/Math.log(s)),s=Math.ceil(r/Math.pow(s,i-1))),o=sa([]),o.leaf=!1,o.height=i;const a=Math.ceil(r/s),l=a*Math.ceil(Math.sqrt(s));aa(e,t,n,l,this.compareMinX);for(let c=t;c<=n;c+=l){const t=Math.min(c+l-1,n);aa(e,c,t,a,this.compareMinY);for(let n=c;n<=t;n+=a){const r=Math.min(n+a-1,t);o.children.push(this._build(e,n,r,i-1))}}return Ys(o,this.toBBox),o}_chooseSubtree(e,t,n,i){for(;i.push(t),!t.leaf&&i.length-1!==n;){let n,i=1/0,r=1/0;for(let o=0;o<t.children.length;o++){const s=t.children[o],a=ea(s),l=na(e,s)-a;l<r?(r=l,i=a<i?a:i,n=s):l===r&&a<i&&(i=a,n=s)}t=n||t.children[0]}return t}_insert(e,t,n){const i=n?e:this.toBBox(e),r=[],o=this._chooseSubtree(i,this.data,t,r);for(o.children.push(e),Ks(o,i);t>=0&&r[t].children.length>this._maxEntries;)this._split(r,t),t--;this._adjustParentBBoxes(i,r,t)}_split(e,t){const n=e[t],i=n.children.length,r=this._minEntries;this._chooseSplitAxis(n,r,i);const o=this._chooseSplitIndex(n,r,i),s=sa(n.children.splice(o,n.children.length-o));s.height=n.height,s.leaf=n.leaf,Ys(n,this.toBBox),Ys(s,this.toBBox),t?e[t-1].children.push(s):this._splitRoot(n,s)}_splitRoot(e,t){this.data=sa([e,t]),this.data.height=e.height+1,this.data.leaf=!1,Ys(this.data,this.toBBox)}_chooseSplitIndex(e,t,n){let i,r=1/0,o=1/0;for(let s=t;s<=n-t;s++){const t=Zs(e,0,s,this.toBBox),a=Zs(e,s,n,this.toBBox),l=ia(t,a),c=ea(t)+ea(a);l<r?(r=l,i=s,o=c<o?c:o):l===r&&c<o&&(o=c,i=s)}return i||n-t}_chooseSplitAxis(e,t,n){const i=e.leaf?this.compareMinX:Js,r=e.leaf?this.compareMinY:Qs;this._allDistMargin(e,t,n,i)<this._allDistMargin(e,t,n,r)&&e.children.sort(i)}_allDistMargin(e,t,n,i){e.children.sort(i);const r=this.toBBox,o=Zs(e,0,t,r),s=Zs(e,n-t,n,r);let a=ta(o)+ta(s);for(let l=t;l<n-t;l++){const t=e.children[l];Ks(o,e.leaf?r(t):t),a+=ta(o)}for(let l=n-t-1;l>=t;l--){const t=e.children[l];Ks(s,e.leaf?r(t):t),a+=ta(s)}return a}_adjustParentBBoxes(e,t,n){for(let i=n;i>=0;i--)Ks(t[i],e)}_condense(e){for(let t,n=e.length-1;n>=0;n--)0===e[n].children.length?n>0?(t=e[n-1].children,t.splice(t.indexOf(e[n]),1)):this.clear():Ys(e[n],this.toBBox)}};function Vs(e,t,n){if(!n)return t.indexOf(e);for(let i=0;i<t.length;i++)if(n(e,t[i]))return i;return-1}function Ys(e,t){Zs(e,0,e.children.length,t,e)}function Zs(e,t,n,i,r){r||(r=sa(null)),r.minX=1/0,r.minY=1/0,r.maxX=-1/0,r.maxY=-1/0;for(let o=t;o<n;o++){const t=e.children[o];Ks(r,e.leaf?i(t):t)}return r}function Ks(e,t){return e.minX=Math.min(e.minX,t.minX),e.minY=Math.min(e.minY,t.minY),e.maxX=Math.max(e.maxX,t.maxX),e.maxY=Math.max(e.maxY,t.maxY),e}function Js(e,t){return e.minX-t.minX}function Qs(e,t){return e.minY-t.minY}function ea(e){return(e.maxX-e.minX)*(e.maxY-e.minY)}function ta(e){return e.maxX-e.minX+(e.maxY-e.minY)}function na(e,t){return(Math.max(t.maxX,e.maxX)-Math.min(t.minX,e.minX))*(Math.max(t.maxY,e.maxY)-Math.min(t.minY,e.minY))}function ia(e,t){const n=Math.max(e.minX,t.minX),i=Math.max(e.minY,t.minY),r=Math.min(e.maxX,t.maxX),o=Math.min(e.maxY,t.maxY);return Math.max(0,r-n)*Math.max(0,o-i)}function ra(e,t){return e.minX<=t.minX&&e.minY<=t.minY&&t.maxX<=e.maxX&&t.maxY<=e.maxY}function oa(e,t){return t.minX<=e.maxX&&t.minY<=e.maxY&&t.maxX>=e.minX&&t.maxY>=e.minY}function sa(e){return{children:e,height:1,leaf:!0,minX:1/0,minY:1/0,maxX:-1/0,maxY:-1/0}}function aa(e,t,n,i,r){const o=[t,n];for(;o.length;){if((n=o.pop())-(t=o.pop())<=i)continue;const s=t+Math.ceil((n-t)/i/2)*i;Ws(e,s,t,n,r),o.push(t,s,s,n)}}class la{constructor(e){this.rbush_=new Hs(e),this.items_={}}insert(e,t){const n={minX:e[0],minY:e[1],maxX:e[2],maxY:e[3],value:t};this.rbush_.insert(n),this.items_[Xn(t)]=n}load(e,t){const n=new Array(t.length);for(let i=0,r=t.length;i<r;i++){const r=e[i],o=t[i],s={minX:r[0],minY:r[1],maxX:r[2],maxY:r[3],value:o};n[i]=s,this.items_[Xn(o)]=s}this.rbush_.load(n)}remove(e){const t=Xn(e),n=this.items_[t];return delete this.items_[t],null!==this.rbush_.remove(n)}update(e,t){const n=this.items_[Xn(t)];Ti([n.minX,n.minY,n.maxX,n.maxY],e)||(this.remove(t),this.insert(e,t))}getAll(){return this.rbush_.all().map(function(e){return e.value})}getInExtent(e){const t={minX:e[0],minY:e[1],maxX:e[2],maxY:e[3]};return this.rbush_.search(t).map(function(e){return e.value})}forEach(e){return this.forEach_(this.getAll(),e)}forEachInExtent(e,t){return this.forEach_(this.getInExtent(e),t)}forEach_(e,t){let n;for(let i=0,r=e.length;i<r;i++)if(n=t(e[i]),n)return n;return n}isEmpty(){return _n(this.items_)}clear(){this.rbush_.clear(),this.items_={}}getExtent(e){const t=this.rbush_.toJSON();return ki(t.minX,t.minY,t.maxX,t.maxY,e)}concat(e){this.rbush_.load(e.rbush_.all());for(const t in e.items_)this.items_[t]=e.items_[t]}}class ca extends Hn{constructor(e){super(),this.projection=co(e.projection),this.attributions_=ua(e.attributions),this.attributionsCollapsible_=e.attributionsCollapsible??!0,this.loading=!1,this.state_=void 0!==e.state?e.state:"ready",this.wrapX_=void 0!==e.wrapX&&e.wrapX,this.interpolate_=!!e.interpolate,this.viewResolver=null,this.viewRejector=null;const t=this;this.viewPromise_=new Promise(function(e,n){t.viewResolver=e,t.viewRejector=n})}getAttributions(){return this.attributions_}getAttributionsCollapsible(){return this.attributionsCollapsible_}getProjection(){return this.projection}getResolutions(e){return null}getView(){return this.viewPromise_}getState(){return this.state_}getWrapX(){return this.wrapX_}getInterpolate(){return this.interpolate_}refresh(){this.changed()}setAttributions(e){this.attributions_=ua(e),this.changed()}setState(e){this.state_=e,this.changed()}}function ua(e){return e?"function"==typeof e?e:(Array.isArray(e)||(e=[e]),t=>e):null}const ha="addfeature",da="changefeature",pa="clear",fa="removefeature",ga="featuresloadstart",ma="featuresloadend",va="featuresloaderror";class _a extends $n{constructor(e,t,n){super(e),this.feature=t,this.features=n}}class ya extends ca{constructor(e){super({attributions:(e=e||{}).attributions,interpolate:!0,projection:void 0,state:"ready",wrapX:void 0===e.wrapX||e.wrapX}),this.on,this.once,this.un,this.loader_=Dn,this.format_=e.format||null,this.overlaps_=void 0===e.overlaps||e.overlaps,this.url_=e.url,void 0!==e.loader?this.loader_=e.loader:void 0!==this.url_&&(ai(this.format_,"`format` must be set when `url` is set"),this.loader_=Ki(this.url_,this.format_)),this.strategy_=void 0!==e.strategy?e.strategy:To;const t=void 0===e.useSpatialIndex||e.useSpatialIndex;let n,i;this.featuresRtree_=t?new la:null,this.loadedExtentsRtree_=new la,this.loadingExtentsCount_=0,this.nullGeometryFeatures_={},this.idIndex_={},this.uidIndex_={},this.featureChangeKeys_={},this.featuresCollection_=null,Array.isArray(e.features)?i=e.features:e.features&&(n=e.features,i=n.getArray()),t||void 0!==n||(n=new si(i)),void 0!==i&&this.addFeaturesInternal(i),void 0!==n&&this.bindFeaturesCollection_(n)}addFeature(e){this.addFeatureInternal(e),this.changed()}addFeatureInternal(e){const t=Xn(e);if(!this.addToIndex_(t,e))return void(this.featuresCollection_&&this.featuresCollection_.remove(e));this.setupChangeEvents_(t,e);const n=e.getGeometry();if(n){const t=n.getExtent();this.featuresRtree_&&this.featuresRtree_.insert(t,e)}else this.nullGeometryFeatures_[t]=e;this.dispatchEvent(new _a(ha,e))}setupChangeEvents_(e,t){t instanceof qs||(this.featureChangeKeys_[e]=[yn(t,an,this.handleFeatureChange_,this),yn(t,Tn,this.handleFeatureChange_,this)])}addToIndex_(e,t){let n=!0;if(void 0!==t.getId()){const e=String(t.getId());if(e in this.idIndex_)if(t instanceof qs){const i=this.idIndex_[e];i instanceof qs?Array.isArray(i)?i.push(t):this.idIndex_[e]=[i,t]:n=!1}else n=!1;else this.idIndex_[e]=t}return n&&(ai(!(e in this.uidIndex_),"The passed `feature` was already added to the source"),this.uidIndex_[e]=t),n}addFeatures(e){this.addFeaturesInternal(e),this.changed()}addFeaturesInternal(e){const t=[],n=[],i=[];for(let r=0,o=e.length;r<o;r++){const t=e[r],i=Xn(t);this.addToIndex_(i,t)&&n.push(t)}for(let r=0,o=n.length;r<o;r++){const e=n[r],o=Xn(e);this.setupChangeEvents_(o,e);const s=e.getGeometry();if(s){const n=s.getExtent();t.push(n),i.push(e)}else this.nullGeometryFeatures_[o]=e}if(this.featuresRtree_&&this.featuresRtree_.load(t,i),this.hasListener(ha))for(let r=0,o=n.length;r<o;r++)this.dispatchEvent(new _a(ha,n[r]))}bindFeaturesCollection_(e){let t=!1;this.addEventListener(ha,function(n){t||(t=!0,e.push(n.feature),t=!1)}),this.addEventListener(fa,function(n){t||(t=!0,e.remove(n.feature),t=!1)}),e.addEventListener(ni,e=>{t||(t=!0,this.addFeature(e.element),t=!1)}),e.addEventListener(ii,e=>{t||(t=!0,this.removeFeature(e.element),t=!1)}),this.featuresCollection_=e}clear(e){if(e){for(const e in this.featureChangeKeys_){this.featureChangeKeys_[e].forEach(bn)}this.featuresCollection_||(this.featureChangeKeys_={},this.idIndex_={},this.uidIndex_={})}else if(this.featuresRtree_){this.featuresRtree_.forEach(e=>{this.removeFeatureInternal(e)});for(const e in this.nullGeometryFeatures_)this.removeFeatureInternal(this.nullGeometryFeatures_[e])}this.featuresCollection_&&this.featuresCollection_.clear(),this.featuresRtree_&&this.featuresRtree_.clear(),this.nullGeometryFeatures_={};const t=new _a(pa);this.dispatchEvent(t),this.changed()}forEachFeature(e){if(this.featuresRtree_)return this.featuresRtree_.forEach(e);this.featuresCollection_&&this.featuresCollection_.forEach(e)}forEachFeatureAtCoordinateDirect(e,t){const n=[e[0],e[1],e[0],e[1]];return this.forEachFeatureInExtent(n,function(n){const i=n.getGeometry();if(i instanceof qs||i.intersectsCoordinate(e))return t(n)})}forEachFeatureInExtent(e,t){if(this.featuresRtree_)return this.featuresRtree_.forEachInExtent(e,t);this.featuresCollection_&&this.featuresCollection_.forEach(t)}forEachFeatureIntersectingExtent(e,t){return this.forEachFeatureInExtent(e,function(n){const i=n.getGeometry();if(i instanceof qs||i.intersectsExtent(e)){const e=t(n);if(e)return e}})}getFeaturesCollection(){return this.featuresCollection_}getFeatures(){let e;return this.featuresCollection_?e=this.featuresCollection_.getArray().slice(0):this.featuresRtree_&&(e=this.featuresRtree_.getAll(),_n(this.nullGeometryFeatures_)||Fn(e,Object.values(this.nullGeometryFeatures_))),e}getFeaturesAtCoordinate(e){const t=[];return this.forEachFeatureAtCoordinateDirect(e,function(e){t.push(e)}),t}getFeaturesInExtent(e,t){if(this.featuresRtree_){if(!(t&&t.canWrapX()&&this.getWrapX()))return this.featuresRtree_.getInExtent(e);const n=Yi(e,t);return[].concat(...n.map(e=>this.featuresRtree_.getInExtent(e)))}return this.featuresCollection_?this.featuresCollection_.getArray().slice(0):[]}getClosestFeatureToCoordinate(e,t){const n=e[0],i=e[1];let r=null;const o=[NaN,NaN];let s=1/0;const a=[-1/0,-1/0,1/0,1/0];return t=t||zn,this.featuresRtree_.forEachInExtent(a,function(e){if(t(e)){const t=e.getGeometry(),l=s;if(s=t instanceof qs?0:t.closestPointXY(n,i,o,s),s<l){r=e;const t=Math.sqrt(s);a[0]=n-t,a[1]=i-t,a[2]=n+t,a[3]=i+t}}}),r}getExtent(e){return this.featuresRtree_.getExtent(e)}getFeatureById(e){const t=this.idIndex_[e.toString()];return void 0!==t?t:null}getFeatureByUid(e){const t=this.uidIndex_[e];return void 0!==t?t:null}getFormat(){return this.format_}getOverlaps(){return this.overlaps_}getUrl(){return this.url_}handleFeatureChange_(e){const t=e.target,n=Xn(t),i=t.getGeometry();if(i){const e=i.getExtent();n in this.nullGeometryFeatures_?(delete this.nullGeometryFeatures_[n],this.featuresRtree_&&this.featuresRtree_.insert(e,t)):this.featuresRtree_&&this.featuresRtree_.update(e,t)}else n in this.nullGeometryFeatures_||(this.featuresRtree_&&this.featuresRtree_.remove(t),this.nullGeometryFeatures_[n]=t);const r=t.getId();if(void 0!==r){const e=r.toString();this.idIndex_[e]!==t&&(this.removeFromIdIndex_(t),this.idIndex_[e]=t)}else this.removeFromIdIndex_(t),this.uidIndex_[n]=t;this.changed(),this.dispatchEvent(new _a(da,t))}hasFeature(e){const t=e.getId();return void 0!==t?t in this.idIndex_:Xn(e)in this.uidIndex_}isEmpty(){return this.featuresRtree_?this.featuresRtree_.isEmpty()&&_n(this.nullGeometryFeatures_):!this.featuresCollection_||0===this.featuresCollection_.getLength()}loadFeatures(e,t,n){const i=this.loadedExtentsRtree_,r=this.strategy_(e,t,n);for(let o=0,s=r.length;o<s;++o){const e=r[o];i.forEachInExtent(e,function(t){return yi(t.extent,e)})||(++this.loadingExtentsCount_,this.dispatchEvent(new _a(ga)),this.loader_.call(this,e,t,n,e=>{--this.loadingExtentsCount_,this.dispatchEvent(new _a(ma,void 0,e))},()=>{--this.loadingExtentsCount_,this.dispatchEvent(new _a(va))}),i.insert(e,{extent:e.slice()}))}this.loading=!(this.loader_.length<4)&&this.loadingExtentsCount_>0}refresh(){this.clear(!0),this.loadedExtentsRtree_.clear(),super.refresh()}removeLoadedExtent(e){const t=this.loadedExtentsRtree_,n=t.forEachInExtent(e,function(t){if(Ti(t.extent,e))return t});n&&t.remove(n)}removeFeatures(e){let t=!1;for(let n=0,i=e.length;n<i;++n)t=this.removeFeatureInternal(e[n])||t;t&&this.changed()}removeFeature(e){if(!e)return;this.removeFeatureInternal(e)&&this.changed()}removeFeatureInternal(e){const t=Xn(e);if(!(t in this.uidIndex_))return!1;t in this.nullGeometryFeatures_?delete this.nullGeometryFeatures_[t]:this.featuresRtree_&&this.featuresRtree_.remove(e);const n=this.featureChangeKeys_[t];n?.forEach(bn),delete this.featureChangeKeys_[t];const i=e.getId();if(void 0!==i){const t=i.toString(),n=this.idIndex_[t];n===e?delete this.idIndex_[t]:Array.isArray(n)&&(n.splice(n.indexOf(e),1),1===n.length&&(this.idIndex_[t]=n[0]))}return delete this.uidIndex_[t],this.hasListener(fa)&&this.dispatchEvent(new _a(fa,e)),!0}removeFromIdIndex_(e){for(const t in this.idIndex_)if(this.idIndex_[t]===e){delete this.idIndex_[t];break}}setLoader(e){this.loader_=e}setUrl(e){ai(this.format_,"`format` must be set when `url` is set"),this.url_=e,this.setLoader(Ki(e,this.format_))}setOverlaps(e){this.overlaps_=e,this.changed()}}const xa=0,ba=1,wa="prerender",ka="postrender",Sa="precompose",Ca="postcompose",Ea="rendercomplete",Ta=0,Ra=1,Ma=2,Ia=3,Aa=4,Pa=[NaN,NaN,NaN,0];let Fa;const La=/^rgba?\(\s*(\d+%?)\s+(\d+%?)\s+(\d+%?)(?:\s*\/\s*(\d+%|\d*\.\d+|[01]))?\s*\)$/i,za=/^rgba?\(\s*(\d+)\s*,\s*(\d+)\s*,\s*(\d+)(?:\s*,\s*(\d+%|\d*\.\d+|[01]))?\s*\)$/i,Oa=/^rgba?\(\s*(\d+%)\s*,\s*(\d+%)\s*,\s*(\d+%)(?:\s*,\s*(\d+%|\d*\.\d+|[01]))?\s*\)$/i,Da=/^#([\da-f]{3,4}|[\da-f]{6}|[\da-f]{8})$/i;function ja(e,t){return e.endsWith("%")?Number(e.substring(0,e.length-1))/t:Number(e)}function Na(e){throw new Error('failed to parse "'+e+'" as color')}function $a(e){if(e.toLowerCase().startsWith("rgb")){const t=e.match(za)||e.match(La)||e.match(Oa);if(t){const e=t[4],n=100/255;return[Ji(ja(t[1],n)+.5|0,0,255),Ji(ja(t[2],n)+.5|0,0,255),Ji(ja(t[3],n)+.5|0,0,255),void 0!==e?Ji(ja(e,100),0,1):1]}Na(e)}if(e.startsWith("#")){if(Da.test(e)){const t=e.substring(1),n=t.length<=4?1:2,i=[0,0,0,255];for(let e=0,r=t.length;e<r;e+=n){let r=parseInt(t.substring(e,e+n),16);1===n&&(r+=r<<4),i[e/n]=r}return i[3]=i[3]/255,i}Na(e)}const t=(Fa||(Fa=tn(1,1,void 0,{willReadFrequently:!0,desynchronized:!0})),Fa);t.fillStyle="#abcdef";let n=t.fillStyle;t.fillStyle=e,t.fillStyle===n&&(t.fillStyle="#fedcba",n=t.fillStyle,t.fillStyle=e,t.fillStyle===n&&Na(e));const i=t.fillStyle;if(i.startsWith("#")||i.startsWith("rgba"))return $a(i);t.clearRect(0,0,1,1),t.fillRect(0,0,1,1);const r=Array.from(t.getImageData(0,0,1,1).data);return r[3]=or(r[3]/255,3),r}const Ba={};let Ga=0;function qa(e){if(4===e.length)return e;const t=e.slice();return t[3]=1,t}function Wa(e){return e>.0031308?269.025*Math.pow(e,1/2.4)-14.025:3294.6*e}function Xa(e){return e>.2068965?Math.pow(e,3):108/841*(e-4/29)}function Ua(e){return e>10.314724?Math.pow((e+14.025)/269.025,2.4):e/3294.6}function Ha(e){return e>.0088564?Math.pow(e,1/3):e/(108/841)+4/29}function Va(e){const t=Ua(e[0]),n=Ua(e[1]),i=Ua(e[2]),r=Ha(.222488403*t+.716873169*n+.06060791*i),o=500*(Ha(.452247074*t+.399439023*n+.148375274*i)-r),s=200*(r-Ha(.016863605*t+.117638439*n+.865350722*i)),a=Math.atan2(s,o)*(180/Math.PI);return[116*r-16,Math.sqrt(o*o+s*s),a<0?a+360:a,e[3]]}function Ya(e){if("none"===e)return Pa;if(Ba.hasOwnProperty(e))return Ba[e];if(Ga>=1024){let e=0;for(const t in Ba)3&e++||(delete Ba[t],--Ga)}const t=$a(e);4!==t.length&&Na(e);for(const n of t)isNaN(n)&&Na(e);return Ba[e]=t,++Ga,t}function Za(e){return Array.isArray(e)?e:Ya(e)}function Ka(e){let t=e[0];t!=(0|t)&&(t=t+.5|0);let n=e[1];n!=(0|n)&&(n=n+.5|0);let i=e[2];i!=(0|i)&&(i=i+.5|0);return"rgba("+t+","+n+","+i+","+(void 0===e[3]?1:Math.round(1e3*e[3])/1e3)+")"}class Ja extends Bn{constructor(e,t,n,i){super(),this.extent=e,this.pixelRatio_=n,this.resolution=t,this.state="function"==typeof i?Ta:i,this.image_=null,this.loader="function"==typeof i?i:null}changed(){this.dispatchEvent(an)}getExtent(){return this.extent}getImage(){return this.image_}getPixelRatio(){return this.pixelRatio_}getResolution(){return this.resolution}getState(){return this.state}load(){if(this.state==Ta&&this.loader){this.state=Ra,this.changed();const e=this.getResolution(),t=Array.isArray(e)?e[0]:e;Nn(()=>this.loader(this.getExtent(),t,this.getPixelRatio())).then(e=>{"image"in e&&(this.image_=e.image),"extent"in e&&(this.extent=e.extent),"resolution"in e&&(this.resolution=e.resolution),"pixelRatio"in e&&(this.pixelRatio_=e.pixelRatio),(e instanceof HTMLImageElement||Qt&&e instanceof ImageBitmap||e instanceof HTMLCanvasElement||e instanceof HTMLVideoElement)&&(this.image_=e),this.state=Ma}).catch(e=>{this.state=Ia}).finally(()=>this.changed())}}setImage(e){this.image_=e}setResolution(e){this.resolution=e}}function Qa(e,t){return t&&(e.src=t),e.src&&Jt?new Promise((t,n)=>e.decode().then(()=>t(e)).catch(i=>e.complete&&e.width?t(e):n(i))):function(e){return new Promise((t,n)=>{function i(){o(),t(e)}function r(){o(),n(new Error("Image load error"))}function o(){e.removeEventListener("load",i),e.removeEventListener("error",r)}e.addEventListener("load",i),e.addEventListener("error",r)})}(e)}function el(e,t,n){return t+":"+e+":"+(n?Za(n):"null")}const tl=new class{constructor(){this.cache_={},this.patternCache_={},this.cacheSize_=0,this.maxCacheSize_=1024}clear(){this.cache_={},this.patternCache_={},this.cacheSize_=0}canExpireCache(){return this.cacheSize_>this.maxCacheSize_}expire(){if(this.canExpireCache()){let e=0;for(const t in this.cache_){const n=this.cache_[t];3&e++||n.hasListener()||(delete this.cache_[t],delete this.patternCache_[t],--this.cacheSize_)}}}get(e,t,n){const i=el(e,t,n);return i in this.cache_?this.cache_[i]:null}getPattern(e,t,n){const i=el(e,t,n);return i in this.patternCache_?this.patternCache_[i]:null}set(e,t,n,i,r){const o=el(e,t,n),s=o in this.cache_;this.cache_[o]=i,r&&(i.getImageState()===Ta&&i.load(),i.getImageState()===Ra?i.ready().then(()=>{this.patternCache_[o]=rn().createPattern(i.getImage(1),"repeat")}):this.patternCache_[o]=rn().createPattern(i.getImage(1),"repeat")),s||++this.cacheSize_}setSize(e){this.maxCacheSize_=e,this.expire()}};let nl=null;class il extends Bn{constructor(e,t,n,i,r){super(),this.hitDetectionImage_=null,this.image_=e,this.crossOrigin_=n,this.canvas_={},this.color_=r,this.imageState_=void 0===i?Ta:i,this.size_=e&&e.width&&e.height?[e.width,e.height]:null,this.src_=t,this.tainted_,this.ready_=null}initializeImage_(){this.image_=new Image,null!==this.crossOrigin_&&(this.image_.crossOrigin=this.crossOrigin_)}isTainted_(){if(void 0===this.tainted_&&this.imageState_===Ma){nl||(nl=tn(1,1,void 0,{willReadFrequently:!0})),nl.drawImage(this.image_,0,0);try{nl.getImageData(0,0,1,1),this.tainted_=!1}catch{nl=null,this.tainted_=!0}}return!0===this.tainted_}dispatchChangeEvent_(){this.dispatchEvent(an)}handleImageError_(){this.imageState_=Ia,this.dispatchChangeEvent_()}handleImageLoad_(){this.imageState_=Ma,this.size_=[this.image_.width,this.image_.height],this.dispatchChangeEvent_()}getImage(e){return this.image_||this.initializeImage_(),this.replaceColor_(e),this.canvas_[e]?this.canvas_[e]:this.image_}getPixelRatio(e){return this.replaceColor_(e),this.canvas_[e]?e:1}getImageState(){return this.imageState_}getHitDetectionImage(){if(this.image_||this.initializeImage_(),!this.hitDetectionImage_)if(this.isTainted_()){const e=this.size_[0],t=this.size_[1],n=tn(e,t);n.fillRect(0,0,e,t),this.hitDetectionImage_=n.canvas}else this.hitDetectionImage_=this.image_;return this.hitDetectionImage_}getSize(){return this.size_}getSrc(){return this.src_}load(){if(this.imageState_===Ta){this.image_||this.initializeImage_(),this.imageState_=Ra;try{void 0!==this.src_&&(this.image_.src=this.src_)}catch{this.handleImageError_()}this.image_ instanceof HTMLImageElement&&Qa(this.image_,this.src_).then(e=>{this.image_=e,this.handleImageLoad_()}).catch(this.handleImageError_.bind(this))}}replaceColor_(e){if(!this.color_||this.canvas_[e]||this.imageState_!==Ma)return;const t=this.image_,n=tn(Math.ceil(t.width*e),Math.ceil(t.height*e)),i=n.canvas;var r;n.scale(e,e),n.drawImage(t,0,0),n.globalCompositeOperation="multiply",n.fillStyle="string"==typeof(r=this.color_)?r:Ka(r),n.fillRect(0,0,i.width/e,i.height/e),n.globalCompositeOperation="destination-in",n.drawImage(t,0,0),this.canvas_[e]=i}ready(){return this.ready_||(this.ready_=new Promise(e=>{if(this.imageState_===Ma||this.imageState_===Ia)e();else{const t=()=>{this.imageState_!==Ma&&this.imageState_!==Ia||(this.removeEventListener(an,t),e())};this.addEventListener(an,t)}})),this.ready_}}function rl(e,t,n,i,r,o){let s=void 0===t?void 0:tl.get(t,n,r);return s||(s=new il(e,e&&"src"in e?e.src||void 0:t,n,i,r),tl.set(t,n,r,s,o)),o&&s&&!tl.getPattern(t,n,r)&&tl.set(t,n,r,s,o),s}function ol(e){return e?Array.isArray(e)?Ka(e):"object"==typeof e&&"src"in e?function(e){if(!e.offset||!e.size)return tl.getPattern(e.src,"anonymous",e.color);const t=e.src+":"+e.offset,n=tl.getPattern(t,void 0,e.color);if(n)return n;const i=tl.get(e.src,"anonymous",null);if(i.getImageState()!==Ma)return null;const r=tn(e.size[0],e.size[1]);return r.drawImage(i.getImage(1),e.offset[0],e.offset[1],e.size[0],e.size[1],0,0,e.size[0],e.size[1]),rl(r.canvas,t,void 0,Ma,e.color,!0),tl.getPattern(t,void 0,e.color)}(e):e:null}class sl{drawCustom(e,t,n,i,r){}drawGeometry(e){}setStyle(e){}drawCircle(e,t,n){}drawFeature(e,t,n){}drawGeometryCollection(e,t,n){}drawLineString(e,t,n){}drawMultiLineString(e,t,n){}drawMultiPoint(e,t,n){}drawMultiPolygon(e,t,n){}drawPoint(e,t,n){}drawPolygon(e,t,n){}drawText(e,t,n){}setFillStrokeStyle(e,t){}setImageStyle(e,t){}setTextStyle(e,t){}}const al="10px sans-serif",ll="#000",cl="round",ul=[],hl="round",dl="#000",pl="center",fl="middle",gl=[0,0,0,0],ml=new Hn;let vl,_l=null;const yl={},xl=new Set(["serif","sans-serif","monospace","cursive","fantasy","system-ui","ui-serif","ui-sans-serif","ui-monospace","ui-rounded","emoji","math","fangsong"]);function bl(e,t,n){return`${e} ${t} 16px "${n}"`}const wl=function(){const e=100;let t,n;async function i(e){await n.ready;const t=await n.load(e);if(0===t.length)return!1;const i=Ut(e),r=i.families[0].toLowerCase(),o=i.weight;return t.some(e=>{const t=e.family.replace(/^['"]|['"]$/g,"").toLowerCase(),n=Xt[e.weight]||e.weight;return t===r&&e.style===i.style&&n==o})}async function r(){await n.ready;let o=!0;const s=ml.getProperties(),a=Object.keys(s).filter(t=>s[t]<e);for(let t=a.length-1;t>=0;--t){const n=a[t];let r=s[n];r<e&&(await i(n)?(vn(yl),ml.set(n,e)):(r+=10,ml.set(n,r,!0),r<e&&(o=!1)))}t=void 0,o||(t=setTimeout(r,100))}return async function(e){n||(n=Kt?self.fonts:document.fonts);const i=Ut(e);if(!i)return;const o=i.families;let s=!1;for(const t of o){if(xl.has(t))continue;const e=bl(i.style,i.weight,t);void 0===ml.get(e)&&(ml.set(e,0,!0),s=!0)}s&&(clearTimeout(t),t=setTimeout(r,100))}}(),kl=function(){let e;return function(t){let n=yl[t];if(null==n){if(Kt){const e=Ut(t),i=Sl(t,"Žg");n=(isNaN(Number(e.lineHeight))?1.2:Number(e.lineHeight))*(i.actualBoundingBoxAscent+i.actualBoundingBoxDescent)}else e||(e=document.createElement("div"),e.innerHTML="M",e.style.minHeight="0",e.style.maxHeight="none",e.style.height="auto",e.style.padding="0",e.style.border="none",e.style.position="absolute",e.style.display="block",e.style.left="-99999px"),e.style.font=t,document.body.appendChild(e),n=e.offsetHeight,document.body.removeChild(e);yl[t]=n}return n}}();function Sl(e,t){return _l||(_l=tn(1,1)),e!=vl&&(_l.font=e,vl=_l.font),_l.measureText(t)}function Cl(e,t){return Sl(e,t).width}function El(e,t,n){if(t in n)return n[t];const i=t.split("\n").reduce((t,n)=>Math.max(t,Cl(e,n)),0);return n[t]=i,i}function Tl(e,t,n,i,r,o,s,a,l,c,u){e.save(),1!==n&&(void 0===e.globalAlpha?e.globalAlpha=e=>e.globalAlpha*=n:e.globalAlpha*=n),t&&e.transform.apply(e,t),i.contextInstructions?(e.translate(l,c),e.scale(u[0],u[1]),function(e,t){const n=e.contextInstructions;for(let i=0,r=n.length;i<r;i+=2)Array.isArray(n[i+1])?t[n[i]].apply(t,n[i+1]):t[n[i]]=n[i+1]}(i,e)):u[0]<0||u[1]<0?(e.translate(l,c),e.scale(u[0],u[1]),e.drawImage(i,r,o,s,a,0,0,s,a)):e.drawImage(i,r,o,s,a,l,c,s*u[0],a*u[1]),e.restore()}const Rl=0,Ml=1,Il=2,Al=3,Pl=4,Fl=5,Ll=6,zl=7,Ol=8,Dl=9,jl=10,Nl=11,$l=12,Bl=[Ol],Gl=[$l],ql=[Ml],Wl=[Al];class Xl extends sl{constructor(e,t,n,i){super(),this.tolerance=e,this.maxExtent=t,this.pixelRatio=i,this.maxLineWidth=0,this.resolution=n,this.beginGeometryInstruction1_=null,this.beginGeometryInstruction2_=null,this.bufferedMaxExtent_=null,this.instructions=[],this.coordinates=[],this.tmpCoordinate_=[],this.hitDetectionInstructions=[],this.state={}}applyPixelRatio(e){const t=this.pixelRatio;return 1==t?e:e.map(function(e){return e*t})}appendFlatPointCoordinates(e,t){const n=this.getBufferedMaxExtent(),i=this.tmpCoordinate_,r=this.coordinates;let o=r.length;for(let s=0,a=e.length;s<a;s+=t)i[0]=e[s],i[1]=e[s+1],_i(n,i)&&(r[o++]=i[0],r[o++]=i[1]);return o}appendFlatLineCoordinates(e,t,n,i,r,o){const s=this.coordinates;let a=s.length;const l=this.getBufferedMaxExtent();o&&(t+=i);let c=e[t],u=e[t+1];const h=this.tmpCoordinate_;let d,p,f,g=!0;for(d=t+i;d<n;d+=i)h[0]=e[d],h[1]=e[d+1],f=bi(l,h),f!==p?(g&&(s[a++]=c,s[a++]=u,g=!1),s[a++]=h[0],s[a++]=h[1]):f===ci?(s[a++]=h[0],s[a++]=h[1],g=!1):g=!0,c=h[0],u=h[1],p=f;return(r&&g||d===t+i)&&(s[a++]=c,s[a++]=u),a}drawCustomCoordinates_(e,t,n,i,r){for(let o=0,s=n.length;o<s;++o){const s=n[o],a=this.appendFlatLineCoordinates(e,t,s,i,!1,!1);r.push(a),t=s}return t}drawCustom(e,t,n,i,r){this.beginGeometry(e,t,r);const o=e.getType(),s=e.getStride(),a=this.coordinates.length;let l,c,u,h,d;switch(o){case"MultiPolygon":l=e.getOrientedFlatCoordinates(),h=[];const t=e.getEndss();d=0;for(let e=0,n=t.length;e<n;++e){const n=[];d=this.drawCustomCoordinates_(l,d,t[e],s,n),h.push(n)}this.instructions.push([Pl,a,h,e,n,Rs,r]),this.hitDetectionInstructions.push([Pl,a,h,e,i||n,Rs,r]);break;case"Polygon":case"MultiLineString":u=[],l="Polygon"==o?e.getOrientedFlatCoordinates():e.getFlatCoordinates(),d=this.drawCustomCoordinates_(l,0,e.getEnds(),s,u),this.instructions.push([Pl,a,u,e,n,Ts,r]),this.hitDetectionInstructions.push([Pl,a,u,e,i||n,Ts,r]);break;case"LineString":case"Circle":l=e.getFlatCoordinates(),c=this.appendFlatLineCoordinates(l,0,l.length,s,!1,!1),this.instructions.push([Pl,a,c,e,n,Es,r]),this.hitDetectionInstructions.push([Pl,a,c,e,i||n,Es,r]);break;case"MultiPoint":l=e.getFlatCoordinates(),c=this.appendFlatPointCoordinates(l,s),c>a&&(this.instructions.push([Pl,a,c,e,n,Es,r]),this.hitDetectionInstructions.push([Pl,a,c,e,i||n,Es,r]));break;case"Point":l=e.getFlatCoordinates(),this.coordinates.push(l[0],l[1]),c=this.coordinates.length,this.instructions.push([Pl,a,c,e,n,void 0,r]),this.hitDetectionInstructions.push([Pl,a,c,e,i||n,void 0,r])}this.endGeometry(t)}beginGeometry(e,t,n){this.beginGeometryInstruction1_=[Rl,t,0,e,n],this.instructions.push(this.beginGeometryInstruction1_),this.beginGeometryInstruction2_=[Rl,t,0,e,n],this.hitDetectionInstructions.push(this.beginGeometryInstruction2_)}finish(){return{instructions:this.instructions,hitDetectionInstructions:this.hitDetectionInstructions,coordinates:this.coordinates}}reverseHitDetectionInstructions(){const e=this.hitDetectionInstructions;let t;e.reverse();const n=e.length;let i,r,o=-1;for(t=0;t<n;++t)i=e[t],r=i[0],r==zl?o=t:r==Rl&&(i[2]=t,Pn(this.hitDetectionInstructions,o,t),o=-1)}fillStyleToState(e,t={}){if(e){const n=e.getColor();t.fillPatternScale=n&&"object"==typeof n&&"src"in n?this.pixelRatio:1,t.fillStyle=ol(n||ll)}else t.fillStyle=void 0;return t}strokeStyleToState(e,t={}){if(e){const n=e.getColor();t.strokeStyle=ol(n||dl);const i=e.getLineCap();t.lineCap=void 0!==i?i:cl;const r=e.getLineDash();t.lineDash=r?r.slice():ul;const o=e.getLineDashOffset();t.lineDashOffset=o||0;const s=e.getLineJoin();t.lineJoin=void 0!==s?s:hl;const a=e.getWidth();t.lineWidth=void 0!==a?a:1;const l=e.getMiterLimit();t.miterLimit=void 0!==l?l:10,t.lineWidth>this.maxLineWidth&&(this.maxLineWidth=t.lineWidth,this.bufferedMaxExtent_=null)}else t.strokeStyle=void 0,t.lineCap=void 0,t.lineDash=null,t.lineDashOffset=void 0,t.lineJoin=void 0,t.lineWidth=void 0,t.miterLimit=void 0;return t}setFillStrokeStyle(e,t){const n=this.state;this.fillStyleToState(e,n),this.strokeStyleToState(t,n)}createFill(e){const t=e.fillStyle,n=[jl,t];return"string"!=typeof t&&n.push(e.fillPatternScale),n}applyStroke(e){this.instructions.push(this.createStroke(e))}createStroke(e){return[Nl,e.strokeStyle,e.lineWidth*this.pixelRatio,e.lineCap,e.lineJoin,e.miterLimit,e.lineDash?this.applyPixelRatio(e.lineDash):null,e.lineDashOffset*this.pixelRatio]}updateFillStyle(e,t){const n=e.fillStyle;"string"==typeof n&&e.currentFillStyle==n||(this.instructions.push(t.call(this,e)),e.currentFillStyle=n)}updateStrokeStyle(e,t){const n=e.strokeStyle,i=e.lineCap,r=e.lineDash,o=e.lineDashOffset,s=e.lineJoin,a=e.lineWidth,l=e.miterLimit;(e.currentStrokeStyle!=n||e.currentLineCap!=i||r!=e.currentLineDash&&!Ln(e.currentLineDash,r)||e.currentLineDashOffset!=o||e.currentLineJoin!=s||e.currentLineWidth!=a||e.currentMiterLimit!=l)&&(t.call(this,e),e.currentStrokeStyle=n,e.currentLineCap=i,e.currentLineDash=r,e.currentLineDashOffset=o,e.currentLineJoin=s,e.currentLineWidth=a,e.currentMiterLimit=l)}endGeometry(e){this.beginGeometryInstruction1_[2]=this.instructions.length,this.beginGeometryInstruction1_=null,this.beginGeometryInstruction2_[2]=this.hitDetectionInstructions.length,this.beginGeometryInstruction2_=null;const t=[zl,e];this.instructions.push(t),this.hitDetectionInstructions.push(t)}getBufferedMaxExtent(){if(!this.bufferedMaxExtent_&&(this.bufferedMaxExtent_=mi(this.maxExtent),this.maxLineWidth>0)){const e=this.resolution*(this.maxLineWidth+1)/2;gi(this.bufferedMaxExtent_,e,this.bufferedMaxExtent_)}return this.bufferedMaxExtent_}}class Ul extends Xl{constructor(e,t,n,i){super(e,t,n,i)}drawFlatCoordinatess_(e,t,n,i){const r=this.state,o=void 0!==r.fillStyle,s=void 0!==r.strokeStyle,a=n.length;this.instructions.push(ql),this.hitDetectionInstructions.push(ql);for(let l=0;l<a;++l){const r=n[l],o=this.coordinates.length,a=this.appendFlatLineCoordinates(e,t,r,i,!0,!s),c=[Dl,o,a];this.instructions.push(c),this.hitDetectionInstructions.push(c),s&&(this.instructions.push(Wl),this.hitDetectionInstructions.push(Wl)),t=r}return o&&(this.instructions.push(Bl),this.hitDetectionInstructions.push(Bl)),s&&(this.instructions.push(Gl),this.hitDetectionInstructions.push(Gl)),t}drawCircle(e,t,n){const i=this.state,r=i.fillStyle,o=i.strokeStyle;if(void 0===r&&void 0===o)return;this.setFillStrokeStyles_(),this.beginGeometry(e,t,n),void 0!==i.fillStyle&&this.hitDetectionInstructions.push([jl,ll]),void 0!==i.strokeStyle&&this.hitDetectionInstructions.push([Nl,i.strokeStyle,i.lineWidth,i.lineCap,i.lineJoin,i.miterLimit,ul,0]);const s=e.getFlatCoordinates(),a=e.getStride(),l=this.coordinates.length;this.appendFlatLineCoordinates(s,0,s.length,a,!1,!1);const c=[Il,l];this.instructions.push(ql,c),this.hitDetectionInstructions.push(ql,c),void 0!==i.fillStyle&&(this.instructions.push(Bl),this.hitDetectionInstructions.push(Bl)),void 0!==i.strokeStyle&&(this.instructions.push(Gl),this.hitDetectionInstructions.push(Gl)),this.endGeometry(t)}drawPolygon(e,t,n){const i=this.state,r=i.fillStyle,o=i.strokeStyle;if(void 0===r&&void 0===o)return;this.setFillStrokeStyles_(),this.beginGeometry(e,t,n),void 0!==i.fillStyle&&this.hitDetectionInstructions.push([jl,ll]),void 0!==i.strokeStyle&&this.hitDetectionInstructions.push([Nl,i.strokeStyle,i.lineWidth,i.lineCap,i.lineJoin,i.miterLimit,ul,0]);const s=e.getEnds(),a=e.getOrientedFlatCoordinates(),l=e.getStride();this.drawFlatCoordinatess_(a,0,s,l),this.endGeometry(t)}drawMultiPolygon(e,t,n){const i=this.state,r=i.fillStyle,o=i.strokeStyle;if(void 0===r&&void 0===o)return;this.setFillStrokeStyles_(),this.beginGeometry(e,t,n),void 0!==i.fillStyle&&this.hitDetectionInstructions.push([jl,ll]),void 0!==i.strokeStyle&&this.hitDetectionInstructions.push([Nl,i.strokeStyle,i.lineWidth,i.lineCap,i.lineJoin,i.miterLimit,ul,0]);const s=e.getEndss(),a=e.getOrientedFlatCoordinates(),l=e.getStride();let c=0;for(let u=0,h=s.length;u<h;++u)c=this.drawFlatCoordinatess_(a,c,s[u],l);this.endGeometry(t)}finish(){this.reverseHitDetectionInstructions(),this.state=null;const e=this.tolerance;if(0!==e){const t=this.coordinates;for(let n=0,i=t.length;n<i;++n)t[n]=Ho(t[n],e)}return super.finish()}setFillStrokeStyles_(){const e=this.state;this.updateFillStyle(e,this.createFill),this.updateStrokeStyle(e,this.applyStroke)}}function Hl(e,t,n,i,r){const o=[];let s=n,a=0,l=t.slice(n,2);for(;a<e&&s+r<i;){const[n,i]=l.slice(-2),c=t[s+r],u=t[s+r+1],h=Math.sqrt((c-n)*(c-n)+(u-i)*(u-i));if(a+=h,a>=e){const t=(e-a+h)/h,d=rr(n,c,t),p=rr(i,u,t);l.push(d,p),o.push(l),l=[d,p],a==e&&(s+=r),a=0}else if(a<e)l.push(t[s+r],t[s+r+1]),s+=r;else{const e=h-a,t=rr(n,c,e/h),d=rr(i,u,e/h);l.push(t,d),o.push(l),l=[t,d],a=0,s+=r}}return a>0&&o.push(l),o}function Vl(e,t,n,i,r){let o,s,a,l,c,u,h,d,p,f,g=n,m=n,v=0,_=0,y=n;for(s=n;s<i;s+=r){const n=t[s],i=t[s+1];void 0!==c&&(p=n-c,f=i-u,l=Math.sqrt(p*p+f*f),void 0!==h&&(_+=a,o=Math.acos((h*p+d*f)/(a*l)),o>e&&(_>v&&(v=_,g=y,m=s),_=0,y=s-r)),a=l,h=p,d=f),c=n,u=i}return _+=l,_>v?[y,s]:[g,m]}const Yl={left:0,center:.5,right:1,top:0,middle:.5,hanging:.2,alphabetic:.8,ideographic:.8,bottom:1};const Zl={Circle:Ul,Default:Xl,Image:class extends Xl{constructor(e,t,n,i){super(e,t,n,i),this.hitDetectionImage_=null,this.image_=null,this.imagePixelRatio_=void 0,this.anchorX_=void 0,this.anchorY_=void 0,this.height_=void 0,this.opacity_=void 0,this.originX_=void 0,this.originY_=void 0,this.rotateWithView_=void 0,this.rotation_=void 0,this.scale_=void 0,this.width_=void 0,this.declutterMode_=void 0,this.declutterImageWithText_=void 0}drawPoint(e,t,n){if(!this.image_||this.maxExtent&&!_i(this.maxExtent,e.getFlatCoordinates()))return;this.beginGeometry(e,t,n);const i=e.getFlatCoordinates(),r=e.getStride(),o=this.coordinates.length,s=this.appendFlatPointCoordinates(i,r);this.instructions.push([Ll,o,s,this.image_,this.anchorX_*this.imagePixelRatio_,this.anchorY_*this.imagePixelRatio_,Math.ceil(this.height_*this.imagePixelRatio_),this.opacity_,this.originX_*this.imagePixelRatio_,this.originY_*this.imagePixelRatio_,this.rotateWithView_,this.rotation_,[this.scale_[0]*this.pixelRatio/this.imagePixelRatio_,this.scale_[1]*this.pixelRatio/this.imagePixelRatio_],Math.ceil(this.width_*this.imagePixelRatio_),this.declutterMode_,this.declutterImageWithText_]),this.hitDetectionInstructions.push([Ll,o,s,this.hitDetectionImage_,this.anchorX_,this.anchorY_,this.height_,1,this.originX_,this.originY_,this.rotateWithView_,this.rotation_,this.scale_,this.width_,this.declutterMode_,this.declutterImageWithText_]),this.endGeometry(t)}drawMultiPoint(e,t,n){if(!this.image_)return;this.beginGeometry(e,t,n);const i=e.getFlatCoordinates(),r=[];for(let a=0,l=i.length;a<l;a+=e.getStride())this.maxExtent&&!_i(this.maxExtent,i.slice(a,a+2))||r.push(i[a],i[a+1]);const o=this.coordinates.length,s=this.appendFlatPointCoordinates(r,2);this.instructions.push([Ll,o,s,this.image_,this.anchorX_*this.imagePixelRatio_,this.anchorY_*this.imagePixelRatio_,Math.ceil(this.height_*this.imagePixelRatio_),this.opacity_,this.originX_*this.imagePixelRatio_,this.originY_*this.imagePixelRatio_,this.rotateWithView_,this.rotation_,[this.scale_[0]*this.pixelRatio/this.imagePixelRatio_,this.scale_[1]*this.pixelRatio/this.imagePixelRatio_],Math.ceil(this.width_*this.imagePixelRatio_),this.declutterMode_,this.declutterImageWithText_]),this.hitDetectionInstructions.push([Ll,o,s,this.hitDetectionImage_,this.anchorX_,this.anchorY_,this.height_,1,this.originX_,this.originY_,this.rotateWithView_,this.rotation_,this.scale_,this.width_,this.declutterMode_,this.declutterImageWithText_]),this.endGeometry(t)}finish(){return this.reverseHitDetectionInstructions(),this.anchorX_=void 0,this.anchorY_=void 0,this.hitDetectionImage_=null,this.image_=null,this.imagePixelRatio_=void 0,this.height_=void 0,this.scale_=void 0,this.opacity_=void 0,this.originX_=void 0,this.originY_=void 0,this.rotateWithView_=void 0,this.rotation_=void 0,this.width_=void 0,super.finish()}setImageStyle(e,t){const n=e.getAnchor(),i=e.getSize(),r=e.getOrigin();this.imagePixelRatio_=e.getPixelRatio(this.pixelRatio),this.anchorX_=n[0],this.anchorY_=n[1],this.hitDetectionImage_=e.getHitDetectionImage(),this.image_=e.getImage(this.pixelRatio),this.height_=i[1],this.opacity_=e.getOpacity(),this.originX_=r[0],this.originY_=r[1],this.rotateWithView_=e.getRotateWithView(),this.rotation_=e.getRotation(),this.scale_=e.getScaleArray(),this.width_=i[0],this.declutterMode_=e.getDeclutterMode(),this.declutterImageWithText_=t}},LineString:class extends Xl{constructor(e,t,n,i){super(e,t,n,i)}drawFlatCoordinates_(e,t,n,i){const r=this.coordinates.length,o=this.appendFlatLineCoordinates(e,t,n,i,!1,!1),s=[Dl,r,o];return this.instructions.push(s),this.hitDetectionInstructions.push(s),n}drawLineString(e,t,n){const i=this.state,r=i.strokeStyle,o=i.lineWidth;if(void 0===r||void 0===o)return;this.updateStrokeStyle(i,this.applyStroke),this.beginGeometry(e,t,n),this.hitDetectionInstructions.push([Nl,i.strokeStyle,i.lineWidth,i.lineCap,i.lineJoin,i.miterLimit,ul,0],ql);const s=e.getFlatCoordinates(),a=e.getStride();this.drawFlatCoordinates_(s,0,s.length,a),this.hitDetectionInstructions.push(Gl),this.endGeometry(t)}drawMultiLineString(e,t,n){const i=this.state,r=i.strokeStyle,o=i.lineWidth;if(void 0===r||void 0===o)return;this.updateStrokeStyle(i,this.applyStroke),this.beginGeometry(e,t,n),this.hitDetectionInstructions.push([Nl,i.strokeStyle,i.lineWidth,i.lineCap,i.lineJoin,i.miterLimit,ul,0],ql);const s=e.getEnds(),a=e.getFlatCoordinates(),l=e.getStride();let c=0;for(let u=0,h=s.length;u<h;++u)c=this.drawFlatCoordinates_(a,c,s[u],l);this.hitDetectionInstructions.push(Gl),this.endGeometry(t)}finish(){const e=this.state;return null!=e.lastStroke&&e.lastStroke!=this.coordinates.length&&this.instructions.push(Gl),this.reverseHitDetectionInstructions(),this.state=null,super.finish()}applyStroke(e){null!=e.lastStroke&&e.lastStroke!=this.coordinates.length&&(this.instructions.push(Gl),e.lastStroke=this.coordinates.length),e.lastStroke=0,super.applyStroke(e),this.instructions.push(ql)}},Polygon:Ul,Text:class extends Xl{constructor(e,t,n,i){super(e,t,n,i),this.labels_=null,this.text_="",this.textOffsetX_=0,this.textOffsetY_=0,this.textRotateWithView_=void 0,this.textKeepUpright_=void 0,this.textRotation_=0,this.textFillState_=null,this.fillStates={},this.fillStates[ll]={fillStyle:ll},this.textStrokeState_=null,this.strokeStates={},this.textState_={},this.textStates={},this.textKey_="",this.fillKey_="",this.strokeKey_="",this.declutterMode_=void 0,this.declutterImageWithText_=void 0}finish(){const e=super.finish();return e.textStates=this.textStates,e.fillStates=this.fillStates,e.strokeStates=this.strokeStates,e}drawText(e,t,n){const i=this.textFillState_,r=this.textStrokeState_,o=this.textState_;if(""===this.text_||!o||!i&&!r)return;const s=this.coordinates;let a=s.length;const l=e.getType();let c=null,u=e.getStride();if("line"!==o.placement||"LineString"!=l&&"MultiLineString"!=l&&"Polygon"!=l&&"MultiPolygon"!=l){let i=o.overflow?null:[];switch(l){case"Point":case"MultiPoint":c=e.getFlatCoordinates();break;case"LineString":c=e.getFlatMidpoint();break;case"Circle":c=e.getCenter();break;case"MultiLineString":c=e.getFlatMidpoints(),u=2;break;case"Polygon":c=e.getFlatInteriorPoint(),o.overflow||i.push(c[2]/this.resolution),u=3;break;case"MultiPolygon":const t=e.getFlatInteriorPoints();c=[];for(let e=0,n=t.length;e<n;e+=3)o.overflow||i.push(t[e+2]/this.resolution),c.push(t[e],t[e+1]);if(0===c.length)return;u=2}const r=this.appendFlatPointCoordinates(c,u);if(r===a)return;if(i&&(r-a)/2!==c.length/u){let e=a/2;i=i.filter((t,n)=>{const i=s[2*(e+n)]===c[n*u]&&s[2*(e+n)+1]===c[n*u+1];return i||--e,i})}this.saveTextStates_();const h=o.backgroundFill?this.createFill(this.fillStyleToState(o.backgroundFill)):null,d=o.backgroundStroke?this.createStroke(this.strokeStyleToState(o.backgroundStroke)):null;this.beginGeometry(e,t,n);let p=o.padding;if(p!=gl&&(o.scale[0]<0||o.scale[1]<0)){let e=o.padding[0],t=o.padding[1],n=o.padding[2],i=o.padding[3];o.scale[0]<0&&(t=-t,i=-i),o.scale[1]<0&&(e=-e,n=-n),p=[e,t,n,i]}const f=this.pixelRatio;this.instructions.push([Ll,a,r,null,NaN,NaN,NaN,1,0,0,this.textRotateWithView_,this.textRotation_,[1,1],NaN,this.declutterMode_,this.declutterImageWithText_,p==gl?gl:p.map(function(e){return e*f}),h,d,this.text_,this.textKey_,this.strokeKey_,this.fillKey_,this.textOffsetX_,this.textOffsetY_,i]);const g=1/f,m=h?h.slice(0):null;m&&(m[1]=ll),this.hitDetectionInstructions.push([Ll,a,r,null,NaN,NaN,NaN,1,0,0,this.textRotateWithView_,this.textRotation_,[g,g],NaN,this.declutterMode_,this.declutterImageWithText_,p,m,d,this.text_,this.textKey_,this.strokeKey_,this.fillKey_?ll:this.fillKey_,this.textOffsetX_,this.textOffsetY_,i]),this.endGeometry(t)}else{if(!Xi(this.maxExtent,e.getExtent()))return;let i;if(c=e.getFlatCoordinates(),"LineString"==l)i=[c.length];else if("MultiLineString"==l)i=e.getEnds();else if("Polygon"==l)i=e.getEnds().slice(0,1);else if("MultiPolygon"==l){const t=e.getEndss();i=[];for(let e=0,n=t.length;e<n;++e)i.push(t[e][0])}this.beginGeometry(e,t,n);const r=o.repeat,h=r?void 0:o.textAlign;let d=0;for(let e=0,t=i.length;e<t;++e){let t;t=r?Hl(r*this.resolution,c,d,i[e],u):[c.slice(d,i[e])];for(let n=0,r=t.length;n<r;++n){const r=t[n];let l=0,c=r.length;if(null==h){const e=Vl(o.maxAngle,r,0,r.length,2);l=e[0],c=e[1]}for(let e=l;e<c;e+=u)s.push(r[e],r[e+1]);const p=s.length;d=i[e],this.drawChars_(a,p),a=p}}this.endGeometry(t)}}saveTextStates_(){const e=this.textStrokeState_,t=this.textState_,n=this.textFillState_,i=this.strokeKey_;e&&(i in this.strokeStates||(this.strokeStates[i]={strokeStyle:e.strokeStyle,lineCap:e.lineCap,lineDashOffset:e.lineDashOffset,lineWidth:e.lineWidth,lineJoin:e.lineJoin,miterLimit:e.miterLimit,lineDash:e.lineDash}));const r=this.textKey_;r in this.textStates||(this.textStates[r]={font:t.font,textAlign:t.textAlign||pl,justify:t.justify,textBaseline:t.textBaseline||fl,scale:t.scale});const o=this.fillKey_;n&&(o in this.fillStates||(this.fillStates[o]={fillStyle:n.fillStyle}))}drawChars_(e,t){const n=this.textStrokeState_,i=this.textState_,r=this.strokeKey_,o=this.textKey_,s=this.fillKey_;this.saveTextStates_();const a=this.pixelRatio,l=Yl[i.textBaseline],c=this.textOffsetY_*a,u=this.text_,h=n?n.lineWidth*Math.abs(i.scale[0])/2:0;this.instructions.push([Fl,e,t,l,i.overflow,s,i.maxAngle,a,c,r,h*a,u,o,1,this.declutterMode_,this.textKeepUpright_]),this.hitDetectionInstructions.push([Fl,e,t,l,i.overflow,s?ll:s,i.maxAngle,a,c,r,h*a,u,o,1/a,this.declutterMode_,this.textKeepUpright_])}setTextStyle(e,t){let n,i,r;if(e){const t=e.getFill();t?(i=this.textFillState_,i||(i={},this.textFillState_=i),i.fillStyle=ol(t.getColor()||ll)):(i=null,this.textFillState_=i);const o=e.getStroke();if(o){r=this.textStrokeState_,r||(r={},this.textStrokeState_=r);const e=o.getLineDash(),t=o.getLineDashOffset(),n=o.getWidth(),i=o.getMiterLimit();r.lineCap=o.getLineCap()||cl,r.lineDash=e?e.slice():ul,r.lineDashOffset=void 0===t?0:t,r.lineJoin=o.getLineJoin()||hl,r.lineWidth=void 0===n?1:n,r.miterLimit=void 0===i?10:i,r.strokeStyle=ol(o.getColor()||dl)}else r=null,this.textStrokeState_=r;n=this.textState_;const s=e.getFont()||al;wl(s);const a=e.getScaleArray();n.overflow=e.getOverflow(),n.font=s,n.maxAngle=e.getMaxAngle(),n.placement=e.getPlacement(),n.textAlign=e.getTextAlign(),n.repeat=e.getRepeat(),n.justify=e.getJustify(),n.textBaseline=e.getTextBaseline()||fl,n.backgroundFill=e.getBackgroundFill(),n.backgroundStroke=e.getBackgroundStroke(),n.padding=e.getPadding()||gl,n.scale=void 0===a?[1,1]:a;const l=e.getOffsetX(),c=e.getOffsetY(),u=e.getRotateWithView(),h=e.getKeepUpright(),d=e.getRotation();this.text_=e.getText()||"",this.textOffsetX_=void 0===l?0:l,this.textOffsetY_=void 0===c?0:c,this.textRotateWithView_=void 0!==u&&u,this.textKeepUpright_=void 0===h||h,this.textRotation_=void 0===d?0:d,this.strokeKey_=r?("string"==typeof r.strokeStyle?r.strokeStyle:Xn(r.strokeStyle))+r.lineCap+r.lineDashOffset+"|"+r.lineWidth+r.lineJoin+r.miterLimit+"["+r.lineDash.join()+"]":"",this.textKey_=n.font+n.scale+(n.textAlign||"?")+(n.repeat||"?")+(n.justify||"?")+(n.textBaseline||"?"),this.fillKey_=i&&i.fillStyle?"string"==typeof i.fillStyle?i.fillStyle:"|"+Xn(i.fillStyle):""}else this.text_="";this.declutterMode_=e.getDeclutterMode(),this.declutterImageWithText_=t}}};class Kl{constructor(e,t,n,i){this.tolerance_=e,this.maxExtent_=t,this.pixelRatio_=i,this.resolution_=n,this.buildersByZIndex_={}}finish(){const e={};for(const t in this.buildersByZIndex_){e[t]=e[t]||{};const n=this.buildersByZIndex_[t];for(const i in n){const r=n[i].finish();e[t][i]=r}}return e}getBuilder(e,t){const n=void 0!==e?e.toString():"0";let i=this.buildersByZIndex_[n];void 0===i&&(i={},this.buildersByZIndex_[n]=i);let r=i[t];if(void 0===r){r=new(0,Zl[t])(this.tolerance_,this.maxExtent_,this.resolution_,this.pixelRatio_),i[t]=r}return r}}function Jl(e,t,n,i,r,o,s,a,l,c,u,h,d=!0){let p=e[t],f=e[t+1],g=0,m=0,v=0,_=0;function y(){g=p,m=f,p=e[t+=i],f=e[t+1],_+=v,v=Math.sqrt((p-g)*(p-g)+(f-m)*(f-m))}do{y()}while(t<n-i&&_+v<o);let x=0===v?0:(o-_)/v;const b=rr(g,p,x),w=rr(m,f,x),k=t-i,S=_,C=o+a*l(c,r,u);for(;t<n-i&&_+v<C;)y();x=0===v?0:(C-_)/v;const E=rr(g,p,x),T=rr(m,f,x);let R=!1;if(d)if(h){const e=[b,w,E,T];Ko(e,0,4,2,h,e,e),R=e[0]>e[2]}else R=b>E;const M=Math.PI,I=[],A=k+i===t;let P;if(v=0,_=S,p=e[t=k],f=e[t+1],A){y(),P=Math.atan2(f-m,p-g),R&&(P+=P>0?-M:M);const e=(E+b)/2,t=(T+w)/2;return I[0]=[e,t,(C-o)/2,P,r],I}for(let F=0,L=(r=r.replace(/\n/g," ")).length;F<L;){y();let e=Math.atan2(f-m,p-g);if(R&&(e+=e>0?-M:M),void 0!==P){let t=e-P;if(t+=t>M?-2*M:t<-M?2*M:0,Math.abs(t)>s)return null}P=e;const h=F;let d=0;for(;F<L;++F){const e=a*l(c,r[R?L-F-1:F],u);if(t+i<n&&_+v<o+d+e/2)break;d+=e}if(F===h)continue;const b=R?r.substring(L-h,L-F):r.substring(h,F);x=0===v?0:(o+d/2-_)/v;const w=rr(g,p,x),k=rr(m,f,x);I.push([w,k,d/2,e,b]),o+=d}return I}class Ql{constructor(){this.instructions_=[],this.zIndex=0,this.offset_=0,this.context_=new Proxy(rn(),{get:(e,t)=>{if("function"==typeof rn()[t])return this.push_(t),this.pushMethodArgs_},set:(e,t,n)=>(this.push_(t,n),!0)})}push_(...e){const t=this.instructions_,n=this.zIndex+this.offset_;t[n]||(t[n]=[]),t[n].push(...e)}pushMethodArgs_=(...e)=>(this.push_(e),this);pushFunction(e){this.push_(e)}getContext(){return this.context_}draw(e){this.instructions_.forEach(t=>{for(let n=0,i=t.length;n<i;++n){const i=t[n];if("function"==typeof i){i(e);continue}const r=t[++n];if("function"==typeof e[i])e[i](...r);else{if("function"==typeof r){e[i]=r(e);continue}e[i]=r}}})}clear(){this.instructions_.length=0,this.zIndex=0,this.offset_=0}offset(){this.offset_=this.instructions_.length,this.zIndex=0}}const ec=[1/0,1/0,-1/0,-1/0],tc=[],nc=[],ic=[],rc=[];function oc(e){return e[3].declutterBox}const sc=new RegExp("["+String.fromCharCode(1425)+"-"+String.fromCharCode(2303)+String.fromCharCode(64285)+"-"+String.fromCharCode(65023)+String.fromCharCode(65136)+"-"+String.fromCharCode(65276)+String.fromCharCode(67584)+"-"+String.fromCharCode(69631)+String.fromCharCode(124928)+"-"+String.fromCharCode(126975)+"]");function ac(e,t){return"start"===t?t=sc.test(e)?"right":"left":"end"===t&&(t=sc.test(e)?"left":"right"),Yl[t]}function lc(e,t,n){return n>0&&e.push("\n",""),e.push(t,""),e}function cc(e,t,n){return n%2==0&&(e+=t),e}class uc{constructor(e,t,n,i,r){this.overlaps=n,this.pixelRatio=t,this.resolution=e,this.alignAndScaleFill_,this.instructions=i.instructions,this.coordinates=i.coordinates,this.coordinateCache_={},this.renderedTransform_=[1,0,0,1,0,0],this.hitDetectionInstructions=i.hitDetectionInstructions,this.pixelCoordinates_=null,this.viewRotation_=0,this.fillStates=i.fillStates||{},this.strokeStates=i.strokeStates||{},this.textStates=i.textStates||{},this.widths_={},this.labels_={},this.zIndexContext_=r?new Ql:null}getZIndexContext(){return this.zIndexContext_}createLabel(e,t,n,i){const r=e+t+n+i;if(this.labels_[r])return this.labels_[r];const o=i?this.strokeStates[i]:null,s=n?this.fillStates[n]:null,a=this.textStates[t],l=this.pixelRatio,c=[a.scale[0]*l,a.scale[1]*l],u=a.justify?Yl[a.justify]:ac(Array.isArray(e)?e[0]:e,a.textAlign||pl),h=i&&o.lineWidth?o.lineWidth:0,d=Array.isArray(e)?e:String(e).split("\n").reduce(lc,[]),{width:p,height:f,widths:g,heights:m,lineWidths:v}=function(e,t){const n=[],i=[],r=[];let o=0,s=0,a=0,l=0;for(let c=0,u=t.length;c<=u;c+=2){const h=t[c];if("\n"===h||c===u){o=Math.max(o,s),r.push(s),s=0,a+=l,l=0;continue}const d=t[c+1]||e.font,p=Cl(d,h);n.push(p),s+=p;const f=kl(d);i.push(f),l=Math.max(l,f)}return{width:o,height:a,widths:n,heights:i,lineWidths:r}}(a,d),_=p+h,y=[],x=(_+2)*c[0],b=(f+h)*c[1],w={width:x<0?Math.floor(x):Math.ceil(x),height:b<0?Math.floor(b):Math.ceil(b),contextInstructions:y};1==c[0]&&1==c[1]||y.push("scale",c),i&&(y.push("strokeStyle",o.strokeStyle),y.push("lineWidth",h),y.push("lineCap",o.lineCap),y.push("lineJoin",o.lineJoin),y.push("miterLimit",o.miterLimit),y.push("setLineDash",[o.lineDash]),y.push("lineDashOffset",o.lineDashOffset)),n&&y.push("fillStyle",s.fillStyle),y.push("textBaseline","middle"),y.push("textAlign","center");const k=.5-u;let S=u*_+k*h;const C=[],E=[];let T,R=0,M=0,I=0,A=0;for(let P=0,F=d.length;P<F;P+=2){const e=d[P];if("\n"===e){M+=R,R=0,S=u*_+k*h,++A;continue}const t=d[P+1]||a.font;t!==T&&(i&&C.push("font",t),n&&E.push("font",t),T=t),R=Math.max(R,m[I]);const r=[e,S+k*g[I]+u*(g[I]-v[A]),.5*(h+R)+M];S+=g[I],i&&C.push("strokeText",r),n&&E.push("fillText",r),++I}return Array.prototype.push.apply(y,C),Array.prototype.push.apply(y,E),this.labels_[r]=w,w}replayTextBackground_(e,t,n,i,r,o,s){e.beginPath(),e.moveTo.apply(e,t),e.lineTo.apply(e,n),e.lineTo.apply(e,i),e.lineTo.apply(e,r),e.lineTo.apply(e,t),o&&(this.alignAndScaleFill_=o[2],e.fillStyle=o[1],this.fill_(e)),s&&(this.setStrokeStyle_(e,s),e.stroke())}calculateImageOrLabelDimensions_(e,t,n,i,r,o,s,a,l,c,u,h,d,p,f,g){let m=n-(s*=h[0]),v=i-(a*=h[1]);const _=r+l>e?e-l:r,y=o+c>t?t-c:o,x=p[3]+_*h[0]+p[1],b=p[0]+y*h[1]+p[2],w=m-p[3],k=v-p[0];let S;return(f||0!==u)&&(tc[0]=w,rc[0]=w,tc[1]=k,nc[1]=k,nc[0]=w+x,ic[0]=nc[0],ic[1]=k+b,rc[1]=ic[1]),0!==u?(S=rs([1,0,0,1,0,0],n,i,1,1,u,-n,-i),ns(S,tc),ns(S,nc),ns(S,ic),ns(S,rc),ki(Math.min(tc[0],nc[0],ic[0],rc[0]),Math.min(tc[1],nc[1],ic[1],rc[1]),Math.max(tc[0],nc[0],ic[0],rc[0]),Math.max(tc[1],nc[1],ic[1],rc[1]),ec)):ki(Math.min(w,w+x),Math.min(k,k+b),Math.max(w,w+x),Math.max(k,k+b),ec),d&&(m=Math.round(m),v=Math.round(v)),{drawImageX:m,drawImageY:v,drawImageW:_,drawImageH:y,originX:l,originY:c,declutterBox:{minX:ec[0],minY:ec[1],maxX:ec[2],maxY:ec[3],value:g},canvasTransform:S,scale:h}}replayImageOrLabel_(e,t,n,i,r,o,s){const a=!(!o&&!s),l=i.declutterBox,c=s?s[2]*i.scale[0]/2:0;return l.minX-c<=t[0]&&l.maxX+c>=0&&l.minY-c<=t[1]&&l.maxY+c>=0&&(a&&this.replayTextBackground_(e,tc,nc,ic,rc,o,s),Tl(e,i.canvasTransform,r,n,i.originX,i.originY,i.drawImageW,i.drawImageH,i.drawImageX,i.drawImageY,i.scale)),!0}fill_(e){const t=this.alignAndScaleFill_;if(t){const n=ns(this.renderedTransform_,[0,0]),i=512*this.pixelRatio;e.save(),e.translate(n[0]%i,n[1]%i),1!==t&&e.scale(t,t),e.rotate(this.viewRotation_)}e.fill(),t&&e.restore()}setStrokeStyle_(e,t){e.strokeStyle=t[1],t[1]&&(e.lineWidth=t[2],e.lineCap=t[3],e.lineJoin=t[4],e.miterLimit=t[5],e.lineDashOffset=t[7],e.setLineDash(t[6]))}drawLabelWithPointPlacement_(e,t,n,i){const r=this.textStates[t],o=this.createLabel(e,t,i,n),s=this.strokeStates[n],a=this.pixelRatio,l=ac(Array.isArray(e)?e[0]:e,r.textAlign||pl),c=Yl[r.textBaseline||fl],u=s&&s.lineWidth?s.lineWidth:0;return{label:o,anchorX:l*(o.width/a-2*r.scale[0])+2*(.5-l)*u,anchorY:c*o.height/a+2*(.5-c)*u}}execute_(e,t,n,i,r,o,s,a){const l=this.zIndexContext_;let c;this.pixelCoordinates_&&Ln(n,this.renderedTransform_)?c=this.pixelCoordinates_:(this.pixelCoordinates_||(this.pixelCoordinates_=[]),c=Zo(this.coordinates,0,this.coordinates.length,2,n,this.pixelCoordinates_),function(e,t){e[0]=t[0],e[1]=t[1],e[2]=t[2],e[3]=t[3],e[4]=t[4],e[5]=t[5]}(this.renderedTransform_,n));let u=0;const h=i.length;let d,p,f,g,m,v,_,y,x,b,w,k,S,C=0,E=0,T=0;const R=this.coordinateCache_,M=this.viewRotation_,I=Math.round(1e12*Math.atan2(-n[1],n[0]))/1e12,A={context:e,pixelRatio:this.pixelRatio,resolution:this.resolution,rotation:M},P=this.instructions!=i||this.overlaps?0:200;let F,L,z,O;for(;u<h;){const n=i[u];switch(n[0]){case Rl:F=n[1],O=n[3],F.getGeometry()?void 0===s||Xi(s,O.getExtent())?++u:u=n[2]+1:u=n[2],l&&(l.zIndex=n[4]);break;case Ml:E>P&&(this.fill_(e),E=0),T>P&&(e.stroke(),T=0),E||T||(e.beginPath(),m=NaN,v=NaN),++u;break;case Il:C=n[1];const i=c[C],h=c[C+1],D=c[C+2]-i,j=c[C+3]-h,N=Math.sqrt(D*D+j*j);e.moveTo(i+N,h),e.arc(i,h,N,0,2*Math.PI,!0),++u;break;case Al:e.closePath(),++u;break;case Pl:C=n[1],d=n[2];const $=n[3],B=n[4],G=n[5];A.geometry=$,A.feature=F,u in R||(R[u]=[]);const q=R[u];G?G(c,C,d,2,q):(q[0]=c[C],q[1]=c[C+1],q.length=2),l&&(l.zIndex=n[6]),B(q,A),++u;break;case Ll:C=n[1],d=n[2],x=n[3],p=n[4],f=n[5];let W=n[6];const X=n[7],U=n[8],H=n[9],V=n[10];let Y=n[11];const Z=n[12];let K=n[13];g=n[14]||"declutter";const J=n[15];if(!x&&n.length>=20){b=n[19],w=n[20],k=n[21],S=n[22];const e=this.drawLabelWithPointPlacement_(b,w,k,S);x=e.label,n[3]=x;const t=n[23];p=(e.anchorX-t)*this.pixelRatio,n[4]=p;const i=n[24];f=(e.anchorY-i)*this.pixelRatio,n[5]=f,W=x.height,n[6]=W,K=x.width,n[13]=K}let Q,ee,te,ne;n.length>25&&(Q=n[25]),n.length>17?(ee=n[16],te=n[17],ne=n[18]):(ee=gl,te=null,ne=null),V&&I?Y+=M:V||I||(Y-=M);let ie=0;for(;C<d;C+=2){if(Q&&Q[ie++]<K/this.pixelRatio)continue;const n=this.calculateImageOrLabelDimensions_(x.width,x.height,c[C],c[C+1],K,W,p,f,U,H,Y,Z,r,ee,!!te||!!ne,F),i=[e,t,x,n,X,te,ne];if(a){let e,t,r,o,s;if(J){const n=d-C;if(!J[n]){J[n]={args:i,declutterMode:g};continue}const o=J[n];e=o.args,t=o.declutterMode,delete J[n],r=oc(e)}if(!e||"declutter"===t&&a.collides(r)||(o=!0),"declutter"===g&&a.collides(n.declutterBox)||(s=!0),"declutter"===t&&"declutter"===g){const e=o&&s;o=e,s=e}o&&("none"!==t&&a.insert(r),this.replayImageOrLabel_.apply(this,e)),s&&("none"!==g&&a.insert(n.declutterBox),this.replayImageOrLabel_.apply(this,i))}else this.replayImageOrLabel_.apply(this,i)}++u;break;case Fl:const re=n[1],oe=n[2],se=n[3],ae=n[4];S=n[5];const le=n[6],ce=n[7],ue=n[8];k=n[9];const he=n[10];b=n[11],Array.isArray(b)&&(b=b.reduce(cc,"")),w=n[12];const de=[n[13],n[13]];g=n[14]||"declutter";const pe=n[15],fe=this.textStates[w],ge=fe.font,me=[fe.scale[0]*ce,fe.scale[1]*ce];let ve;ge in this.widths_?ve=this.widths_[ge]:(ve={},this.widths_[ge]=ve);const _e=Ls(c,re,oe,2),ye=Math.abs(me[0])*El(ge,b,ve);if(ae||ye<=_e){const n=Jl(c,re,oe,2,b,(_e-ye)*ac(b,this.textStates[w].textAlign),le,Math.abs(me[0]),El,ge,ve,I?0:this.viewRotation_,pe);e:if(n){const i=[];let r,o,s,l,c;if(k)for(r=0,o=n.length;r<o;++r){c=n[r],s=c[4],l=this.createLabel(s,w,"",k),p=c[2]+(me[0]<0?-he:he),f=se*l.height+2*(.5-se)*he*me[1]/me[0]-ue;const o=this.calculateImageOrLabelDimensions_(l.width,l.height,c[0],c[1],l.width,l.height,p,f,0,0,c[3],de,!1,gl,!1,F);if(a&&"declutter"===g&&a.collides(o.declutterBox))break e;i.push([e,t,l,o,1,null,null])}if(S)for(r=0,o=n.length;r<o;++r){c=n[r],s=c[4],l=this.createLabel(s,w,S,""),p=c[2],f=se*l.height-ue;const o=this.calculateImageOrLabelDimensions_(l.width,l.height,c[0],c[1],l.width,l.height,p,f,0,0,c[3],de,!1,gl,!1,F);if(a&&"declutter"===g&&a.collides(o.declutterBox))break e;i.push([e,t,l,o,1,null,null])}a&&"none"!==g&&a.load(i.map(oc));for(let e=0,t=i.length;e<t;++e)this.replayImageOrLabel_.apply(this,i[e])}}++u;break;case zl:if(void 0!==o){F=n[1];const e=o(F,O,g);if(e)return e}++u;break;case Ol:P?E++:this.fill_(e),++u;break;case Dl:for(C=n[1],d=n[2],L=c[C],z=c[C+1],e.moveTo(L,z),m=L+.5|0,v=z+.5|0,C+=2;C<d;C+=2)L=c[C],z=c[C+1],_=L+.5|0,y=z+.5|0,C!=d-2&&_===m&&y===v||(e.lineTo(L,z),m=_,v=y);++u;break;case jl:this.alignAndScaleFill_=n[2],E&&(this.fill_(e),E=0,T&&(e.stroke(),T=0)),e.fillStyle=n[1],++u;break;case Nl:T&&(e.stroke(),T=0),this.setStrokeStyle_(e,n),++u;break;case $l:P?T++:e.stroke(),++u;break;default:++u}}E&&this.fill_(e),T&&e.stroke()}execute(e,t,n,i,r,o){this.viewRotation_=i,this.execute_(e,t,n,this.instructions,r,void 0,void 0,o)}executeHitDetection(e,t,n,i,r){return this.viewRotation_=n,this.execute_(e,[e.canvas.width,e.canvas.height],t,this.hitDetectionInstructions,!0,i,r)}}const hc=["Polygon","Circle","LineString","Image","Text","Default"],dc=["Image","Text"],pc=hc.filter(e=>!dc.includes(e));class fc{constructor(e,t,n,i,r,o,s){this.maxExtent_=e,this.overlaps_=i,this.pixelRatio_=n,this.resolution_=t,this.renderBuffer_=o,this.executorsByZIndex_={},this.hitDetectionContext_=null,this.hitDetectionTransform_=[1,0,0,1,0,0],this.renderedContext_=null,this.deferredZIndexContexts_={},this.createExecutors_(r,s)}clip(e,t){const n=this.getClipCoords(t);e.beginPath(),e.moveTo(n[0],n[1]),e.lineTo(n[2],n[3]),e.lineTo(n[4],n[5]),e.lineTo(n[6],n[7]),e.clip()}createExecutors_(e,t){for(const n in e){let i=this.executorsByZIndex_[n];void 0===i&&(i={},this.executorsByZIndex_[n]=i);const r=e[n];for(const e in r){const n=r[e];i[e]=new uc(this.resolution_,this.pixelRatio_,this.overlaps_,n,t)}}}hasExecutors(e){for(const t in this.executorsByZIndex_){const n=this.executorsByZIndex_[t];for(let t=0,i=e.length;t<i;++t)if(e[t]in n)return!0}return!1}forEachFeatureAtCoordinate(e,t,n,i,r,o){const s=2*(i=Math.round(i))+1,a=rs(this.hitDetectionTransform_,i+.5,i+.5,1/t,-1/t,-n,-e[0],-e[1]),l=!this.hitDetectionContext_;l&&(this.hitDetectionContext_=tn(s,s));const c=this.hitDetectionContext_;let u;c.canvas.width!==s||c.canvas.height!==s?(c.canvas.width=s,c.canvas.height=s):l||c.clearRect(0,0,s,s),void 0!==this.renderBuffer_&&(u=[1/0,1/0,-1/0,-1/0],Mi(u,e),gi(u,t*(this.renderBuffer_+i),u));const h=function(e){if(void 0!==gc[e])return gc[e];const t=2*e+1,n=e*e,i=new Array(n+1);for(let o=0;o<=e;++o)for(let r=0;r<=e;++r){const s=o*o+r*r;if(s>n)break;let a=i[s];a||(a=[],i[s]=a),a.push(4*((e+o)*t+(e+r))+3),o>0&&a.push(4*((e-o)*t+(e+r))+3),r>0&&(a.push(4*((e+o)*t+(e-r))+3),o>0&&a.push(4*((e-o)*t+(e-r))+3))}const r=[];for(let o=0,s=i.length;o<s;++o)i[o]&&r.push(...i[o]);return gc[e]=r,r}(i);let d;function p(e,t,n){const a=c.getImageData(0,0,s,s).data;for(let l=0,u=h.length;l<u;l++)if(a[h[l]]>0){if(!o||"none"===n||"Image"!==d&&"Text"!==d||o.includes(e)){const n=(h[l]-3)/4,o=i-n%s,a=i-(n/s|0),c=r(e,t,o*o+a*a);if(c)return c}c.clearRect(0,0,s,s);break}}const f=Object.keys(this.executorsByZIndex_).map(Number);let g,m,v,_,y;for(f.sort(Mn),g=f.length-1;g>=0;--g){const e=f[g].toString();for(v=this.executorsByZIndex_[e],m=hc.length-1;m>=0;--m)if(d=hc[m],_=v[d],void 0!==_&&(y=_.executeHitDetection(c,a,n,p,u),y))return y}}getClipCoords(e){const t=this.maxExtent_;if(!t)return null;const n=t[0],i=t[1],r=t[2],o=t[3],s=[n,i,n,o,r,o,r,i];return Zo(s,0,8,2,e,s),s}isEmpty(){return _n(this.executorsByZIndex_)}execute(e,t,n,i,r,o,s){const a=Object.keys(this.executorsByZIndex_).map(Number);a.sort(s?In:Mn),o=o||hc;const l=hc.length;for(let c=0,u=a.length;c<u;++c){const u=a[c].toString(),h=this.executorsByZIndex_[u];for(let d=0,p=o.length;d<p;++d){const u=o[d],p=h[u];if(void 0!==p){const o=null===s?void 0:p.getZIndexContext(),h=o?o.getContext():e,d=this.maxExtent_&&"Image"!==u&&"Text"!==u;if(d&&(h.save(),this.clip(h,n)),o&&"Text"!==u&&"Image"!==u?o.pushFunction(e=>p.execute(e,t,n,i,r,s)):p.execute(h,t,n,i,r,s),d&&h.restore(),o){o.offset();const e=a[c]*l+hc.indexOf(u);this.deferredZIndexContexts_[e]||(this.deferredZIndexContexts_[e]=[]),this.deferredZIndexContexts_[e].push(o)}}}}this.renderedContext_=e}getDeferredZIndexContexts(){return this.deferredZIndexContexts_}getRenderedContext(){return this.renderedContext_}renderDeferred(){const e=this.deferredZIndexContexts_,t=Object.keys(e).map(Number).sort(Mn);for(let n=0,i=t.length;n<i;++n)e[t[n]].forEach(e=>{e.draw(this.renderedContext_),e.clear()}),e[t[n]].length=0}}const gc={};function mc(e){return e[0]>0&&e[1]>0}function vc(e,t){return Array.isArray(e)?e:(void 0===t?t=[e,e]:(t[0]=e,t[1]=e),t)}class _c{constructor(e){this.opacity_=e.opacity,this.rotateWithView_=e.rotateWithView,this.rotation_=e.rotation,this.scale_=e.scale,this.scaleArray_=vc(e.scale),this.displacement_=e.displacement,this.declutterMode_=e.declutterMode}clone(){const e=this.getScale();return new _c({opacity:this.getOpacity(),scale:Array.isArray(e)?e.slice():e,rotation:this.getRotation(),rotateWithView:this.getRotateWithView(),displacement:this.getDisplacement().slice(),declutterMode:this.getDeclutterMode()})}getOpacity(){return this.opacity_}getRotateWithView(){return this.rotateWithView_}getRotation(){return this.rotation_}getScale(){return this.scale_}getScaleArray(){return this.scaleArray_}getDisplacement(){return this.displacement_}getDeclutterMode(){return this.declutterMode_}getAnchor(){return qn()}getImage(e){return qn()}getHitDetectionImage(){return qn()}getPixelRatio(e){return 1}getImageState(){return qn()}getImageSize(){return qn()}getOrigin(){return qn()}getSize(){return qn()}setDisplacement(e){this.displacement_=e}setOpacity(e){this.opacity_=e}setRotateWithView(e){this.rotateWithView_=e}setRotation(e){this.rotation_=e}setScale(e){this.scale_=e,this.scaleArray_=vc(e)}listenImageChange(e){qn()}load(){qn()}unlistenImageChange(e){qn()}ready(){return Promise.resolve()}}class yc extends _c{constructor(e){super({opacity:1,rotateWithView:void 0!==e.rotateWithView&&e.rotateWithView,rotation:void 0!==e.rotation?e.rotation:0,scale:void 0!==e.scale?e.scale:1,displacement:void 0!==e.displacement?e.displacement:[0,0],declutterMode:e.declutterMode}),this.hitDetectionCanvas_=null,this.fill_=void 0!==e.fill?e.fill:null,this.origin_=[0,0],this.points_=e.points,this.radius=e.radius,this.radius2_=e.radius2,this.angle_=void 0!==e.angle?e.angle:0,this.stroke_=void 0!==e.stroke?e.stroke:null,this.size_,this.renderOptions_,this.imageState_=this.fill_&&this.fill_.loading()?Ra:Ma,this.imageState_===Ra&&this.ready().then(()=>this.imageState_=Ma),this.render()}clone(){const e=this.getScale(),t=new yc({fill:this.getFill()?this.getFill().clone():void 0,points:this.getPoints(),radius:this.getRadius(),radius2:this.getRadius2(),angle:this.getAngle(),stroke:this.getStroke()?this.getStroke().clone():void 0,rotation:this.getRotation(),rotateWithView:this.getRotateWithView(),scale:Array.isArray(e)?e.slice():e,displacement:this.getDisplacement().slice(),declutterMode:this.getDeclutterMode()});return t.setOpacity(this.getOpacity()),t}getAnchor(){const e=this.size_,t=this.getDisplacement(),n=this.getScaleArray();return[e[0]/2-t[0]/n[0],e[1]/2+t[1]/n[1]]}getAngle(){return this.angle_}getFill(){return this.fill_}setFill(e){this.fill_=e,this.render()}getHitDetectionImage(){return this.hitDetectionCanvas_||(this.hitDetectionCanvas_=this.createHitDetectionCanvas_(this.renderOptions_)),this.hitDetectionCanvas_}getImage(e){const t=this.fill_?.getKey(),n=`${e},${this.angle_},${this.radius},${this.radius2_},${this.points_},${t}`+Object.values(this.renderOptions_).join(",");let i=tl.get(n,null,null)?.getImage(1);if(!i){const t=this.renderOptions_,r=Math.ceil(t.size*e),o=tn(r,r);this.draw_(t,o,e),i=o.canvas,tl.set(n,null,null,new il(i,void 0,null,Ma,null))}return i}getPixelRatio(e){return e}getImageSize(){return this.size_}getImageState(){return this.imageState_}getOrigin(){return this.origin_}getPoints(){return this.points_}getRadius(){return this.radius}getRadius2(){return this.radius2_}getSize(){return this.size_}getStroke(){return this.stroke_}setStroke(e){this.stroke_=e,this.render()}listenImageChange(e){}load(){}unlistenImageChange(e){}calculateLineJoinSize_(e,t,n){if(0===t||this.points_===1/0||"bevel"!==e&&"miter"!==e)return t;let i=this.radius,r=void 0===this.radius2_?i:this.radius2_;if(i<r){const e=i;i=r,r=e}const o=void 0===this.radius2_?this.points_:2*this.points_,s=2*Math.PI/o,a=r*Math.sin(s),l=i-Math.sqrt(r*r-a*a),c=Math.sqrt(a*a+l*l),u=c/a;if("miter"===e&&u<=n)return u*t;const h=t/2/u,d=t/2*(l/c),p=Math.sqrt((i+h)*(i+h)+d*d)-i;if(void 0===this.radius2_||"bevel"===e)return 2*p;const f=i*Math.sin(s),g=r-Math.sqrt(i*i-f*f),m=Math.sqrt(f*f+g*g)/f;if(m<=n){const e=m*t/2-r-i;return 2*Math.max(p,e)}return 2*p}createRenderOptions(){let e,t=cl,n=hl,i=0,r=null,o=0,s=0;this.stroke_&&(e=ol(this.stroke_.getColor()??dl),s=this.stroke_.getWidth()??1,r=this.stroke_.getLineDash(),o=this.stroke_.getLineDashOffset()??0,n=this.stroke_.getLineJoin()??hl,t=this.stroke_.getLineCap()??cl,i=this.stroke_.getMiterLimit()??10);const a=this.calculateLineJoinSize_(n,s,i),l=Math.max(this.radius,this.radius2_||0);return{strokeStyle:e,strokeWidth:s,size:Math.ceil(2*l+a),lineCap:t,lineDash:r,lineDashOffset:o,lineJoin:n,miterLimit:i}}render(){this.renderOptions_=this.createRenderOptions();const e=this.renderOptions_.size;this.hitDetectionCanvas_=null,this.size_=[e,e]}draw_(e,t,n){if(t.scale(n,n),t.translate(e.size/2,e.size/2),this.createPath_(t),this.fill_){let e=this.fill_.getColor();null===e&&(e=ll),t.fillStyle=ol(e),t.fill()}e.strokeStyle&&(t.strokeStyle=e.strokeStyle,t.lineWidth=e.strokeWidth,e.lineDash&&(t.setLineDash(e.lineDash),t.lineDashOffset=e.lineDashOffset),t.lineCap=e.lineCap,t.lineJoin=e.lineJoin,t.miterLimit=e.miterLimit,t.stroke())}createHitDetectionCanvas_(e){let t;if(this.fill_){let n=this.fill_.getColor(),i=0;"string"==typeof n&&(n=Za(n)),null===n?i=1:Array.isArray(n)&&(i=4===n.length?n[3]:1),0===i&&(t=tn(e.size,e.size),this.drawHitDetectionCanvas_(e,t))}return t?t.canvas:this.getImage(1)}createPath_(e){let t=this.points_;const n=this.radius;if(t===1/0)e.arc(0,0,n,0,2*Math.PI);else{const i=void 0===this.radius2_?n:this.radius2_;void 0!==this.radius2_&&(t*=2);const r=this.angle_-Math.PI/2,o=2*Math.PI/t;for(let s=0;s<t;s++){const t=r+s*o,a=s%2==0?n:i;e.lineTo(a*Math.cos(t),a*Math.sin(t))}e.closePath()}}drawHitDetectionCanvas_(e,t){t.translate(e.size/2,e.size/2),this.createPath_(t),t.fillStyle=ll,t.fill(),e.strokeStyle&&(t.strokeStyle=e.strokeStyle,t.lineWidth=e.strokeWidth,e.lineDash&&(t.setLineDash(e.lineDash),t.lineDashOffset=e.lineDashOffset),t.lineJoin=e.lineJoin,t.miterLimit=e.miterLimit,t.stroke())}ready(){return this.fill_?this.fill_.ready():Promise.resolve()}}class xc extends yc{constructor(e){super({points:1/0,fill:(e=e||{radius:5}).fill,radius:e.radius,stroke:e.stroke,scale:void 0!==e.scale?e.scale:1,rotation:void 0!==e.rotation?e.rotation:0,rotateWithView:void 0!==e.rotateWithView&&e.rotateWithView,displacement:void 0!==e.displacement?e.displacement:[0,0],declutterMode:e.declutterMode})}clone(){const e=this.getScale(),t=new xc({fill:this.getFill()?this.getFill().clone():void 0,stroke:this.getStroke()?this.getStroke().clone():void 0,radius:this.getRadius(),scale:Array.isArray(e)?e.slice():e,rotation:this.getRotation(),rotateWithView:this.getRotateWithView(),displacement:this.getDisplacement().slice(),declutterMode:this.getDeclutterMode()});return t.setOpacity(this.getOpacity()),t}setRadius(e){this.radius=e,this.render()}}class bc{constructor(e){e=e||{},this.patternImage_=null,this.color_=null,void 0!==e.color&&this.setColor(e.color)}clone(){const e=this.getColor();return new bc({color:Array.isArray(e)?e.slice():e||void 0})}getColor(){return this.color_}setColor(e){if(null!==e&&"object"==typeof e&&"src"in e){const t=rl(null,e.src,"anonymous",void 0,e.offset?null:e.color?e.color:null,!(e.offset&&e.size));t.ready().then(()=>{this.patternImage_=null}),t.getImageState()===Ta&&t.load(),t.getImageState()===Ra&&(this.patternImage_=t)}this.color_=e}getKey(){const e=this.getColor();return e?e instanceof CanvasPattern||e instanceof CanvasGradient?Xn(e):"object"==typeof e&&"src"in e?e.src+":"+e.offset:Za(e).toString():""}loading(){return!!this.patternImage_}ready(){return this.patternImage_?this.patternImage_.ready():Promise.resolve()}}function wc(e,t,n,i){return void 0!==n&&void 0!==i?[n/e,i/t]:void 0!==n?n/e:void 0!==i?i/t:1}class kc extends _c{constructor(e){const t=void 0!==(e=e||{}).opacity?e.opacity:1,n=void 0!==e.rotation?e.rotation:0,i=void 0!==e.scale?e.scale:1,r=void 0!==e.rotateWithView&&e.rotateWithView;super({opacity:t,rotation:n,scale:i,displacement:void 0!==e.displacement?e.displacement:[0,0],rotateWithView:r,declutterMode:e.declutterMode}),this.anchor_=void 0!==e.anchor?e.anchor:[.5,.5],this.normalizedAnchor_=null,this.anchorOrigin_=void 0!==e.anchorOrigin?e.anchorOrigin:"top-left",this.anchorXUnits_=void 0!==e.anchorXUnits?e.anchorXUnits:"fraction",this.anchorYUnits_=void 0!==e.anchorYUnits?e.anchorYUnits:"fraction",this.crossOrigin_=void 0!==e.crossOrigin?e.crossOrigin:null;const o=void 0!==e.img?e.img:null;let s,a=e.src;if(ai(!(void 0!==a&&o),"`image` and `src` cannot be provided at the same time"),void 0!==a&&0!==a.length||!o||(a=o.src||Xn(o)),ai(void 0!==a&&a.length>0,"A defined and non-empty `src` or `image` must be provided"),ai(!((void 0!==e.width||void 0!==e.height)&&void 0!==e.scale),"`width` or `height` cannot be provided together with `scale`"),void 0!==e.src?s=Ta:void 0!==o&&(s="complete"in o?o.complete?o.src?Ma:Ta:Ra:Ma),this.color_=void 0!==e.color?Za(e.color):null,this.iconImage_=rl(o,a,this.crossOrigin_,s,this.color_),this.offset_=void 0!==e.offset?e.offset:[0,0],this.offsetOrigin_=void 0!==e.offsetOrigin?e.offsetOrigin:"top-left",this.origin_=null,this.size_=void 0!==e.size?e.size:null,this.initialOptions_,void 0!==e.width||void 0!==e.height){let t,n;if(e.size)[t,n]=e.size;else{const i=this.getImage(1);if(i.width&&i.height)t=i.width,n=i.height;else if(i instanceof HTMLImageElement){this.initialOptions_=e;const t=()=>{if(this.unlistenImageChange(t),!this.initialOptions_)return;const n=this.iconImage_.getSize();this.setScale(wc(n[0],n[1],e.width,e.height))};return void this.listenImageChange(t)}}void 0!==t&&this.setScale(wc(t,n,e.width,e.height))}}clone(){let e,t,n;return this.initialOptions_?(t=this.initialOptions_.width,n=this.initialOptions_.height):(e=this.getScale(),e=Array.isArray(e)?e.slice():e),new kc({anchor:this.anchor_.slice(),anchorOrigin:this.anchorOrigin_,anchorXUnits:this.anchorXUnits_,anchorYUnits:this.anchorYUnits_,color:this.color_&&this.color_.slice?this.color_.slice():this.color_||void 0,crossOrigin:this.crossOrigin_,offset:this.offset_.slice(),offsetOrigin:this.offsetOrigin_,opacity:this.getOpacity(),rotateWithView:this.getRotateWithView(),rotation:this.getRotation(),scale:e,width:t,height:n,size:null!==this.size_?this.size_.slice():void 0,src:this.getSrc(),displacement:this.getDisplacement().slice(),declutterMode:this.getDeclutterMode()})}getAnchor(){let e=this.normalizedAnchor_;if(!e){e=this.anchor_;const t=this.getSize();if("fraction"==this.anchorXUnits_||"fraction"==this.anchorYUnits_){if(!t)return null;e=this.anchor_.slice(),"fraction"==this.anchorXUnits_&&(e[0]*=t[0]),"fraction"==this.anchorYUnits_&&(e[1]*=t[1])}if("top-left"!=this.anchorOrigin_){if(!t)return null;e===this.anchor_&&(e=this.anchor_.slice()),"top-right"!=this.anchorOrigin_&&"bottom-right"!=this.anchorOrigin_||(e[0]=-e[0]+t[0]),"bottom-left"!=this.anchorOrigin_&&"bottom-right"!=this.anchorOrigin_||(e[1]=-e[1]+t[1])}this.normalizedAnchor_=e}const t=this.getDisplacement(),n=this.getScaleArray();return[e[0]-t[0]/n[0],e[1]+t[1]/n[1]]}setAnchor(e){this.anchor_=e,this.normalizedAnchor_=null}getColor(){return this.color_}getImage(e){return this.iconImage_.getImage(e)}getPixelRatio(e){return this.iconImage_.getPixelRatio(e)}getImageSize(){return this.iconImage_.getSize()}getImageState(){return this.iconImage_.getImageState()}getHitDetectionImage(){return this.iconImage_.getHitDetectionImage()}getOrigin(){if(this.origin_)return this.origin_;let e=this.offset_;if("top-left"!=this.offsetOrigin_){const t=this.getSize(),n=this.iconImage_.getSize();if(!t||!n)return null;e=e.slice(),"top-right"!=this.offsetOrigin_&&"bottom-right"!=this.offsetOrigin_||(e[0]=n[0]-t[0]-e[0]),"bottom-left"!=this.offsetOrigin_&&"bottom-right"!=this.offsetOrigin_||(e[1]=n[1]-t[1]-e[1])}return this.origin_=e,this.origin_}getSrc(){return this.iconImage_.getSrc()}getSize(){return this.size_?this.size_:this.iconImage_.getSize()}getWidth(){const e=this.getScaleArray();return this.size_?this.size_[0]*e[0]:this.iconImage_.getImageState()==Ma?this.iconImage_.getSize()[0]*e[0]:void 0}getHeight(){const e=this.getScaleArray();return this.size_?this.size_[1]*e[1]:this.iconImage_.getImageState()==Ma?this.iconImage_.getSize()[1]*e[1]:void 0}setScale(e){delete this.initialOptions_,super.setScale(e)}listenImageChange(e){this.iconImage_.addEventListener(an,e)}load(){this.iconImage_.load()}unlistenImageChange(e){this.iconImage_.removeEventListener(an,e)}ready(){return this.iconImage_.ready()}}class Sc{constructor(e){e=e||{},this.color_=void 0!==e.color?e.color:null,this.lineCap_=e.lineCap,this.lineDash_=void 0!==e.lineDash?e.lineDash:null,this.lineDashOffset_=e.lineDashOffset,this.lineJoin_=e.lineJoin,this.miterLimit_=e.miterLimit,this.width_=e.width}clone(){const e=this.getColor();return new Sc({color:Array.isArray(e)?e.slice():e||void 0,lineCap:this.getLineCap(),lineDash:this.getLineDash()?this.getLineDash().slice():void 0,lineDashOffset:this.getLineDashOffset(),lineJoin:this.getLineJoin(),miterLimit:this.getMiterLimit(),width:this.getWidth()})}getColor(){return this.color_}getLineCap(){return this.lineCap_}getLineDash(){return this.lineDash_}getLineDashOffset(){return this.lineDashOffset_}getLineJoin(){return this.lineJoin_}getMiterLimit(){return this.miterLimit_}getWidth(){return this.width_}setColor(e){this.color_=e}setLineCap(e){this.lineCap_=e}setLineDash(e){this.lineDash_=e}setLineDashOffset(e){this.lineDashOffset_=e}setLineJoin(e){this.lineJoin_=e}setMiterLimit(e){this.miterLimit_=e}setWidth(e){this.width_=e}}class Cc{constructor(e){e=e||{},this.geometry_=null,this.geometryFunction_=Rc,void 0!==e.geometry&&this.setGeometry(e.geometry),this.fill_=void 0!==e.fill?e.fill:null,this.image_=void 0!==e.image?e.image:null,this.renderer_=void 0!==e.renderer?e.renderer:null,this.hitDetectionRenderer_=void 0!==e.hitDetectionRenderer?e.hitDetectionRenderer:null,this.stroke_=void 0!==e.stroke?e.stroke:null,this.text_=void 0!==e.text?e.text:null,this.zIndex_=e.zIndex}clone(){let e=this.getGeometry();return e&&"object"==typeof e&&(e=e.clone()),new Cc({geometry:e??void 0,fill:this.getFill()?this.getFill().clone():void 0,image:this.getImage()?this.getImage().clone():void 0,renderer:this.getRenderer()??void 0,stroke:this.getStroke()?this.getStroke().clone():void 0,text:this.getText()?this.getText().clone():void 0,zIndex:this.getZIndex()})}getRenderer(){return this.renderer_}setRenderer(e){this.renderer_=e}setHitDetectionRenderer(e){this.hitDetectionRenderer_=e}getHitDetectionRenderer(){return this.hitDetectionRenderer_}getGeometry(){return this.geometry_}getGeometryFunction(){return this.geometryFunction_}getFill(){return this.fill_}setFill(e){this.fill_=e}getImage(){return this.image_}setImage(e){this.image_=e}getStroke(){return this.stroke_}setStroke(e){this.stroke_=e}getText(){return this.text_}setText(e){this.text_=e}getZIndex(){return this.zIndex_}setGeometry(e){"function"==typeof e?this.geometryFunction_=e:"string"==typeof e?this.geometryFunction_=function(t){return t.get(e)}:e?void 0!==e&&(this.geometryFunction_=function(){return e}):this.geometryFunction_=Rc,this.geometry_=e}setZIndex(e){this.zIndex_=e}}let Ec=null;function Tc(e,t){if(!Ec){const e=new bc({color:"rgba(255,255,255,0.4)"}),t=new Sc({color:"#3399CC",width:1.25});Ec=[new Cc({image:new xc({fill:e,stroke:t,radius:5}),fill:e,stroke:t})]}return Ec}function Rc(e){return e.getGeometry()}class Mc{constructor(e){e=e||{},this.font_=e.font,this.rotation_=e.rotation,this.rotateWithView_=e.rotateWithView,this.keepUpright_=e.keepUpright,this.scale_=e.scale,this.scaleArray_=vc(void 0!==e.scale?e.scale:1),this.text_=e.text,this.textAlign_=e.textAlign,this.justify_=e.justify,this.repeat_=e.repeat,this.textBaseline_=e.textBaseline,this.fill_=void 0!==e.fill?e.fill:new bc({color:"#333"}),this.maxAngle_=void 0!==e.maxAngle?e.maxAngle:Math.PI/4,this.placement_=void 0!==e.placement?e.placement:"point",this.overflow_=!!e.overflow,this.stroke_=void 0!==e.stroke?e.stroke:null,this.offsetX_=void 0!==e.offsetX?e.offsetX:0,this.offsetY_=void 0!==e.offsetY?e.offsetY:0,this.backgroundFill_=e.backgroundFill?e.backgroundFill:null,this.backgroundStroke_=e.backgroundStroke?e.backgroundStroke:null,this.padding_=void 0===e.padding?null:e.padding,this.declutterMode_=e.declutterMode}clone(){const e=this.getScale();return new Mc({font:this.getFont(),placement:this.getPlacement(),repeat:this.getRepeat(),maxAngle:this.getMaxAngle(),overflow:this.getOverflow(),rotation:this.getRotation(),rotateWithView:this.getRotateWithView(),keepUpright:this.getKeepUpright(),scale:Array.isArray(e)?e.slice():e,text:this.getText(),textAlign:this.getTextAlign(),justify:this.getJustify(),textBaseline:this.getTextBaseline(),fill:this.getFill()?this.getFill().clone():void 0,stroke:this.getStroke()?this.getStroke().clone():void 0,offsetX:this.getOffsetX(),offsetY:this.getOffsetY(),backgroundFill:this.getBackgroundFill()?this.getBackgroundFill().clone():void 0,backgroundStroke:this.getBackgroundStroke()?this.getBackgroundStroke().clone():void 0,padding:this.getPadding()||void 0,declutterMode:this.getDeclutterMode()})}getOverflow(){return this.overflow_}getFont(){return this.font_}getMaxAngle(){return this.maxAngle_}getPlacement(){return this.placement_}getRepeat(){return this.repeat_}getOffsetX(){return this.offsetX_}getOffsetY(){return this.offsetY_}getFill(){return this.fill_}getRotateWithView(){return this.rotateWithView_}getKeepUpright(){return this.keepUpright_}getRotation(){return this.rotation_}getScale(){return this.scale_}getScaleArray(){return this.scaleArray_}getStroke(){return this.stroke_}getText(){return this.text_}getTextAlign(){return this.textAlign_}getJustify(){return this.justify_}getTextBaseline(){return this.textBaseline_}getBackgroundFill(){return this.backgroundFill_}getBackgroundStroke(){return this.backgroundStroke_}getPadding(){return this.padding_}getDeclutterMode(){return this.declutterMode_}setOverflow(e){this.overflow_=e}setFont(e){this.font_=e}setMaxAngle(e){this.maxAngle_=e}setOffsetX(e){this.offsetX_=e}setOffsetY(e){this.offsetY_=e}setPlacement(e){this.placement_=e}setRepeat(e){this.repeat_=e}setRotateWithView(e){this.rotateWithView_=e}setKeepUpright(e){this.keepUpright_=e}setFill(e){this.fill_=e}setRotation(e){this.rotation_=e}setScale(e){this.scale_=e,this.scaleArray_=vc(void 0!==e?e:1)}setStroke(e){this.stroke_=e}setText(e){this.text_=e}setTextAlign(e){this.textAlign_=e}setJustify(e){this.justify_=e}setTextBaseline(e){this.textBaseline_=e}setBackgroundFill(e){this.backgroundFill_=e}setBackgroundStroke(e){this.backgroundStroke_=e}setPadding(e){this.padding_=e}}class Ic extends sl{constructor(e,t,n,i,r,o,s){super(),this.context_=e,this.pixelRatio_=t,this.extent_=n,this.transform_=i,this.transformRotation_=i?or(Math.atan2(i[1],i[0]),10):0,this.viewRotation_=r,this.squaredTolerance_=o,this.userTransform_=s,this.contextFillState_=null,this.contextStrokeState_=null,this.contextTextState_=null,this.fillState_=null,this.strokeState_=null,this.image_=null,this.imageAnchorX_=0,this.imageAnchorY_=0,this.imageHeight_=0,this.imageOpacity_=0,this.imageOriginX_=0,this.imageOriginY_=0,this.imageRotateWithView_=!1,this.imageRotation_=0,this.imageScale_=[0,0],this.imageWidth_=0,this.text_="",this.textOffsetX_=0,this.textOffsetY_=0,this.textRotateWithView_=!1,this.textRotation_=0,this.textScale_=[0,0],this.textFillState_=null,this.textStrokeState_=null,this.textState_=null,this.pixelCoordinates_=[],this.tmpLocalTransform_=[1,0,0,1,0,0]}drawImages_(e,t,n,i){if(!this.image_)return;const r=Zo(e,t,n,i,this.transform_,this.pixelCoordinates_),o=this.context_,s=this.tmpLocalTransform_,a=o.globalAlpha;1!=this.imageOpacity_&&(o.globalAlpha=a*this.imageOpacity_);let l=this.imageRotation_;0===this.transformRotation_&&(l-=this.viewRotation_),this.imageRotateWithView_&&(l+=this.viewRotation_);for(let c=0,u=r.length;c<u;c+=2){const e=r[c]-this.imageAnchorX_,t=r[c+1]-this.imageAnchorY_;if(0!==l||1!=this.imageScale_[0]||1!=this.imageScale_[1]){const n=e+this.imageAnchorX_,i=t+this.imageAnchorY_;rs(s,n,i,1,1,l,-n,-i),o.save(),o.transform.apply(o,s),o.translate(n,i),o.scale(this.imageScale_[0],this.imageScale_[1]),o.drawImage(this.image_,this.imageOriginX_,this.imageOriginY_,this.imageWidth_,this.imageHeight_,-this.imageAnchorX_,-this.imageAnchorY_,this.imageWidth_,this.imageHeight_),o.restore()}else o.drawImage(this.image_,this.imageOriginX_,this.imageOriginY_,this.imageWidth_,this.imageHeight_,e,t,this.imageWidth_,this.imageHeight_)}1!=this.imageOpacity_&&(o.globalAlpha=a)}drawText_(e,t,n,i){if(!this.textState_||""===this.text_)return;this.textFillState_&&this.setContextFillState_(this.textFillState_),this.textStrokeState_&&this.setContextStrokeState_(this.textStrokeState_),this.setContextTextState_(this.textState_);const r=Zo(e,t,n,i,this.transform_,this.pixelCoordinates_),o=this.context_;let s=this.textRotation_;for(0===this.transformRotation_&&(s-=this.viewRotation_),this.textRotateWithView_&&(s+=this.viewRotation_);t<n;t+=i){const e=r[t]+this.textOffsetX_,n=r[t+1]+this.textOffsetY_;0!==s||1!=this.textScale_[0]||1!=this.textScale_[1]?(o.save(),o.translate(e-this.textOffsetX_,n-this.textOffsetY_),o.rotate(s),o.translate(this.textOffsetX_,this.textOffsetY_),o.scale(this.textScale_[0],this.textScale_[1]),this.textStrokeState_&&o.strokeText(this.text_,0,0),this.textFillState_&&o.fillText(this.text_,0,0),o.restore()):(this.textStrokeState_&&o.strokeText(this.text_,e,n),this.textFillState_&&o.fillText(this.text_,e,n))}}moveToLineTo_(e,t,n,i,r){const o=this.context_,s=Zo(e,t,n,i,this.transform_,this.pixelCoordinates_);o.moveTo(s[0],s[1]);let a=s.length;r&&(a-=2);for(let l=2;l<a;l+=2)o.lineTo(s[l],s[l+1]);return r&&o.closePath(),n}drawRings_(e,t,n,i){for(let r=0,o=n.length;r<o;++r)t=this.moveToLineTo_(e,t,n[r],i,!0);return t}drawCircle(e){if(this.squaredTolerance_&&(e=e.simplifyTransformed(this.squaredTolerance_,this.userTransform_)),Xi(this.extent_,e.getExtent())){if(this.fillState_||this.strokeState_){this.fillState_&&this.setContextFillState_(this.fillState_),this.strokeState_&&this.setContextStrokeState_(this.strokeState_);const t=function(e,t,n){const i=e.getFlatCoordinates();if(!i)return null;const r=e.getStride();return Zo(i,0,i.length,r,t,n)}(e,this.transform_,this.pixelCoordinates_),n=t[2]-t[0],i=t[3]-t[1],r=Math.sqrt(n*n+i*i),o=this.context_;o.beginPath(),o.arc(t[0],t[1],r,0,2*Math.PI),this.fillState_&&o.fill(),this.strokeState_&&o.stroke()}""!==this.text_&&this.drawText_(e.getCenter(),0,2,2)}}setStyle(e){this.setFillStrokeStyle(e.getFill(),e.getStroke()),this.setImageStyle(e.getImage()),this.setTextStyle(e.getText())}setTransform(e){this.transform_=e}drawGeometry(e){switch(e.getType()){case"Point":this.drawPoint(e);break;case"LineString":this.drawLineString(e);break;case"Polygon":this.drawPolygon(e);break;case"MultiPoint":this.drawMultiPoint(e);break;case"MultiLineString":this.drawMultiLineString(e);break;case"MultiPolygon":this.drawMultiPolygon(e);break;case"GeometryCollection":this.drawGeometryCollection(e);break;case"Circle":this.drawCircle(e)}}drawFeature(e,t){const n=t.getGeometryFunction()(e);n&&(this.setStyle(t),this.drawGeometry(n))}drawGeometryCollection(e){const t=e.getGeometriesArray();for(let n=0,i=t.length;n<i;++n)this.drawGeometry(t[n])}drawPoint(e){this.squaredTolerance_&&(e=e.simplifyTransformed(this.squaredTolerance_,this.userTransform_));const t=e.getFlatCoordinates(),n=e.getStride();this.image_&&this.drawImages_(t,0,t.length,n),""!==this.text_&&this.drawText_(t,0,t.length,n)}drawMultiPoint(e){this.squaredTolerance_&&(e=e.simplifyTransformed(this.squaredTolerance_,this.userTransform_));const t=e.getFlatCoordinates(),n=e.getStride();this.image_&&this.drawImages_(t,0,t.length,n),""!==this.text_&&this.drawText_(t,0,t.length,n)}drawLineString(e){if(this.squaredTolerance_&&(e=e.simplifyTransformed(this.squaredTolerance_,this.userTransform_)),Xi(this.extent_,e.getExtent())){if(this.strokeState_){this.setContextStrokeState_(this.strokeState_);const t=this.context_,n=e.getFlatCoordinates();t.beginPath(),this.moveToLineTo_(n,0,n.length,e.getStride(),!1),t.stroke()}if(""!==this.text_){const t=e.getFlatMidpoint();this.drawText_(t,0,2,2)}}}drawMultiLineString(e){this.squaredTolerance_&&(e=e.simplifyTransformed(this.squaredTolerance_,this.userTransform_));const t=e.getExtent();if(Xi(this.extent_,t)){if(this.strokeState_){this.setContextStrokeState_(this.strokeState_);const t=this.context_,n=e.getFlatCoordinates();let i=0;const r=e.getEnds(),o=e.getStride();t.beginPath();for(let e=0,s=r.length;e<s;++e)i=this.moveToLineTo_(n,i,r[e],o,!1);t.stroke()}if(""!==this.text_){const t=e.getFlatMidpoints();this.drawText_(t,0,t.length,2)}}}drawPolygon(e){if(this.squaredTolerance_&&(e=e.simplifyTransformed(this.squaredTolerance_,this.userTransform_)),Xi(this.extent_,e.getExtent())){if(this.strokeState_||this.fillState_){this.fillState_&&this.setContextFillState_(this.fillState_),this.strokeState_&&this.setContextStrokeState_(this.strokeState_);const t=this.context_;t.beginPath(),this.drawRings_(e.getOrientedFlatCoordinates(),0,e.getEnds(),e.getStride()),this.fillState_&&t.fill(),this.strokeState_&&t.stroke()}if(""!==this.text_){const t=e.getFlatInteriorPoint();this.drawText_(t,0,2,2)}}}drawMultiPolygon(e){if(this.squaredTolerance_&&(e=e.simplifyTransformed(this.squaredTolerance_,this.userTransform_)),Xi(this.extent_,e.getExtent())){if(this.strokeState_||this.fillState_){this.fillState_&&this.setContextFillState_(this.fillState_),this.strokeState_&&this.setContextStrokeState_(this.strokeState_);const t=this.context_,n=e.getOrientedFlatCoordinates();let i=0;const r=e.getEndss(),o=e.getStride();t.beginPath();for(let e=0,s=r.length;e<s;++e){const t=r[e];i=this.drawRings_(n,i,t,o)}this.fillState_&&t.fill(),this.strokeState_&&t.stroke()}if(""!==this.text_){const t=e.getFlatInteriorPoints();this.drawText_(t,0,t.length,2)}}}setContextFillState_(e){const t=this.context_,n=this.contextFillState_;n?n.fillStyle!=e.fillStyle&&(n.fillStyle=e.fillStyle,t.fillStyle=e.fillStyle):(t.fillStyle=e.fillStyle,this.contextFillState_={fillStyle:e.fillStyle})}setContextStrokeState_(e){const t=this.context_,n=this.contextStrokeState_;n?(n.lineCap!=e.lineCap&&(n.lineCap=e.lineCap,t.lineCap=e.lineCap),Ln(n.lineDash,e.lineDash)||t.setLineDash(n.lineDash=e.lineDash),n.lineDashOffset!=e.lineDashOffset&&(n.lineDashOffset=e.lineDashOffset,t.lineDashOffset=e.lineDashOffset),n.lineJoin!=e.lineJoin&&(n.lineJoin=e.lineJoin,t.lineJoin=e.lineJoin),n.lineWidth!=e.lineWidth&&(n.lineWidth=e.lineWidth,t.lineWidth=e.lineWidth),n.miterLimit!=e.miterLimit&&(n.miterLimit=e.miterLimit,t.miterLimit=e.miterLimit),n.strokeStyle!=e.strokeStyle&&(n.strokeStyle=e.strokeStyle,t.strokeStyle=e.strokeStyle)):(t.lineCap=e.lineCap,t.setLineDash(e.lineDash),t.lineDashOffset=e.lineDashOffset,t.lineJoin=e.lineJoin,t.lineWidth=e.lineWidth,t.miterLimit=e.miterLimit,t.strokeStyle=e.strokeStyle,this.contextStrokeState_={lineCap:e.lineCap,lineDash:e.lineDash,lineDashOffset:e.lineDashOffset,lineJoin:e.lineJoin,lineWidth:e.lineWidth,miterLimit:e.miterLimit,strokeStyle:e.strokeStyle})}setContextTextState_(e){const t=this.context_,n=this.contextTextState_,i=e.textAlign?e.textAlign:pl;n?(n.font!=e.font&&(n.font=e.font,t.font=e.font),n.textAlign!=i&&(n.textAlign=i,t.textAlign=i),n.textBaseline!=e.textBaseline&&(n.textBaseline=e.textBaseline,t.textBaseline=e.textBaseline)):(t.font=e.font,t.textAlign=i,t.textBaseline=e.textBaseline,this.contextTextState_={font:e.font,textAlign:i,textBaseline:e.textBaseline})}setFillStrokeStyle(e,t){if(e){const t=e.getColor();this.fillState_={fillStyle:ol(t||ll)}}else this.fillState_=null;if(t){const e=t.getColor(),n=t.getLineCap(),i=t.getLineDash(),r=t.getLineDashOffset(),o=t.getLineJoin(),s=t.getWidth(),a=t.getMiterLimit(),l=i||ul;this.strokeState_={lineCap:void 0!==n?n:cl,lineDash:1===this.pixelRatio_?l:l.map(e=>e*this.pixelRatio_),lineDashOffset:(r||0)*this.pixelRatio_,lineJoin:void 0!==o?o:hl,lineWidth:(void 0!==s?s:1)*this.pixelRatio_,miterLimit:void 0!==a?a:10,strokeStyle:ol(e||dl)}}else this.strokeState_=null}setImageStyle(e){let t;if(!e||!(t=e.getSize()))return void(this.image_=null);const n=e.getPixelRatio(this.pixelRatio_),i=e.getAnchor(),r=e.getOrigin();this.image_=e.getImage(this.pixelRatio_),this.imageAnchorX_=i[0]*n,this.imageAnchorY_=i[1]*n,this.imageHeight_=t[1]*n,this.imageOpacity_=e.getOpacity(),this.imageOriginX_=r[0],this.imageOriginY_=r[1],this.imageRotateWithView_=e.getRotateWithView(),this.imageRotation_=e.getRotation();const o=e.getScaleArray();this.imageScale_=[o[0]*this.pixelRatio_/n,o[1]*this.pixelRatio_/n],this.imageWidth_=t[0]*n}setTextStyle(e){if(e){const t=e.getFill();if(t){const e=t.getColor();this.textFillState_={fillStyle:ol(e||ll)}}else this.textFillState_=null;const n=e.getStroke();if(n){const e=n.getColor(),t=n.getLineCap(),i=n.getLineDash(),r=n.getLineDashOffset(),o=n.getLineJoin(),s=n.getWidth(),a=n.getMiterLimit();this.textStrokeState_={lineCap:void 0!==t?t:cl,lineDash:i||ul,lineDashOffset:r||0,lineJoin:void 0!==o?o:hl,lineWidth:void 0!==s?s:1,miterLimit:void 0!==a?a:10,strokeStyle:ol(e||dl)}}else this.textStrokeState_=null;const i=e.getFont(),r=e.getOffsetX(),o=e.getOffsetY(),s=e.getRotateWithView(),a=e.getRotation(),l=e.getScaleArray(),c=e.getText(),u=e.getTextAlign(),h=e.getTextBaseline();this.textState_={font:void 0!==i?i:al,textAlign:void 0!==u?u:pl,textBaseline:void 0!==h?h:fl},this.text_=void 0!==c?Array.isArray(c)?c.reduce((e,t,n)=>e+(n%2?" ":t),""):c:"",this.textOffsetX_=void 0!==r?this.pixelRatio_*r:0,this.textOffsetY_=void 0!==o?this.pixelRatio_*o:0,this.textRotateWithView_=void 0!==s&&s,this.textRotation_=void 0!==a?a:0,this.textScale_=[this.pixelRatio_*l[0],this.pixelRatio_*l[1]]}else this.text_=""}}const Ac=.5;function Pc(e,t,n,i,r,o,s,a,l){const c=l?wo(r):r,u=tn(e[0]*Ac,e[1]*Ac);u.imageSmoothingEnabled=!1;const h=u.canvas,d=new Ic(u,Ac,r,null,s,a,l?mo(null,l):null),p=n.length,f=Math.floor(16777215/p),g={};for(let v=1;v<=p;++v){const e=n[v-1],t=e.getStyleFunction()||i;if(!t)continue;let r=t(e,o);if(!r)continue;Array.isArray(r)||(r=[r]);const s=(v*f).toString(16).padStart(7,"#00000");for(let n=0,i=r.length;n<i;++n){const t=r[n],i=t.getGeometryFunction()(e);if(!i||!Xi(c,i.getExtent()))continue;const o=t.clone(),a=o.getFill();a&&a.setColor(s);const l=o.getStroke();l&&(l.setColor(s),l.setLineDash(null)),o.setText(void 0);const u=t.getImage();if(u){const e=u.getImageSize();if(!e)continue;const t=tn(e[0],e[1],void 0,{alpha:!1}),n=t.canvas;t.fillStyle=s,t.fillRect(0,0,n.width,n.height),o.setImage(new kc({img:n,anchor:u.getAnchor(),anchorXUnits:"pixels",anchorYUnits:"pixels",offset:u.getOrigin(),opacity:1,size:u.getSize(),scale:u.getScale(),rotation:u.getRotation(),rotateWithView:u.getRotateWithView()}))}const h=o.getZIndex()||0;let d=g[h];d||(d={},g[h]=d,d.Polygon=[],d.Circle=[],d.LineString=[],d.Point=[]);const p=i.getType();if("GeometryCollection"===p){const e=i.getGeometriesArrayRecursive();for(let t=0,n=e.length;t<n;++t){const n=e[t];d[n.getType().replace("Multi","")].push(n,o)}}else d[p.replace("Multi","")].push(i,o)}}const m=Object.keys(g).map(Number).sort(Mn);for(let v=0,_=m.length;v<_;++v){const e=g[m[v]];for(const n in e){const i=e[n];for(let e=0,n=i.length;e<n;e+=2){d.setStyle(i[e+1]);for(let n=0,r=t.length;n<r;++n)d.setTransform(t[n]),d.drawGeometry(i[e])}}}return u.getImageData(0,0,h.width,h.height)}function Fc(e,t,n){const i=[];if(n){const r=Math.floor(Math.round(e[0])*Ac),o=Math.floor(Math.round(e[1])*Ac),s=4*(Ji(r,0,n.width-1)+Ji(o,0,n.height-1)*n.width),a=n.data[s],l=n.data[s+1],c=n.data[s+2]+256*(l+256*a),u=Math.floor(16777215/t.length);c&&c%u===0&&i.push(t[c/u-1])}return i}const Lc={Point:function(e,t,n,i,r,o){const s=n.getImage(),a=n.getText(),l=a&&a.getText(),c=o&&s&&l?{}:void 0;if(s){if(s.getImageState()!=Ma)return;const o=e.getBuilder(n.getZIndex(),"Image");o.setImageStyle(s,c),o.drawPoint(t,i,r)}if(l){const o=e.getBuilder(n.getZIndex(),"Text");o.setTextStyle(a,c),o.drawText(t,i,r)}},LineString:function(e,t,n,i,r){const o=n.getStroke();if(o){const s=e.getBuilder(n.getZIndex(),"LineString");s.setFillStrokeStyle(null,o),s.drawLineString(t,i,r)}const s=n.getText();if(s&&s.getText()){const o=e.getBuilder(n.getZIndex(),"Text");o.setTextStyle(s),o.drawText(t,i,r)}},Polygon:function(e,t,n,i,r){const o=n.getFill(),s=n.getStroke();if(o||s){const a=e.getBuilder(n.getZIndex(),"Polygon");a.setFillStrokeStyle(o,s),a.drawPolygon(t,i,r)}const a=n.getText();if(a&&a.getText()){const o=e.getBuilder(n.getZIndex(),"Text");o.setTextStyle(a),o.drawText(t,i,r)}},MultiPoint:function(e,t,n,i,r,o){const s=n.getImage(),a=s&&0!==s.getOpacity(),l=n.getText(),c=l&&l.getText(),u=o&&a&&c?{}:void 0;if(a){if(s.getImageState()!=Ma)return;const o=e.getBuilder(n.getZIndex(),"Image");o.setImageStyle(s,u),o.drawMultiPoint(t,i,r)}if(c){const o=e.getBuilder(n.getZIndex(),"Text");o.setTextStyle(l,u),o.drawText(t,i,r)}},MultiLineString:function(e,t,n,i,r){const o=n.getStroke();if(o){const s=e.getBuilder(n.getZIndex(),"LineString");s.setFillStrokeStyle(null,o),s.drawMultiLineString(t,i,r)}const s=n.getText();if(s&&s.getText()){const o=e.getBuilder(n.getZIndex(),"Text");o.setTextStyle(s),o.drawText(t,i,r)}},MultiPolygon:function(e,t,n,i,r){const o=n.getFill(),s=n.getStroke();if(s||o){const a=e.getBuilder(n.getZIndex(),"Polygon");a.setFillStrokeStyle(o,s),a.drawMultiPolygon(t,i,r)}const a=n.getText();if(a&&a.getText()){const o=e.getBuilder(n.getZIndex(),"Text");o.setTextStyle(a),o.drawText(t,i,r)}},GeometryCollection:function(e,t,n,i,r,o){const s=t.getGeometriesArray();let a,l;for(a=0,l=s.length;a<l;++a){(0,Lc[s[a].getType()])(e,s[a],n,i,r,o)}},Circle:function(e,t,n,i,r){const o=n.getFill(),s=n.getStroke();if(o||s){const a=e.getBuilder(n.getZIndex(),"Circle");a.setFillStrokeStyle(o,s),a.drawCircle(t,i,r)}const a=n.getText();if(a&&a.getText()){const r=e.getBuilder(n.getZIndex(),"Text");r.setTextStyle(a),r.drawText(t,i)}}};function zc(e,t){return parseInt(Xn(e),10)-parseInt(Xn(t),10)}function Oc(e,t){const n=Dc(e,t);return n*n}function Dc(e,t){return.5*e/t}function jc(e,t,n,i,r,o,s,a){const l=[],c=n.getImage();if(c){let e=!0;const t=c.getImageState();t==Ma||t==Ia?e=!1:t==Ta&&c.load(),e&&l.push(c.ready())}const u=n.getFill();u&&u.loading()&&l.push(u.ready());const h=l.length>0;return h&&Promise.all(l).then(()=>r(null)),function(e,t,n,i,r,o,s){const a=n.getGeometryFunction()(t);if(!a)return;const l=a.simplifyTransformed(i,r),c=n.getRenderer();if(c)Nc(e,l,n,t,s);else{(0,Lc[l.getType()])(e,l,n,t,s,o)}}(e,t,n,i,o,s,a),h}function Nc(e,t,n,i,r){if("GeometryCollection"==t.getType()){const o=t.getGeometries();for(let t=0,s=o.length;t<s;++t)Nc(e,o[t],n,i,r);return}e.getBuilder(n.getZIndex(),"Default").drawCustom(t,i,n.getRenderer(),n.getHitDetectionRenderer(),r)}class $c extends $n{constructor(e,t,n,i){super(e),this.inversePixelTransform=t,this.frameState=n,this.context=i}}class Bc extends Gn{constructor(e){super(),this.ready=!0,this.boundHandleImageChange_=this.handleImageChange_.bind(this),this.layer_=e,this.staleKeys_=new Array,this.maxStaleKeys=5}getStaleKeys(){return this.staleKeys_}prependStaleKey(e){this.staleKeys_.unshift(e),this.staleKeys_.length>this.maxStaleKeys&&(this.staleKeys_.length=this.maxStaleKeys)}getFeatures(e){return qn()}getData(e){return null}prepareFrame(e){return qn()}renderFrame(e,t){return qn()}forEachFeatureAtCoordinate(e,t,n,i,r){}getLayer(){return this.layer_}handleFontsChanged(){}handleImageChange_(e){const t=e.target;t.getState()!==Ma&&t.getState()!==Ia||this.renderIfReadyAndVisible()}loadImage(e){let t=e.getState();return t!=Ma&&t!=Ia&&e.addEventListener(an,this.boundHandleImageChange_),t==Ta&&(e.load(),t=e.getState()),t==Ma}renderIfReadyAndVisible(){const e=this.getLayer();e&&e.getVisible()&&"ready"===e.getSourceState()&&e.changed()}renderDeferred(e){}disposeInternal(){delete this.layer_,super.disposeInternal()}}const Gc=[];let qc=null;class Wc extends Bc{constructor(e){super(e),this.container=null,this.renderedResolution,this.tempTransform=[1,0,0,1,0,0],this.pixelTransform=[1,0,0,1,0,0],this.inversePixelTransform=[1,0,0,1,0,0],this.context=null,this.deferredContext_=null,this.containerReused=!1,this.frameState=null}getImageData(e,t,n){let i;qc||(qc=tn(1,1,void 0,{willReadFrequently:!0})),qc.clearRect(0,0,1,1);try{qc.drawImage(e,t,n,1,1,0,0,1,1),i=qc.getImageData(0,0,1,1).data}catch{return qc=null,null}return i}getBackground(e){let t=this.getLayer().getBackground();return"function"==typeof t&&(t=t(e.viewState.resolution)),t||void 0}useContainer(e,t,n){const i=this.getLayer().getClassName();let r,o;if(e&&e.className===i&&(!n||e&&e.style.backgroundColor&&Ln(Za(e.style.backgroundColor),Za(n)))){const t=e.firstElementChild;t instanceof HTMLCanvasElement&&(o=t.getContext("2d"))}if(o&&function(e,t){const n=as(e),i=as(t);for(let r=0;r<6;++r)if(0!==Math.round((n[r]-i[r])*ss[r]))return!1;return!0}(o.canvas.style.transform,t)?(this.container=e,this.context=o,this.containerReused=!0):this.containerReused?(this.container=null,this.context=null,this.containerReused=!1):this.container&&(this.container.style.backgroundColor=null),!this.container){r=document.createElement("div"),r.className=i;let e=r.style;e.position="absolute",e.width="100%",e.height="100%",o=tn();const t=o.canvas;r.appendChild(t),e=t.style,e.position="absolute",e.left="0",e.transformOrigin="top left",this.container=r,this.context=o}this.containerReused||!n||this.container.style.backgroundColor||(this.container.style.backgroundColor=n)}clipUnrotated(e,t,n){const i=Gi(n),r=qi(n),o=zi(n),s=Li(n);ns(t.coordinateToPixelTransform,i),ns(t.coordinateToPixelTransform,r),ns(t.coordinateToPixelTransform,o),ns(t.coordinateToPixelTransform,s);const a=this.inversePixelTransform;ns(a,i),ns(a,r),ns(a,o),ns(a,s),e.save(),e.beginPath(),e.moveTo(Math.round(i[0]),Math.round(i[1])),e.lineTo(Math.round(r[0]),Math.round(r[1])),e.lineTo(Math.round(o[0]),Math.round(o[1])),e.lineTo(Math.round(s[0]),Math.round(s[1])),e.clip()}prepareContainer(e,t){const n=e.extent,i=e.viewState.resolution,r=e.viewState.rotation,o=e.pixelRatio,s=Math.round(Wi(n)/i*o),a=Math.round($i(n)/i*o);rs(this.pixelTransform,e.size[0]/2,e.size[1]/2,1/o,1/o,r,-s/2,-a/2),os(this.inversePixelTransform,this.pixelTransform);const l="matrix("+this.pixelTransform.join(", ")+")";if(this.useContainer(t,l,this.getBackground(e)),!this.containerReused){const e=this.context.canvas;e.width!=s||e.height!=a?(e.width=s,e.height=a):this.context.clearRect(0,0,s,a),l!==e.style.transform&&(e.style.transform=l)}}dispatchRenderEvent_(e,t,n){const i=this.getLayer();if(i.hasListener(e)){const r=new $c(e,this.inversePixelTransform,n,t);i.dispatchEvent(r)}}preRender(e,t){this.frameState=t,t.declutter||this.dispatchRenderEvent_(wa,e,t)}postRender(e,t){t.declutter||this.dispatchRenderEvent_(ka,e,t)}renderDeferredInternal(e){}getRenderContext(e){return e.declutter&&!this.deferredContext_&&(this.deferredContext_=new Ql),e.declutter?this.deferredContext_.getContext():this.context}renderDeferred(e){e.declutter&&(this.dispatchRenderEvent_(wa,this.context,e),e.declutter&&this.deferredContext_&&(this.deferredContext_.draw(this.context),this.deferredContext_.clear()),this.renderDeferredInternal(e),this.dispatchRenderEvent_(ka,this.context,e))}getRenderTransform(e,t,n,i,r,o,s){const a=r/2,l=o/2,c=i/t,u=-c,h=-e[0]+s,d=-e[1];return rs(this.tempTransform,a,l,c,u,-n,h,d)}disposeInternal(){delete this.frameState,super.disposeInternal()}}class Xc extends Wc{constructor(e){super(e),this.boundHandleStyleImageChange_=this.handleStyleImageChange_.bind(this),this.animatingOrInteracting_,this.hitDetectionImageData_=null,this.clipped_=!1,this.renderedFeatures_=null,this.renderedRevision_=-1,this.renderedResolution_=NaN,this.renderedExtent_=[1/0,1/0,-1/0,-1/0],this.wrappedRenderedExtent_=[1/0,1/0,-1/0,-1/0],this.renderedRotation_,this.renderedCenter_=null,this.renderedProjection_=null,this.renderedPixelRatio_=1,this.renderedRenderOrder_=null,this.renderedFrameDeclutter_,this.replayGroup_=null,this.replayGroupChanged=!0,this.clipping=!0,this.targetContext_=null,this.opacity_=1}renderWorlds(e,t,n){const i=t.extent,r=t.viewState,o=r.center,s=r.resolution,a=r.projection,l=r.rotation,c=a.getExtent(),u=this.getLayer().getSource(),h=this.getLayer().getDeclutter(),d=t.pixelRatio,p=t.viewHints,f=!(p[xa]||p[ba]),g=this.context,m=Math.round(Wi(i)/s*d),v=Math.round($i(i)/s*d),_=u.getWrapX()&&a.canWrapX(),y=_?Wi(c):null,x=_?Math.ceil((i[2]-c[2])/y)+1:1;let b=_?Math.floor((i[0]-c[0])/y):0;do{let i=this.getRenderTransform(o,s,0,d,m,v,b*y);t.declutter&&(i=i.slice(0)),e.execute(g,[g.canvas.width,g.canvas.height],i,l,f,void 0===n?hc:n?dc:pc,n?h&&t.declutter[h]:void 0)}while(++b<x)}setDrawContext_(){1!==this.opacity_&&(this.targetContext_=this.context,this.context=tn(this.context.canvas.width,this.context.canvas.height,Gc))}resetDrawContext_(){if(1!==this.opacity_&&this.targetContext_){const e=this.targetContext_.globalAlpha;this.targetContext_.globalAlpha=this.opacity_,this.targetContext_.drawImage(this.context.canvas,0,0),this.targetContext_.globalAlpha=e,on(this.context),Gc.push(this.context.canvas),this.context=this.targetContext_,this.targetContext_=null}}renderDeclutter(e){this.replayGroup_&&this.getLayer().getDeclutter()&&this.renderWorlds(this.replayGroup_,e,!0)}renderDeferredInternal(e){this.replayGroup_&&(this.replayGroup_.renderDeferred(),this.clipped_&&this.context.restore(),this.resetDrawContext_())}renderFrame(e,t){const n=e.layerStatesArray[e.layerIndex];this.opacity_=n.opacity;const i=e.viewState;this.prepareContainer(e,t);const r=this.context,o=this.replayGroup_;let s=o&&!o.isEmpty();if(!s){if(!(this.getLayer().hasListener(wa)||this.getLayer().hasListener(ka)))return this.container}if(this.setDrawContext_(),this.preRender(r,e),i.projection,this.clipped_=!1,s&&n.extent&&this.clipping){const t=ko(n.extent);s=Xi(t,e.extent),this.clipped_=s&&!yi(t,e.extent),this.clipped_&&this.clipUnrotated(r,e,t)}return s&&this.renderWorlds(o,e,!this.getLayer().getDeclutter()&&void 0),!e.declutter&&this.clipped_&&r.restore(),this.postRender(r,e),this.renderedRotation_!==i.rotation&&(this.renderedRotation_=i.rotation,this.hitDetectionImageData_=null),e.declutter||this.resetDrawContext_(),this.container}getFeatures(e){return new Promise(t=>{if(this.frameState&&!this.hitDetectionImageData_&&!this.animatingOrInteracting_){const e=this.frameState.size.slice(),t=this.renderedCenter_,n=this.renderedResolution_,i=this.renderedRotation_,r=this.renderedProjection_,o=this.wrappedRenderedExtent_,s=this.getLayer(),a=[],l=e[0]*Ac,c=e[1]*Ac;a.push(this.getRenderTransform(t,n,i,Ac,l,c,0).slice());const u=s.getSource(),h=r.getExtent();if(u.getWrapX()&&r.canWrapX()&&!yi(h,o)){let e=o[0];const r=Wi(h);let s,u=0;for(;e<h[0];)--u,s=r*u,a.push(this.getRenderTransform(t,n,i,Ac,l,c,s).slice()),e+=r;for(u=0,e=o[2];e>h[2];)++u,s=r*u,a.push(this.getRenderTransform(t,n,i,Ac,l,c,s).slice()),e-=r}this.hitDetectionImageData_=Pc(e,a,this.renderedFeatures_,s.getStyleFunction(),o,n,i,Oc(n,this.renderedPixelRatio_),null)}t(Fc(e,this.renderedFeatures_,this.hitDetectionImageData_))})}forEachFeatureAtCoordinate(e,t,n,i,r){if(!this.replayGroup_)return;const o=t.viewState.resolution,s=t.viewState.rotation,a=this.getLayer(),l={},c=this.getLayer().getDeclutter();return this.replayGroup_.forEachFeatureAtCoordinate(e,o,s,n,function(e,t,n){const o=Xn(e),s=l[o];if(s){if(!0!==s&&n<s.distanceSq){if(0===n)return l[o]=!0,r.splice(r.lastIndexOf(s),1),i(e,a,t);s.geometry=t,s.distanceSq=n}}else{if(0===n)return l[o]=!0,i(e,a,t);r.push(l[o]={feature:e,layer:a,geometry:t,distanceSq:n,callback:i})}},c?t.declutter?.[c]?.all().map(e=>e.value):null)}handleFontsChanged(){const e=this.getLayer();e.getVisible()&&this.replayGroup_&&e.changed()}handleStyleImageChange_(e){this.renderIfReadyAndVisible()}prepareFrame(e){const t=this.getLayer(),n=t.getSource();if(!n)return!1;const i=e.viewHints[xa],r=e.viewHints[ba],o=t.getUpdateWhileAnimating(),s=t.getUpdateWhileInteracting();if(this.ready&&!o&&i||!s&&r)return this.animatingOrInteracting_=!0,!0;this.animatingOrInteracting_=!1;const a=e.extent,l=e.viewState,c=l.projection,u=l.resolution,h=e.pixelRatio,d=t.getRevision(),p=t.getRenderBuffer();let f=t.getRenderOrder();void 0===f&&(f=zc);const g=l.center.slice(),m=gi(a,p*u),v=m.slice(),_=[m.slice()],y=c.getExtent();if(n.getWrapX()&&c.canWrapX()&&!yi(y,e.extent)){const e=Wi(y),t=Math.max(Wi(m)/2,e);m[0]=y[0]-t,m[2]=y[2]+t,hr(g,c);const n=Vi(_[0],c);n[0]<y[0]&&n[2]<y[2]?_.push([n[0]+e,n[1],n[2]+e,n[3]]):n[0]>y[0]&&n[2]>y[2]&&_.push([n[0]-e,n[1],n[2]-e,n[3]])}if(this.ready&&this.renderedResolution_==u&&this.renderedRevision_==d&&this.renderedRenderOrder_==f&&this.renderedFrameDeclutter_===!!e.declutter&&yi(this.wrappedRenderedExtent_,m))return Ln(this.renderedExtent_,v)||(this.hitDetectionImageData_=null,this.renderedExtent_=v),this.renderedCenter_=g,this.replayGroupChanged=!1,!0;this.replayGroup_=null;const x=new Kl(Dc(u,h),m,u,h);for(let R=0,M=_.length;R<M;++R)n.loadFeatures(_[R],u,c);const b=Oc(u,h);let w=!0;const k=(e,n)=>{let i;const r=e.getStyleFunction()||t.getStyleFunction();if(r&&(i=r(e,u)),i){const t=this.renderFeature(e,b,i,x,undefined,this.getLayer().getDeclutter(),n);w=w&&!t}},S=wo(m),C=n.getFeaturesInExtent(S);f&&C.sort(f);for(let R=0,M=C.length;R<M;++R)k(C[R],R);this.renderedFeatures_=C,this.ready=w;const E=x.finish(),T=new fc(m,u,h,n.getOverlaps(),E,t.getRenderBuffer(),!!e.declutter);return this.renderedResolution_=u,this.renderedRevision_=d,this.renderedRenderOrder_=f,this.renderedFrameDeclutter_=!!e.declutter,this.renderedExtent_=v,this.wrappedRenderedExtent_=m,this.renderedCenter_=g,this.renderedProjection_=c,this.renderedPixelRatio_=h,this.replayGroup_=T,this.hitDetectionImageData_=null,this.replayGroupChanged=!0,!0}renderFeature(e,t,n,i,r,o,s){if(!n)return!1;let a=!1;if(Array.isArray(n))for(let l=0,c=n.length;l<c;++l)a=jc(i,e,n[l],t,this.boundHandleStyleImageChange_,r,o,s)||a;else a=jc(i,e,n,t,this.boundHandleStyleImageChange_,r,o,s);return a}}let Uc=0;const Hc=1<<Uc++,Vc=1<<Uc++,Yc=1<<Uc++,Zc=1<<Uc++,Kc=1<<Uc++,Jc=1<<Uc++,Qc=Math.pow(2,6)-1,eu={[Hc]:"boolean",[Vc]:"number",[Yc]:"string",[Zc]:"color",[Kc]:"number[]",[Jc]:"size"},tu=Object.keys(eu).map(Number).sort(Mn);function nu(e){const t=[];for(const n of tu)iu(e,n)&&t.push(eu[n]);return 0===t.length?"untyped":t.length<3?t.join(" or "):t.slice(0,-1).join(", ")+", or "+t[t.length-1]}function iu(e,t){return(e&t)===t}function ru(e,t){return e===t}class ou{constructor(e,t){if(!function(e){return e in eu}(e))throw new Error(`literal expressions must have a specific type, got ${nu(e)}`);this.type=e,this.value=t}}class su{constructor(e,t,...n){this.type=e,this.operator=t,this.args=n}}function au(){return{variables:new Set,properties:new Set,featureId:!1,geometryType:!1,mapState:!1}}function lu(e,t,n){switch(typeof e){case"boolean":if(ru(t,Yc))return new ou(Yc,e?"true":"false");if(!iu(t,Hc))throw new Error(`got a boolean, but expected ${nu(t)}`);return new ou(Hc,e);case"number":if(ru(t,Jc))return new ou(Jc,vc(e));if(ru(t,Hc))return new ou(Hc,!!e);if(ru(t,Yc))return new ou(Yc,e.toString());if(!iu(t,Vc))throw new Error(`got a number, but expected ${nu(t)}`);return new ou(Vc,e);case"string":if(ru(t,Zc))return new ou(Zc,Ya(e));if(ru(t,Hc))return new ou(Hc,!!e);if(!iu(t,Yc))throw new Error(`got a string, but expected ${nu(t)}`);return new ou(Yc,e)}if(!Array.isArray(e))throw new Error("expression must be an array or a primitive value");if(0===e.length)throw new Error("empty expression");if("string"==typeof e[0])return function(e,t,n){const i=e[0],r=nh[i];if(!r)throw new Error(`unknown operator: ${i}`);return r(e,t,n)}(e,t,n);for(const i of e)if("number"!=typeof i)throw new Error("expected an array of numbers");if(ru(t,Jc)){if(2!==e.length)throw new Error(`expected an array of two values for a size, got ${e.length}`);return new ou(Jc,e)}if(ru(t,Zc)){if(3===e.length)return new ou(Zc,[...e,1]);if(4===e.length)return new ou(Zc,e);throw new Error(`expected an array of 3 or 4 values for a color, got ${e.length}`)}if(!iu(t,Kc))throw new Error(`got an array of numbers, but expected ${nu(t)}`);return new ou(Kc,e)}const cu="get",uu="var",hu="concat",du="geometry-type",pu="line-metric",fu="any",gu="all",mu="!",vu="resolution",_u="zoom",yu="time",xu="==",bu="!=",wu=">",ku=">=",Su="<",Cu="<=",Eu="*",Tu="/",Ru="+",Mu="-",Iu="clamp",Au="%",Pu="^",Fu="abs",Lu="floor",zu="ceil",Ou="round",Du="sin",ju="cos",Nu="atan",$u="sqrt",Bu="match",Gu="between",qu="interpolate",Wu="coalesce",Xu="case",Uu="in",Hu="number",Vu="string",Yu="array",Zu="color",Ku="id",Ju="band",Qu="palette",eh="to-string",th="has",nh={[cu]:uh(sh(1,1/0),ih),[uu]:uh(sh(1,1),function(e,t,n){const i=e[1];if("string"!=typeof i)throw new Error("expected a string argument for var operation");return n.variables.add(i),[new ou(Yc,i)]}),[th]:uh(sh(1,1/0),ih),[Ku]:uh(function(e,t,n){n.featureId=!0},oh),[hu]:uh(sh(2,1/0),lh(Yc)),[du]:uh(function(e,t,n){n.geometryType=!0},oh),[pu]:uh(oh),[vu]:uh(rh,oh),[_u]:uh(rh,oh),[yu]:uh(rh,oh),[fu]:uh(sh(2,1/0),lh(Hc)),[gu]:uh(sh(2,1/0),lh(Hc)),[mu]:uh(sh(1,1),lh(Hc)),[xu]:uh(sh(2,2),lh(Qc)),[bu]:uh(sh(2,2),lh(Qc)),[wu]:uh(sh(2,2),lh(Vc)),[ku]:uh(sh(2,2),lh(Vc)),[Su]:uh(sh(2,2),lh(Vc)),[Cu]:uh(sh(2,2),lh(Vc)),[Eu]:uh(sh(2,1/0),ah),[Wu]:uh(sh(2,1/0),ah),[Tu]:uh(sh(2,2),lh(Vc)),[Ru]:uh(sh(2,1/0),lh(Vc)),[Mu]:uh(sh(2,2),lh(Vc)),[Iu]:uh(sh(3,3),lh(Vc)),[Au]:uh(sh(2,2),lh(Vc)),[Pu]:uh(sh(2,2),lh(Vc)),[Fu]:uh(sh(1,1),lh(Vc)),[Lu]:uh(sh(1,1),lh(Vc)),[zu]:uh(sh(1,1),lh(Vc)),[Ou]:uh(sh(1,1),lh(Vc)),[Du]:uh(sh(1,1),lh(Vc)),[ju]:uh(sh(1,1),lh(Vc)),[Nu]:uh(sh(1,2),lh(Vc)),[$u]:uh(sh(1,1),lh(Vc)),[Bu]:uh(sh(4,1/0),ch,function(e,t,n){const i=e.length-1,r=Yc|Vc|Hc,o=lu(e[1],r,n),s=lu(e[e.length-1],t,n),a=new Array(i-2);for(let c=0;c<i-2;c+=2){try{const t=lu(e[c+2],o.type,n);a[c]=t}catch(l){throw new Error(`failed to parse argument ${c+1} of match expression: ${l.message}`)}try{const t=lu(e[c+3],s.type,n);a[c+1]=t}catch(l){throw new Error(`failed to parse argument ${c+2} of match expression: ${l.message}`)}}return[o,...a,s]}),[Gu]:uh(sh(3,3),lh(Vc)),[qu]:uh(sh(6,1/0),ch,function(e,t,n){const i=e[1];let r;switch(i[0]){case"linear":r=1;break;case"exponential":const e=i[1];if("number"!=typeof e||e<=0)throw new Error(`expected a number base for exponential interpolation, got ${JSON.stringify(e)} instead`);r=e;break;default:throw new Error(`invalid interpolation type: ${JSON.stringify(i)}`)}const o=new ou(Vc,r);let s;try{s=lu(e[2],Vc,n)}catch(l){throw new Error(`failed to parse argument 1 in interpolate expression: ${l.message}`)}const a=new Array(e.length-3);for(let c=0;c<a.length;c+=2){try{const t=lu(e[c+3],Vc,n);a[c]=t}catch(l){throw new Error(`failed to parse argument ${c+2} for interpolate expression: ${l.message}`)}try{const i=lu(e[c+4],t,n);a[c+1]=i}catch(l){throw new Error(`failed to parse argument ${c+3} for interpolate expression: ${l.message}`)}}return[o,s,...a]}),[Xu]:uh(sh(3,1/0),function(e,t,n){const i=e[0],r=e.length-1;if(r%2==0)throw new Error(`expected an odd number of arguments for ${i}, got ${r} instead`)},function(e,t,n){const i=lu(e[e.length-1],t,n),r=new Array(e.length-1);for(let s=0;s<r.length-1;s+=2){try{const t=lu(e[s+1],Hc,n);r[s]=t}catch(o){throw new Error(`failed to parse argument ${s} of case expression: ${o.message}`)}try{const t=lu(e[s+2],i.type,n);r[s+1]=t}catch(o){throw new Error(`failed to parse argument ${s+1} of case expression: ${o.message}`)}}return r[r.length-1]=i,r}),[Uu]:uh(sh(2,2),function(e,t,n){let i,r=e[2];if(!Array.isArray(r))throw new Error('the second argument for the "in" operator must be an array');if("string"==typeof r[0]){if("literal"!==r[0])throw new Error('for the "in" operator, a string array should be wrapped in a "literal" operator to disambiguate from expressions');if(!Array.isArray(r[1]))throw new Error('failed to parse "in" expression: the literal operator must be followed by an array');r=r[1],i=Yc}else i=Vc;const o=new Array(r.length);for(let a=0;a<o.length;a++)try{const e=lu(r[a],i,n);o[a]=e}catch(s){throw new Error(`failed to parse haystack item ${a} for "in" expression: ${s.message}`)}return[lu(e[1],i,n),...o]}),[Hu]:uh(sh(1,1/0),lh(Qc)),[Vu]:uh(sh(1,1/0),lh(Qc)),[Yu]:uh(sh(1,1/0),lh(Vc)),[Zu]:uh(sh(1,4),lh(Vc)),[Ju]:uh(sh(1,3),lh(Vc)),[Qu]:uh(sh(2,2),function(e,t,n){let i;try{i=lu(e[1],Vc,n)}catch(s){throw new Error(`failed to parse first argument in palette expression: ${s.message}`)}const r=e[2];if(!Array.isArray(r))throw new Error("the second argument of palette must be an array");const o=new Array(r.length);for(let a=0;a<o.length;a++){let e;try{e=lu(r[a],Zc,n)}catch(s){throw new Error(`failed to parse color at index ${a} in palette expression: ${s.message}`)}if(!(e instanceof ou))throw new Error(`the palette color at index ${a} must be a literal value`);o[a]=e}return[i,...o]}),[eh]:uh(sh(1,1),lh(Hc|Vc|Yc|Zc))};function ih(e,t,n){const i=e.length-1,r=new Array(i);for(let o=0;o<i;++o){const t=e[o+1];switch(typeof t){case"number":r[o]=new ou(Vc,t);break;case"string":r[o]=new ou(Yc,t);break;default:throw new Error(`expected a string key or numeric array index for a get operation, got ${t}`)}0===o&&n.properties.add(String(t))}return r}function rh(e,t,n){n.mapState=!0}function oh(e,t,n){const i=e[0];if(1!==e.length)throw new Error(`expected no arguments for ${i} operation`);return[]}function sh(e,t){return function(n,i,r){const o=n[0],s=n.length-1;if(e===t){if(s!==e){throw new Error(`expected ${e} argument${1===e?"":"s"} for ${o}, got ${s}`)}}else if(s<e||s>t){throw new Error(`expected ${t===1/0?`${e} or more`:`${e} to ${t}`} arguments for ${o}, got ${s}`)}}}function ah(e,t,n){const i=e.length-1,r=new Array(i);for(let o=0;o<i;++o){const i=lu(e[o+1],t,n);r[o]=i}return r}function lh(e){return function(t,n,i){const r=t.length-1,o=new Array(r);for(let s=0;s<r;++s){const n=lu(t[s+1],e,i);o[s]=n}return o}}function ch(e,t,n){const i=e[0],r=e.length-1;if(r%2==1)throw new Error(`expected an even number of arguments for operation ${i}, got ${r} instead`)}function uh(...e){return function(t,n,i){const r=t[0];let o;for(let s=0;s<e.length;s++){const r=e[s](t,n,i);if(s==e.length-1){if(!r)throw new Error("expected last argument validator to return the parsed args");o=r}}return new su(n,r,...o)}}function hh(e){if(!e)return"";const t=e.getType();switch(t){case"Point":case"LineString":case"Polygon":return t;case"MultiPoint":case"MultiLineString":case"MultiPolygon":return t.substring(5);case"Circle":return"Polygon";case"GeometryCollection":return hh(e.getGeometries()[0]);default:return""}}function dh(e,t,n){return ph(lu(e,t,n))}function ph(e,t){if(e instanceof ou){if(e.type===Zc&&"string"==typeof e.value){const t=Ya(e.value);return function(){return t}}return function(){return e.value}}const n=e.operator;switch(n){case Hu:case Vu:case Wu:return function(e){const t=e.operator,n=e.args.length,i=new Array(n);for(let r=0;r<n;++r)i[r]=ph(e.args[r]);switch(t){case Wu:return e=>{for(let t=0;t<n;++t){const n=i[t](e);if(null!=n)return n}throw new Error("Expected one of the values to be non-null")};case Hu:case Vu:return e=>{for(let r=0;r<n;++r){const n=i[r](e);if(typeof n===t)return n}throw new Error(`Expected one of the values to be a ${t}`)};default:throw new Error(`Unsupported assertion operator ${t}`)}}(e);case cu:case uu:case th:return function(e){const t=e.args[0],n=t.value;switch(e.operator){case cu:return t=>{const i=e.args;let r=t.properties[n];for(let e=1,n=i.length;e<n;++e){r=r[i[e].value]}return r};case uu:return e=>e.variables[n];case th:return t=>{const i=e.args;if(!(n in t.properties))return!1;let r=t.properties[n];for(let e=1,n=i.length;e<n;++e){const t=i[e].value;if(!r||!Object.hasOwn(r,t))return!1;r=r[t]}return!0};default:throw new Error(`Unsupported accessor operator ${e.operator}`)}}(e);case Ku:return e=>e.featureId;case du:return e=>e.geometryType;case hu:{const t=e.args.map(e=>ph(e));return e=>"".concat(...t.map(t=>t(e).toString()))}case vu:return e=>e.resolution;case fu:case gu:case Gu:case Uu:case mu:return function(e){const t=e.operator,n=e.args.length,i=new Array(n);for(let r=0;r<n;++r)i[r]=ph(e.args[r]);switch(t){case fu:return e=>{for(let t=0;t<n;++t)if(i[t](e))return!0;return!1};case gu:return e=>{for(let t=0;t<n;++t)if(!i[t](e))return!1;return!0};case Gu:return e=>{const t=i[0](e),n=i[1](e),r=i[2](e);return t>=n&&t<=r};case Uu:return e=>{const t=i[0](e);for(let r=1;r<n;++r)if(t===i[r](e))return!0;return!1};case mu:return e=>!i[0](e);default:throw new Error(`Unsupported logical operator ${t}`)}}(e);case xu:case bu:case Su:case Cu:case wu:case ku:return function(e){const t=e.operator,n=ph(e.args[0]),i=ph(e.args[1]);switch(t){case xu:return e=>n(e)===i(e);case bu:return e=>n(e)!==i(e);case Su:return e=>n(e)<i(e);case Cu:return e=>n(e)<=i(e);case wu:return e=>n(e)>i(e);case ku:return e=>n(e)>=i(e);default:throw new Error(`Unsupported comparison operator ${t}`)}}(e);case Eu:case Tu:case Ru:case Mu:case Iu:case Au:case Pu:case Fu:case Lu:case zu:case Ou:case Du:case ju:case Nu:case $u:return function(e){const t=e.operator,n=e.args.length,i=new Array(n);for(let r=0;r<n;++r)i[r]=ph(e.args[r]);switch(t){case Eu:return e=>{let t=1;for(let r=0;r<n;++r)t*=i[r](e);return t};case Tu:return e=>i[0](e)/i[1](e);case Ru:return e=>{let t=0;for(let r=0;r<n;++r)t+=i[r](e);return t};case Mu:return e=>i[0](e)-i[1](e);case Iu:return e=>{const t=i[0](e),n=i[1](e);if(t<n)return n;const r=i[2](e);return t>r?r:t};case Au:return e=>i[0](e)%i[1](e);case Pu:return e=>Math.pow(i[0](e),i[1](e));case Fu:return e=>Math.abs(i[0](e));case Lu:return e=>Math.floor(i[0](e));case zu:return e=>Math.ceil(i[0](e));case Ou:return e=>Math.round(i[0](e));case Du:return e=>Math.sin(i[0](e));case ju:return e=>Math.cos(i[0](e));case Nu:return 2===n?e=>Math.atan2(i[0](e),i[1](e)):e=>Math.atan(i[0](e));case $u:return e=>Math.sqrt(i[0](e));default:throw new Error(`Unsupported numeric operator ${t}`)}}(e);case Xu:return function(e){const t=e.args.length,n=new Array(t);for(let i=0;i<t;++i)n[i]=ph(e.args[i]);return e=>{for(let i=0;i<t-1;i+=2){if(n[i](e))return n[i+1](e)}return n[t-1](e)}}(e);case Bu:return function(e){const t=e.args.length,n=new Array(t);for(let i=0;i<t;++i)n[i]=ph(e.args[i]);return e=>{const i=n[0](e);for(let r=1;r<t-1;r+=2)if(i===n[r](e))return n[r+1](e);return n[t-1](e)}}(e);case qu:return function(e){const t=e.args.length,n=new Array(t);for(let i=0;i<t;++i)n[i]=ph(e.args[i]);return e=>{const i=n[0](e),r=n[1](e);let o,s;for(let a=2;a<t;a+=2){const t=n[a](e);let l=n[a+1](e);const c=Array.isArray(l);if(c&&(l=qa(l)),t>=r)return 2===a?l:c?gh(i,r,o,s,t,l):fh(i,r,o,s,t,l);o=t,s=l}return s}}(e);case eh:return function(e){const t=e.operator,n=e.args.length,i=new Array(n);for(let r=0;r<n;++r)i[r]=ph(e.args[r]);if(t===eh)return t=>{const n=i[0](t);return e.args[0].type===Zc?Ka(n):n.toString()};throw new Error(`Unsupported convert operator ${t}`)}(e);default:throw new Error(`Unsupported operator ${n}`)}}function fh(e,t,n,i,r,o){const s=r-n;if(0===s)return i;const a=t-n;return i+(1===e?a/s:(Math.pow(e,a)-1)/(Math.pow(e,s)-1))*(o-i)}function gh(e,t,n,i,r,o){if(0===r-n)return i;const s=Va(i),a=Va(o);let l=a[2]-s[2];l>180?l-=360:l<-180&&(l+=360);return function(e){const t=(e[0]+16)/116,n=e[1],i=e[2]*Math.PI/180,r=Xa(t),o=Xa(t+n/500*Math.cos(i)),s=Xa(t-n/200*Math.sin(i)),a=Wa(3.021973625*o-1.617392459*r-.404875592*s),l=Wa(-.943766287*o+1.916279586*r+.027607165*s),c=Wa(.069407491*o-.22898585*r+1.159737864*s);return[Ji(a+.5|0,0,255),Ji(l+.5|0,0,255),Ji(c+.5|0,0,255),e[3]]}([fh(e,t,n,s[0],r,a[0]),fh(e,t,n,s[1],r,a[1]),s[2]+fh(e,t,n,0,r,l),fh(e,t,n,i[3],r,o[3])])}function mh(e){return!0}function vh(e){const t=au(),n=function(e,t){const n=e.length,i=new Array(n);for(let r=0;r<n;++r){const n=e[r],o="filter"in n?dh(n.filter,Hc,t):mh;let s;if(Array.isArray(n.style)){const e=n.style.length;s=new Array(e);for(let i=0;i<e;++i)s[i]=yh(n.style[i],t)}else s=[yh(n.style,t)];i[r]={filter:o,styles:s}}return function(t){const r=[];let o=!1;for(let s=0;s<n;++s){if((0,i[s].filter)(t)&&(!e[s].else||!o)){o=!0;for(const e of i[s].styles){const n=e(t);n&&r.push(n)}}}return r}}(e,t),i={variables:{},properties:{},resolution:NaN,featureId:null,geometryType:""};return function(e,r){if(i.properties=e.getPropertiesInternal(),i.resolution=r,t.featureId){const t=e.getId();i.featureId=void 0!==t?t:null}return t.geometryType&&(i.geometryType=hh(e.getGeometry())),n(i)}}function _h(e){const t=au(),n=e.length,i=new Array(n);for(let s=0;s<n;++s)i[s]=yh(e[s],t);const r={variables:{},properties:{},resolution:NaN,featureId:null,geometryType:""},o=new Array(n);return function(e,s){if(r.properties=e.getPropertiesInternal(),r.resolution=s,t.featureId){const t=e.getId();r.featureId=void 0!==t?t:null}let a=0;for(let t=0;t<n;++t){const e=i[t](r);e&&(o[a]=e,a+=1)}return o.length=a,o}}function yh(e,t){const n=xh(e,"",t),i=bh(e,"",t),r=function(e,t){const n="text-",i=kh(e,n+"value",t);if(!i)return null;const r=xh(e,n,t),o=xh(e,n+"background-",t),s=bh(e,n,t),a=bh(e,n+"background-",t),l=kh(e,n+"font",t),c=wh(e,n+"max-angle",t),u=wh(e,n+"offset-x",t),h=wh(e,n+"offset-y",t),d=Sh(e,n+"overflow",t),p=kh(e,n+"placement",t),f=wh(e,n+"repeat",t),g=Mh(e,n+"scale",t),m=Sh(e,n+"rotate-with-view",t),v=wh(e,n+"rotation",t),_=kh(e,n+"align",t),y=kh(e,n+"justify",t),x=kh(e,n+"baseline",t),b=Sh(e,n+"keep-upright",t),w=Eh(e,n+"padding",t),k=Fh(e,n+"declutter-mode"),S=new Mc({declutterMode:k});return function(e){if(S.setText(i(e)),r&&S.setFill(r(e)),o&&S.setBackgroundFill(o(e)),s&&S.setStroke(s(e)),a&&S.setBackgroundStroke(a(e)),l&&S.setFont(l(e)),c&&S.setMaxAngle(c(e)),u&&S.setOffsetX(u(e)),h&&S.setOffsetY(h(e)),d&&S.setOverflow(d(e)),p){const t=p(e);if("point"!==t&&"line"!==t)throw new Error("Expected point or line for text-placement");S.setPlacement(t)}if(f&&S.setRepeat(f(e)),g&&S.setScale(g(e)),m&&S.setRotateWithView(m(e)),v&&S.setRotation(v(e)),_){const t=_(e);if("left"!==t&&"center"!==t&&"right"!==t&&"end"!==t&&"start"!==t)throw new Error("Expected left, right, center, start, or end for text-align");S.setTextAlign(t)}if(y){const t=y(e);if("left"!==t&&"right"!==t&&"center"!==t)throw new Error("Expected left, right, or center for text-justify");S.setJustify(t)}if(x){const t=x(e);if("bottom"!==t&&"top"!==t&&"middle"!==t&&"alphabetic"!==t&&"hanging"!==t)throw new Error("Expected bottom, top, middle, alphabetic, or hanging for text-baseline");S.setTextBaseline(t)}return w&&S.setPadding(w(e)),b&&S.setKeepUpright(b(e)),S}}(e,t),o=function(e,t){if("icon-src"in e)return function(e,t){const n="icon-",i=n+"src",r=zh(e[i],i),o=Th(e,n+"anchor",t),s=Mh(e,n+"scale",t),a=wh(e,n+"opacity",t),l=Th(e,n+"displacement",t),c=wh(e,n+"rotation",t),u=Sh(e,n+"rotate-with-view",t),h=Ah(e,n+"anchor-origin"),d=Ph(e,n+"anchor-x-units"),p=Ph(e,n+"anchor-y-units"),f=function(e,t){const n=e[t];if(void 0===n)return;return Dh(n,t)}(e,n+"color"),g=function(e,t){const n=e[t];if(void 0===n)return;if("string"!=typeof n)throw new Error(`Expected a string for ${t}`);return n}(e,n+"cross-origin"),m=function(e,t){const n=e[t];if(void 0===n)return;return Lh(n,t)}(e,n+"offset"),v=Ah(e,n+"offset-origin"),_=Ih(e,n+"width"),y=Ih(e,n+"height"),x=function(e,t){const n=e[t];if(void 0===n)return;if("number"==typeof n)return vc(n);if(!Array.isArray(n))throw new Error(`Expected a number or size array for ${t}`);if(2!==n.length||"number"!=typeof n[0]||"number"!=typeof n[1])throw new Error(`Expected a number or size array for ${t}`);return n}(e,n+"size"),b=Fh(e,n+"declutter-mode"),w=new kc({src:r,anchorOrigin:h,anchorXUnits:d,anchorYUnits:p,color:f,crossOrigin:g,offset:m,offsetOrigin:v,height:y,width:_,size:x,declutterMode:b});return function(e){return a&&w.setOpacity(a(e)),l&&w.setDisplacement(l(e)),c&&w.setRotation(c(e)),u&&w.setRotateWithView(u(e)),s&&w.setScale(s(e)),o&&w.setAnchor(o(e)),w}}(e,t);if("shape-points"in e)return function(e,t){const n="shape-",i=n+"points",r=n+"radius",o=Oh(e[i],i),s=Oh(e[r],r),a=xh(e,n,t),l=bh(e,n,t),c=Mh(e,n+"scale",t),u=Th(e,n+"displacement",t),h=wh(e,n+"rotation",t),d=Sh(e,n+"rotate-with-view",t),p=Ih(e,n+"radius2"),f=Ih(e,n+"angle"),g=Fh(e,n+"declutter-mode"),m=new yc({points:o,radius:s,radius2:p,angle:f,declutterMode:g});return function(e){return a&&m.setFill(a(e)),l&&m.setStroke(l(e)),u&&m.setDisplacement(u(e)),h&&m.setRotation(h(e)),d&&m.setRotateWithView(d(e)),c&&m.setScale(c(e)),m}}(e,t);if("circle-radius"in e)return function(e,t){const n="circle-",i=xh(e,n,t),r=bh(e,n,t),o=wh(e,n+"radius",t),s=Mh(e,n+"scale",t),a=Th(e,n+"displacement",t),l=wh(e,n+"rotation",t),c=Sh(e,n+"rotate-with-view",t),u=Fh(e,n+"declutter-mode"),h=new xc({radius:5,declutterMode:u});return function(e){return o&&h.setRadius(o(e)),i&&h.setFill(i(e)),r&&h.setStroke(r(e)),a&&h.setDisplacement(a(e)),l&&h.setRotation(l(e)),c&&h.setRotateWithView(c(e)),s&&h.setScale(s(e)),h}}(e,t);return null}(e,t),s=wh(e,"z-index",t);if(!(n||i||r||o||_n(e)))throw new Error("No fill, stroke, point, or text symbolizer properties in style: "+JSON.stringify(e));const a=new Cc;return function(e){let t=!0;if(n){const i=n(e);i&&(t=!1),a.setFill(i)}if(i){const n=i(e);n&&(t=!1),a.setStroke(n)}if(r){const n=r(e);n&&(t=!1),a.setText(n)}if(o){const n=o(e);n&&(t=!1),a.setImage(n)}return s&&a.setZIndex(s(e)),t?null:a}}function xh(e,t,n){let i;if(t+"fill-pattern-src"in e)i=function(e,t,n){const i=kh(e,t+"pattern-src",n),r=Rh(e,t+"pattern-offset",n),o=Rh(e,t+"pattern-size",n),s=Ch(e,t+"color",n);return function(e){return{src:i(e),offset:r&&r(e),size:o&&o(e),color:s&&s(e)}}}(e,t+"fill-",n);else{if("none"===e[t+"fill-color"])return e=>null;i=Ch(e,t+"fill-color",n)}if(!i)return null;const r=new bc;return function(e){const t=i(e);return t===Pa?null:(r.setColor(t),r)}}function bh(e,t,n){const i=wh(e,t+"stroke-width",n),r=Ch(e,t+"stroke-color",n);if(!i&&!r)return null;const o=kh(e,t+"stroke-line-cap",n),s=kh(e,t+"stroke-line-join",n),a=Eh(e,t+"stroke-line-dash",n),l=wh(e,t+"stroke-line-dash-offset",n),c=wh(e,t+"stroke-miter-limit",n),u=new Sc;return function(e){if(r){const t=r(e);if(t===Pa)return null;u.setColor(t)}if(i&&u.setWidth(i(e)),o){const t=o(e);if("butt"!==t&&"round"!==t&&"square"!==t)throw new Error("Expected butt, round, or square line cap");u.setLineCap(t)}if(s){const t=s(e);if("bevel"!==t&&"round"!==t&&"miter"!==t)throw new Error("Expected bevel, round, or miter line join");u.setLineJoin(t)}return a&&u.setLineDash(a(e)),l&&u.setLineDashOffset(l(e)),c&&u.setMiterLimit(c(e)),u}}function wh(e,t,n){if(!(t in e))return;const i=dh(e[t],Vc,n);return function(e){return Oh(i(e),t)}}function kh(e,t,n){if(!(t in e))return null;const i=dh(e[t],Yc,n);return function(e){return zh(i(e),t)}}function Sh(e,t,n){if(!(t in e))return null;const i=dh(e[t],Hc,n);return function(e){const n=i(e);if("boolean"!=typeof n)throw new Error(`Expected a boolean for ${t}`);return n}}function Ch(e,t,n){if(!(t in e))return null;const i=dh(e[t],Zc,n);return function(e){return Dh(i(e),t)}}function Eh(e,t,n){if(!(t in e))return null;const i=dh(e[t],Kc,n);return function(e){return Lh(i(e),t)}}function Th(e,t,n){if(!(t in e))return null;const i=dh(e[t],Kc,n);return function(e){const n=Lh(i(e),t);if(2!==n.length)throw new Error(`Expected two numbers for ${t}`);return n}}function Rh(e,t,n){if(!(t in e))return null;const i=dh(e[t],Kc,n);return function(e){return jh(i(e),t)}}function Mh(e,t,n){if(!(t in e))return null;const i=dh(e[t],Kc|Vc,n);return function(e){return function(e,t){if("number"==typeof e)return e;return jh(e,t)}(i(e),t)}}function Ih(e,t){const n=e[t];if(void 0!==n){if("number"!=typeof n)throw new Error(`Expected a number for ${t}`);return n}}function Ah(e,t){const n=e[t];if(void 0!==n){if("bottom-left"!==n&&"bottom-right"!==n&&"top-left"!==n&&"top-right"!==n)throw new Error(`Expected bottom-left, bottom-right, top-left, or top-right for ${t}`);return n}}function Ph(e,t){const n=e[t];if(void 0!==n){if("pixels"!==n&&"fraction"!==n)throw new Error(`Expected pixels or fraction for ${t}`);return n}}function Fh(e,t){const n=e[t];if(void 0!==n){if("string"!=typeof n)throw new Error(`Expected a string for ${t}`);if("declutter"!==n&&"obstacle"!==n&&"none"!==n)throw new Error(`Expected declutter, obstacle, or none for ${t}`);return n}}function Lh(e,t){if(!Array.isArray(e))throw new Error(`Expected an array for ${t}`);const n=e.length;for(let i=0;i<n;++i)if("number"!=typeof e[i])throw new Error(`Expected an array of numbers for ${t}`);return e}function zh(e,t){if("string"!=typeof e)throw new Error(`Expected a string for ${t}`);return e}function Oh(e,t){if("number"!=typeof e)throw new Error(`Expected a number for ${t}`);return e}function Dh(e,t){if("string"==typeof e)return e;const n=Lh(e,t),i=n.length;if(i<3||i>4)throw new Error(`Expected a color with 3 or 4 values for ${t}`);return n}function jh(e,t){const n=Lh(e,t);if(2!==n.length)throw new Error(`Expected an array of two numbers for ${t}`);return n}const Nh={CENTER:"center",RESOLUTION:"resolution",ROTATION:"rotation"};function $h(e,t,n){return function(i,r,o,s,a){if(!i)return;if(!r&&!t)return i;const l=t?0:o[0]*r,c=t?0:o[1]*r,u=a?a[0]:0,h=a?a[1]:0;let d=e[0]+l/2+u,p=e[2]-l/2+u,f=e[1]+c/2+h,g=e[3]-c/2+h;d>p&&(d=(p+d)/2,p=d),f>g&&(f=(g+f)/2,g=f);let m=Ji(i[0],d,p),v=Ji(i[1],f,g);if(s&&n&&r){const e=30*r;m+=-e*Math.log(1+Math.max(0,d-i[0])/e)+e*Math.log(1+Math.max(0,i[0]-p)/e),v+=-e*Math.log(1+Math.max(0,f-i[1])/e)+e*Math.log(1+Math.max(0,i[1]-g)/e)}return[m,v]}}function Bh(e){return e}function Gh(e){return Math.pow(e,3)}function qh(e){return 1-Gh(1-e)}function Wh(e){return 3*e*e-2*e*e*e}function Xh(e){return e}function Uh(e,t,n,i){const r=Wi(t)/n[0],o=$i(t)/n[1];return i?Math.min(e,Math.max(r,o)):Math.min(e,Math.min(r,o))}function Hh(e,t,n){let i=Math.min(e,t);return i*=Math.log(1+50*Math.max(0,e/t-1))/50+1,n&&(i=Math.max(i,n),i/=Math.log(1+50*Math.max(0,n/e-1))/50+1),Ji(i,n/2,2*t)}function Vh(e,t,n,i,r){return n=void 0===n||n,function(o,s,a,l){if(void 0!==o){const s=i?Uh(e,i,a,r):e;return n&&l?Hh(o,s,t):Ji(o,t,s)}}}function Yh(e){if(void 0!==e)return 0}function Zh(e){if(void 0!==e)return e}const Kh=256;class Jh extends Hn{constructor(e){super(),this.on,this.once,this.un,e=Object.assign({},e),this.hints_=[0,0],this.animations_=[],this.updateAnimationKey_,this.projection_=po(e.projection,"EPSG:3857"),this.viewportSize_=[100,100],this.targetCenter_=null,this.targetResolution_,this.targetRotation_,this.nextCenter_=null,this.nextResolution_,this.nextRotation_,this.cancelAnchor_=void 0,e.projection&&so(),e.center&&(e.center=bo(e.center,this.projection_)),e.extent&&(e.extent=ko(e.extent,this.projection_)),this.applyOptions_(e)}applyOptions_(e){const t=Object.assign({},e);for(const s in Nh)delete t[s];this.setProperties(t,!0);const n=function(e){let t,n,i;const r=28,o=2;let s=void 0!==e.minZoom?e.minZoom:0,a=void 0!==e.maxZoom?e.maxZoom:r;const l=void 0!==e.zoomFactor?e.zoomFactor:o,c=void 0!==e.multiWorld&&e.multiWorld,u=void 0===e.smoothResolutionConstraint||e.smoothResolutionConstraint,h=void 0!==e.showFullExtent&&e.showFullExtent,d=po(e.projection,"EPSG:3857"),p=d.getExtent();let f=e.constrainOnlyCenter,g=e.extent;c||g||!d.isGlobal()||(f=!1,g=p);if(void 0!==e.resolutions){const r=e.resolutions;n=r[s],i=void 0!==r[a]?r[a]:r[r.length-1],t=e.constrainResolution?function(e,t,n,i){return t=void 0===t||t,function(r,o,s,a){if(void 0!==r){const l=e[0],c=e[e.length-1],u=n?Uh(l,n,s,i):l;if(a)return t?Hh(r,u,c):Ji(r,c,u);const h=Math.min(u,r),d=Math.floor(An(e,h,o));return e[d]>u&&d<e.length-1?e[d+1]:e[d]}}}(r,u,!f&&g,h):Vh(n,i,u,!f&&g,h)}else{const c=(p?Math.max(Wi(p),$i(p)):360*dr.degrees/d.getMetersPerUnit())/Kh/Math.pow(o,0),m=c/Math.pow(o,r-0);n=e.maxResolution,void 0!==n?s=0:n=c/Math.pow(l,s),i=e.minResolution,void 0===i&&(i=void 0!==e.maxZoom?void 0!==e.maxResolution?n/Math.pow(l,a):c/Math.pow(l,a):m),a=s+Math.floor(Math.log(n/i)/Math.log(l)),i=n/Math.pow(l,a-s),t=e.constrainResolution?function(e,t,n,i,r,o){return i=void 0===i||i,n=void 0!==n?n:0,function(s,a,l,c){if(void 0!==s){const u=r?Uh(t,r,l,o):t;if(c)return i?Hh(s,u,n):Ji(s,n,u);const h=1e-9,d=Math.ceil(Math.log(t/u)/Math.log(e)-h),p=-a*(.5-h)+.5,f=Math.min(u,s),g=Math.floor(Math.log(t/f)/Math.log(e)+p),m=Math.max(d,g);return Ji(t/Math.pow(e,m),n,u)}}}(l,n,i,u,!f&&g,h):Vh(n,i,u,!f&&g,h)}return{constraint:t,maxResolution:n,minResolution:i,minZoom:s,zoomFactor:l}}(e);this.maxResolution_=n.maxResolution,this.minResolution_=n.minResolution,this.zoomFactor_=n.zoomFactor,this.resolutions_=e.resolutions,this.padding_=e.padding,this.minZoom_=n.minZoom;const i=function(e){if(void 0!==e.extent){const t=void 0===e.smoothExtentConstraint||e.smoothExtentConstraint;return $h(e.extent,e.constrainOnlyCenter,t)}const t=po(e.projection,"EPSG:3857");if(!0!==e.multiWorld&&t.isGlobal()){const e=t.getExtent().slice();return e[0]=-1/0,e[2]=1/0,$h(e,!1,!1)}return Bh}(e),r=n.constraint,o=function(e){const t=void 0===e.enableRotation||e.enableRotation;if(t){const t=e.constrainRotation;return void 0===t||!0===t?function(){const e=nr(5);return function(t,n){return n||void 0===t?t:Math.abs(t)<=e?0:t}}():!1===t?Zh:"number"==typeof t?function(e){const t=2*Math.PI/e;return function(e,n){return n?e:void 0!==e?e=Math.floor(e/t+.5)*t:void 0}}(t):Zh}return Yh}(e);this.constraints_={center:i,resolution:r,rotation:o},this.setRotation(void 0!==e.rotation?e.rotation:0),this.setCenterInternal(void 0!==e.center?e.center:null),void 0!==e.resolution?this.setResolution(e.resolution):void 0!==e.zoom&&this.setZoom(e.zoom)}get padding(){return this.padding_}set padding(e){let t=this.padding_;this.padding_=e;const n=this.getCenterInternal();if(n){const i=e||[0,0,0,0];t=t||[0,0,0,0];const r=this.getResolution(),o=r/2*(i[3]-t[3]+t[1]-i[1]),s=r/2*(i[0]-t[0]+t[2]-i[2]);this.setCenterInternal([n[0]+o,n[1]-s])}}getUpdatedOptions_(e){const t=this.getProperties();return void 0!==t.resolution?t.resolution=this.getResolution():t.zoom=this.getZoom(),t.center=this.getCenterInternal(),t.rotation=this.getRotation(),Object.assign({},t,e)}animate(e){this.isDef()&&!this.getAnimating()&&this.resolveConstraints(0);const t=new Array(arguments.length);for(let n=0;n<t.length;++n){let e=arguments[n];e.center&&(e=Object.assign({},e),e.center=bo(e.center,this.getProjection())),e.anchor&&(e=Object.assign({},e),e.anchor=bo(e.anchor,this.getProjection())),t[n]=e}this.animateInternal.apply(this,t)}animateInternal(e){let t,n=arguments.length;n>1&&"function"==typeof arguments[n-1]&&(t=arguments[n-1],--n);let i=0;for(;i<n&&!this.isDef();++i){const e=arguments[i];e.center&&this.setCenterInternal(e.center),void 0!==e.zoom?this.setZoom(e.zoom):e.resolution&&this.setResolution(e.resolution),void 0!==e.rotation&&this.setRotation(e.rotation)}if(i===n)return void(t&&Qh(t,!0));let r=Date.now(),o=this.targetCenter_.slice(),s=this.targetResolution_,a=this.targetRotation_;const l=[];for(;i<n;++i){const e=arguments[i],n={start:r,complete:!1,anchor:e.anchor,duration:void 0!==e.duration?e.duration:1e3,easing:e.easing||Wh,callback:t};if(e.center&&(n.sourceCenter=o,n.targetCenter=e.center.slice(),o=n.targetCenter),void 0!==e.zoom?(n.sourceResolution=s,n.targetResolution=this.getResolutionForZoom(e.zoom),s=n.targetResolution):e.resolution&&(n.sourceResolution=s,n.targetResolution=e.resolution,s=n.targetResolution),void 0!==e.rotation){n.sourceRotation=a;const t=ir(e.rotation-a+Math.PI,2*Math.PI)-Math.PI;n.targetRotation=a+t,a=n.targetRotation}ed(n)?n.complete=!0:r+=n.duration,l.push(n)}this.animations_.push(l),this.setHint(xa,1),this.updateAnimations_()}getAnimating(){return this.hints_[xa]>0}getInteracting(){return this.hints_[ba]>0}cancelAnimations(){let e;this.setHint(xa,-this.hints_[xa]);for(let t=0,n=this.animations_.length;t<n;++t){const n=this.animations_[t];if(n[0].callback&&Qh(n[0].callback,!1),!e)for(let t=0,i=n.length;t<i;++t){const i=n[t];if(!i.complete){e=i.anchor;break}}}this.animations_.length=0,this.cancelAnchor_=e,this.nextCenter_=null,this.nextResolution_=NaN,this.nextRotation_=NaN}updateAnimations_(){if(void 0!==this.updateAnimationKey_&&(cancelAnimationFrame(this.updateAnimationKey_),this.updateAnimationKey_=void 0),!this.getAnimating())return;const e=Date.now();let t=!1;for(let n=this.animations_.length-1;n>=0;--n){const i=this.animations_[n];let r=!0;for(let n=0,o=i.length;n<o;++n){const o=i[n];if(o.complete)continue;const s=e-o.start;let a=o.duration>0?s/o.duration:1;a>=1?(o.complete=!0,a=1):r=!1;const l=o.easing(a);if(o.sourceCenter){const e=o.sourceCenter[0],t=o.sourceCenter[1],n=o.targetCenter[0],i=o.targetCenter[1];this.nextCenter_=o.targetCenter;const r=e+l*(n-e),s=t+l*(i-t);this.targetCenter_=[r,s]}if(o.sourceResolution&&o.targetResolution){const e=1===l?o.targetResolution:o.sourceResolution+l*(o.targetResolution-o.sourceResolution);if(o.anchor){const t=this.getViewportSize_(this.getRotation()),n=this.constraints_.resolution(e,0,t,!0);this.targetCenter_=this.calculateCenterZoom(n,o.anchor)}this.nextResolution_=o.targetResolution,this.targetResolution_=e,this.applyTargetState_(!0)}if(void 0!==o.sourceRotation&&void 0!==o.targetRotation){const e=1===l?ir(o.targetRotation+Math.PI,2*Math.PI)-Math.PI:o.sourceRotation+l*(o.targetRotation-o.sourceRotation);if(o.anchor){const t=this.constraints_.rotation(e,!0);this.targetCenter_=this.calculateCenterRotate(t,o.anchor)}this.nextRotation_=o.targetRotation,this.targetRotation_=e}if(this.applyTargetState_(!0),t=!0,!o.complete)break}if(r){this.animations_[n]=null,this.setHint(xa,-1),this.nextCenter_=null,this.nextResolution_=NaN,this.nextRotation_=NaN;const e=i[0].callback;e&&Qh(e,!0)}}this.animations_=this.animations_.filter(Boolean),t&&void 0===this.updateAnimationKey_&&(this.updateAnimationKey_=requestAnimationFrame(this.updateAnimations_.bind(this)))}calculateCenterRotate(e,t){let n;const i=this.getCenterInternal();var r,o;return void 0!==i&&(n=[i[0]-t[0],i[1]-t[1]],ur(n,e-this.getRotation()),o=t,(r=n)[0]+=+o[0],r[1]+=+o[1]),n}calculateCenterZoom(e,t){let n;const i=this.getCenterInternal(),r=this.getResolution();if(void 0!==i&&void 0!==r){n=[t[0]-e*(t[0]-i[0])/r,t[1]-e*(t[1]-i[1])/r]}return n}getViewportSize_(e){const t=this.viewportSize_;if(e){const n=t[0],i=t[1];return[Math.abs(n*Math.cos(e))+Math.abs(i*Math.sin(e)),Math.abs(n*Math.sin(e))+Math.abs(i*Math.cos(e))]}return t}setViewportSize(e){this.viewportSize_=Array.isArray(e)?e.slice():[100,100],this.getAnimating()||this.resolveConstraints(0)}getCenter(){const e=this.getCenterInternal();return e?xo(e,this.getProjection()):e}getCenterInternal(){return this.get(Nh.CENTER)}getConstraints(){return this.constraints_}getConstrainResolution(){return this.get("constrainResolution")}getHints(e){return void 0!==e?(e[0]=this.hints_[0],e[1]=this.hints_[1],e):this.hints_.slice()}calculateExtent(e){return wo(this.calculateExtentInternal(e),this.getProjection())}calculateExtentInternal(e){e=e||this.getViewportSizeMinusPadding_();const t=this.getCenterInternal();ai(t,"The view center is not defined");const n=this.getResolution();ai(void 0!==n,"The view resolution is not defined");const i=this.getRotation();return ai(void 0!==i,"The view rotation is not defined"),ji(t,n,i,e)}getMaxResolution(){return this.maxResolution_}getMinResolution(){return this.minResolution_}getMaxZoom(){return this.getZoomForResolution(this.minResolution_)}setMaxZoom(e){this.applyOptions_(this.getUpdatedOptions_({maxZoom:e}))}getMinZoom(){return this.getZoomForResolution(this.maxResolution_)}setMinZoom(e){this.applyOptions_(this.getUpdatedOptions_({minZoom:e}))}setConstrainResolution(e){this.applyOptions_(this.getUpdatedOptions_({constrainResolution:e}))}getProjection(){return this.projection_}getResolution(){return this.get(Nh.RESOLUTION)}getResolutions(){return this.resolutions_}getResolutionForExtent(e,t){return this.getResolutionForExtentInternal(ko(e,this.getProjection()),t)}getResolutionForExtentInternal(e,t){t=t||this.getViewportSizeMinusPadding_();const n=Wi(e)/t[0],i=$i(e)/t[1];return Math.max(n,i)}getResolutionForValueFunction(e){e=e||2;const t=this.getConstrainedResolution(this.maxResolution_),n=this.minResolution_,i=Math.log(t/n)/Math.log(e);return function(n){return t/Math.pow(e,n*i)}}getRotation(){return this.get(Nh.ROTATION)}getValueForResolutionFunction(e){const t=Math.log(e||2),n=this.getConstrainedResolution(this.maxResolution_),i=this.minResolution_,r=Math.log(n/i)/t;return function(e){return Math.log(n/e)/t/r}}getViewportSizeMinusPadding_(e){let t=this.getViewportSize_(e);const n=this.padding_;return n&&(t=[t[0]-n[1]-n[3],t[1]-n[0]-n[2]]),t}getState(){const e=this.getProjection(),t=this.getResolution(),n=this.getRotation();let i=this.getCenterInternal();const r=this.padding_;if(r){const e=this.getViewportSizeMinusPadding_();i=td(i,this.getViewportSize_(),[e[0]/2+r[3],e[1]/2+r[0]],t,n)}return{center:i.slice(0),projection:void 0!==e?e:null,resolution:t,nextCenter:this.nextCenter_,nextResolution:this.nextResolution_,nextRotation:this.nextRotation_,rotation:n,zoom:this.getZoom()}}getViewStateAndExtent(){return{viewState:this.getState(),extent:this.calculateExtent()}}getZoom(){let e;const t=this.getResolution();return void 0!==t&&(e=this.getZoomForResolution(t)),e}getZoomForResolution(e){let t,n,i=this.minZoom_||0;if(this.resolutions_){const r=An(this.resolutions_,e,1);i=r,t=this.resolutions_[r],n=r==this.resolutions_.length-1?2:t/this.resolutions_[r+1]}else t=this.maxResolution_,n=this.zoomFactor_;return i+Math.log(t/e)/Math.log(n)}getResolutionForZoom(e){if(this.resolutions_?.length){if(1===this.resolutions_.length)return this.resolutions_[0];const t=Ji(Math.floor(e),0,this.resolutions_.length-2),n=this.resolutions_[t]/this.resolutions_[t+1];return this.resolutions_[t]/Math.pow(n,Ji(e-t,0,1))}return this.maxResolution_/Math.pow(this.zoomFactor_,e-this.minZoom_)}fit(e,t){let n;if(ai(Array.isArray(e)||"function"==typeof e.getSimplifiedGeometry,"Invalid extent or geometry provided as `geometry`"),Array.isArray(e)){ai(!Ui(e),"Cannot fit empty extent provided as `geometry`");n=$s(ko(e,this.getProjection()))}else if("Circle"===e.getType()){const t=ko(e.getExtent(),this.getProjection());n=$s(t),n.rotate(this.getRotation(),Oi(t))}else n=e;this.fitInternal(n,t)}rotatedExtentForGeometry(e){const t=this.getRotation(),n=Math.cos(t),i=Math.sin(-t),r=e.getFlatCoordinates(),o=e.getStride();let s=1/0,a=1/0,l=-1/0,c=-1/0;for(let u=0,h=r.length;u<h;u+=o){const e=r[u]*n-r[u+1]*i,t=r[u]*i+r[u+1]*n;s=Math.min(s,e),a=Math.min(a,t),l=Math.max(l,e),c=Math.max(c,t)}return[s,a,l,c]}fitInternal(e,t){let n=(t=t||{}).size;n||(n=this.getViewportSizeMinusPadding_());const i=void 0!==t.padding?t.padding:[0,0,0,0],r=void 0!==t.nearest&&t.nearest;let o;o=void 0!==t.minResolution?t.minResolution:void 0!==t.maxZoom?this.getResolutionForZoom(t.maxZoom):0;const s=this.rotatedExtentForGeometry(e);let a=this.getResolutionForExtentInternal(s,[n[0]-i[1]-i[3],n[1]-i[0]-i[2]]);a=isNaN(a)?o:Math.max(a,o),a=this.getConstrainedResolution(a,r?0:1);const l=this.getRotation(),c=Math.sin(l),u=Math.cos(l),h=Oi(s);h[0]+=(i[1]-i[3])/2*a,h[1]+=(i[0]-i[2])/2*a;const d=h[0]*u-h[1]*c,p=h[1]*u+h[0]*c,f=this.getConstrainedCenter([d,p],a),g=t.callback?t.callback:Dn;void 0!==t.duration?this.animateInternal({resolution:a,center:f,duration:t.duration,easing:t.easing},g):(this.targetResolution_=a,this.targetCenter_=f,this.applyTargetState_(!1,!0),Qh(g,!0))}centerOn(e,t,n){this.centerOnInternal(bo(e,this.getProjection()),t,n)}centerOnInternal(e,t,n){this.setCenterInternal(td(e,t,n,this.getResolution(),this.getRotation()))}calculateCenterShift(e,t,n,i){let r;const o=this.padding_;if(o&&e){const s=this.getViewportSizeMinusPadding_(-n),a=td(e,i,[s[0]/2+o[3],s[1]/2+o[0]],t,n);r=[e[0]-a[0],e[1]-a[1]]}return r}isDef(){return!!this.getCenterInternal()&&void 0!==this.getResolution()}adjustCenter(e){const t=xo(this.targetCenter_,this.getProjection());this.setCenter([t[0]+e[0],t[1]+e[1]])}adjustCenterInternal(e){const t=this.targetCenter_;this.setCenterInternal([t[0]+e[0],t[1]+e[1]])}adjustResolution(e,t){t=t&&bo(t,this.getProjection()),this.adjustResolutionInternal(e,t)}adjustResolutionInternal(e,t){const n=this.getAnimating()||this.getInteracting(),i=this.getViewportSize_(this.getRotation()),r=this.constraints_.resolution(this.targetResolution_*e,0,i,n);t&&(this.targetCenter_=this.calculateCenterZoom(r,t)),this.targetResolution_*=e,this.applyTargetState_()}adjustZoom(e,t){this.adjustResolution(Math.pow(this.zoomFactor_,-e),t)}adjustRotation(e,t){t&&(t=bo(t,this.getProjection())),this.adjustRotationInternal(e,t)}adjustRotationInternal(e,t){const n=this.getAnimating()||this.getInteracting(),i=this.constraints_.rotation(this.targetRotation_+e,n);t&&(this.targetCenter_=this.calculateCenterRotate(i,t)),this.targetRotation_+=e,this.applyTargetState_()}setCenter(e){this.setCenterInternal(e?bo(e,this.getProjection()):e)}setCenterInternal(e){this.targetCenter_=e,this.applyTargetState_()}setHint(e,t){return this.hints_[e]+=t,this.changed(),this.hints_[e]}setResolution(e){this.targetResolution_=e,this.applyTargetState_()}setRotation(e){this.targetRotation_=e,this.applyTargetState_()}setZoom(e){this.setResolution(this.getResolutionForZoom(e))}applyTargetState_(e,t){const n=this.getAnimating()||this.getInteracting()||t,i=this.constraints_.rotation(this.targetRotation_,n),r=this.getViewportSize_(i),o=this.constraints_.resolution(this.targetResolution_,0,r,n),s=this.constraints_.center(this.targetCenter_,o,r,n,this.calculateCenterShift(this.targetCenter_,o,i,r));this.get(Nh.ROTATION)!==i&&this.set(Nh.ROTATION,i),this.get(Nh.RESOLUTION)!==o&&(this.set(Nh.RESOLUTION,o),this.set("zoom",this.getZoom(),!0)),s&&this.get(Nh.CENTER)&&cr(this.get(Nh.CENTER),s)||this.set(Nh.CENTER,s),this.getAnimating()&&!e&&this.cancelAnimations(),this.cancelAnchor_=void 0}resolveConstraints(e,t,n){e=void 0!==e?e:200;const i=t||0,r=this.constraints_.rotation(this.targetRotation_),o=this.getViewportSize_(r),s=this.constraints_.resolution(this.targetResolution_,i,o),a=this.constraints_.center(this.targetCenter_,s,o,!1,this.calculateCenterShift(this.targetCenter_,s,r,o));if(0===e&&!this.cancelAnchor_)return this.targetResolution_=s,this.targetRotation_=r,this.targetCenter_=a,void this.applyTargetState_();n=n||(0===e?this.cancelAnchor_:void 0),this.cancelAnchor_=void 0,this.getResolution()===s&&this.getRotation()===r&&this.getCenterInternal()&&cr(this.getCenterInternal(),a)||(this.getAnimating()&&this.cancelAnimations(),this.animateInternal({rotation:r,center:a,resolution:s,duration:e,easing:qh,anchor:n}))}beginInteraction(){this.resolveConstraints(0),this.setHint(ba,1)}endInteraction(e,t,n){n=n&&bo(n,this.getProjection()),this.endInteractionInternal(e,t,n)}endInteractionInternal(e,t,n){this.getInteracting()&&(this.setHint(ba,-1),this.resolveConstraints(e,t,n))}getConstrainedCenter(e,t){const n=this.getViewportSize_(this.getRotation());return this.constraints_.center(e,t||this.getResolution(),n)}getConstrainedZoom(e,t){const n=this.getResolutionForZoom(e);return this.getZoomForResolution(this.getConstrainedResolution(n,t))}getConstrainedResolution(e,t){t=t||0;const n=this.getViewportSize_(this.getRotation());return this.constraints_.resolution(e,t,n)}}function Qh(e,t){setTimeout(function(){e(t)},0)}function ed(e){return!(e.sourceCenter&&e.targetCenter&&!cr(e.sourceCenter,e.targetCenter))&&(e.sourceResolution===e.targetResolution&&e.sourceRotation===e.targetRotation)}function td(e,t,n,i,r){const o=Math.cos(-r);let s=Math.sin(-r),a=e[0]*o-e[1]*s,l=e[1]*o+e[0]*s;a+=(t[0]/2-n[0])*i,l+=(n[1]-t[1]/2)*i,s=-s;return[a*o-l*s,l*o+a*s]}const nd="opacity",id="visible",rd="extent",od="zIndex",sd="maxResolution",ad="minResolution",ld="maxZoom",cd="minZoom",ud="source",hd="map";class dd extends Hn{constructor(e){super(),this.on,this.once,this.un,this.background_=e.background;const t=Object.assign({},e);"object"==typeof e.properties&&(delete t.properties,Object.assign(t,e.properties)),t[nd]=void 0!==e.opacity?e.opacity:1,ai("number"==typeof t[nd],"Layer opacity must be a number"),t[id]=void 0===e.visible||e.visible,t[od]=e.zIndex,t[sd]=void 0!==e.maxResolution?e.maxResolution:1/0,t[ad]=void 0!==e.minResolution?e.minResolution:0,t[cd]=void 0!==e.minZoom?e.minZoom:-1/0,t[ld]=void 0!==e.maxZoom?e.maxZoom:1/0,this.className_=void 0!==t.className?t.className:"ol-layer",delete t.className,this.setProperties(t),this.state_=null}getBackground(){return this.background_}getClassName(){return this.className_}getLayerState(e){const t=this.state_||{layer:this,managed:void 0===e||e},n=this.getZIndex();return t.opacity=Ji(Math.round(100*this.getOpacity())/100,0,1),t.visible=this.getVisible(),t.extent=this.getExtent(),t.zIndex=void 0!==n||t.managed?n:1/0,t.maxResolution=this.getMaxResolution(),t.minResolution=Math.max(this.getMinResolution(),0),t.minZoom=this.getMinZoom(),t.maxZoom=this.getMaxZoom(),this.state_=t,t}getLayersArray(e){return qn()}getLayerStatesArray(e){return qn()}getExtent(){return this.get(rd)}getMaxResolution(){return this.get(sd)}getMinResolution(){return this.get(ad)}getMinZoom(){return this.get(cd)}getMaxZoom(){return this.get(ld)}getOpacity(){return this.get(nd)}getSourceState(){return qn()}getVisible(){return this.get(id)}getZIndex(){return this.get(od)}setBackground(e){this.background_=e,this.changed()}setExtent(e){this.set(rd,e)}setMaxResolution(e){this.set(sd,e)}setMinResolution(e){this.set(ad,e)}setMaxZoom(e){this.set(ld,e)}setMinZoom(e){this.set(cd,e)}setOpacity(e){ai("number"==typeof e,"Layer opacity must be a number"),this.set(nd,e)}setVisible(e){this.set(id,e)}setZIndex(e){this.set(od,e)}disposeInternal(){this.state_&&(this.state_.layer=null,this.state_=null),super.disposeInternal()}}class pd extends dd{constructor(e){const t=Object.assign({},e);delete t.source,super(t),this.on,this.once,this.un,this.mapPrecomposeKey_=null,this.mapRenderKey_=null,this.sourceChangeKey_=null,this.renderer_=null,this.sourceReady_=!1,this.rendered=!1,e.render&&(this.render=e.render),e.map&&this.setMap(e.map),this.addChangeListener(ud,this.handleSourcePropertyChange_);const n=e.source?e.source:null;this.setSource(n)}getLayersArray(e){return(e=e||[]).push(this),e}getLayerStatesArray(e){return(e=e||[]).push(this.getLayerState()),e}getSource(){return this.get(ud)||null}getRenderSource(){return this.getSource()}getSourceState(){const e=this.getSource();return e?e.getState():"undefined"}handleSourceChange_(){this.changed(),this.sourceReady_||"ready"!==this.getSource().getState()||(this.sourceReady_=!0,this.dispatchEvent("sourceready"))}handleSourcePropertyChange_(){this.sourceChangeKey_&&(bn(this.sourceChangeKey_),this.sourceChangeKey_=null),this.sourceReady_=!1;const e=this.getSource();e&&(this.sourceChangeKey_=yn(e,an,this.handleSourceChange_,this),"ready"===e.getState()&&(this.sourceReady_=!0,setTimeout(()=>{this.dispatchEvent("sourceready")},0))),this.changed()}getFeatures(e){return this.renderer_?this.renderer_.getFeatures(e):Promise.resolve([])}getData(e){return this.renderer_&&this.rendered?this.renderer_.getData(e):null}isVisible(e){let t;const n=this.getMapInternal();let i;if(!e&&n&&(e=n.getView()),t=e instanceof Jh?{viewState:e.getState(),extent:e.calculateExtent()}:e,!t.layerStatesArray&&n&&(t.layerStatesArray=n.getLayerGroup().getLayerStatesArray()),t.layerStatesArray){if(i=t.layerStatesArray.find(e=>e.layer===this),!i)return!1}else i=this.getLayerState();const r=this.getExtent();return fd(i,t.viewState)&&(!r||Xi(r,t.extent))}getAttributions(e){if(!this.isVisible(e))return[];const t=this.getSource()?.getAttributions();if(!t)return[];let n=t(e instanceof Jh?e.getViewStateAndExtent():e);return Array.isArray(n)||(n=[n]),n}render(e,t){const n=this.getRenderer();return n.prepareFrame(e)?(this.rendered=!0,n.renderFrame(e,t)):null}unrender(){this.rendered=!1}getDeclutter(){}renderDeclutter(e,t){}renderDeferred(e){const t=this.getRenderer();t&&t.renderDeferred(e)}setMapInternal(e){e||this.unrender(),this.set(hd,e)}getMapInternal(){return this.get(hd)}setMap(e){this.mapPrecomposeKey_&&(bn(this.mapPrecomposeKey_),this.mapPrecomposeKey_=null),e||this.changed(),this.mapRenderKey_&&(bn(this.mapRenderKey_),this.mapRenderKey_=null),e&&(this.mapPrecomposeKey_=yn(e,Sa,this.handlePrecompose_,this),this.mapRenderKey_=yn(this,an,e.render,e),this.changed())}handlePrecompose_(e){const t=e.frameState.layerStatesArray,n=this.getLayerState(!1);ai(!t.some(e=>e.layer===n.layer),"A layer can only be added to the map once. Use either `layer.setMap()` or `map.addLayer()`, not both."),t.push(n)}setSource(e){this.set(ud,e)}getRenderer(){return this.renderer_||(this.renderer_=this.createRenderer()),this.renderer_}hasRenderer(){return!!this.renderer_}createRenderer(){return null}clearRenderer(){this.renderer_&&(this.renderer_.dispose(),delete this.renderer_)}disposeInternal(){this.clearRenderer(),this.setSource(null),super.disposeInternal()}}function fd(e,t){if(!e.visible)return!1;const n=t.resolution;if(n<e.minResolution||n>=e.maxResolution)return!1;const i=t.zoom;return i>e.minZoom&&i<=e.maxZoom}const gd="renderOrder";class md extends pd{constructor(e){e=e||{};const t=Object.assign({},e);delete t.style,delete t.renderBuffer,delete t.updateWhileAnimating,delete t.updateWhileInteracting,super(t),this.declutter_=e.declutter?String(e.declutter):void 0,this.renderBuffer_=void 0!==e.renderBuffer?e.renderBuffer:100,this.style_=null,this.styleFunction_=void 0,this.setStyle(e.style),this.updateWhileAnimating_=void 0!==e.updateWhileAnimating&&e.updateWhileAnimating,this.updateWhileInteracting_=void 0!==e.updateWhileInteracting&&e.updateWhileInteracting}getDeclutter(){return this.declutter_}getFeatures(e){return super.getFeatures(e)}getRenderBuffer(){return this.renderBuffer_}getRenderOrder(){return this.get(gd)}getStyle(){return this.style_}getStyleFunction(){return this.styleFunction_}getUpdateWhileAnimating(){return this.updateWhileAnimating_}getUpdateWhileInteracting(){return this.updateWhileInteracting_}renderDeclutter(e,t){const n=this.getDeclutter();n in e.declutter==!1&&(e.declutter[n]=new Hs(9)),this.getRenderer().renderDeclutter(e,t)}setRenderOrder(e){this.set(gd,e)}setStyle(e){this.style_=void 0===e?Tc:e;const t=function(e){if(void 0===e)return Tc;if(!e)return null;if("function"==typeof e)return e;if(e instanceof Cc)return e;if(!Array.isArray(e))return _h([e]);if(0===e.length)return[];const t=e.length,n=e[0];if(n instanceof Cc){const n=new Array(t);for(let i=0;i<t;++i){const t=e[i];if(!(t instanceof Cc))throw new Error("Expected a list of style instances");n[i]=t}return n}if("style"in n){const n=new Array(t);for(let i=0;i<t;++i){const t=e[i];if(!("style"in t))throw new Error("Expected a list of rules with a style property");n[i]=t}return vh(n)}const i=e;return _h(i)}(e);this.styleFunction_=null===e?void 0:function(e){let t;if("function"==typeof e)t=e;else{let n;Array.isArray(e)?n=e:(ai("function"==typeof e.getZIndex,"Expected an `Style` or an array of `Style`"),n=[e]),t=function(){return n}}return t}(t),this.changed()}setDeclutter(e){this.declutter_=e?String(e):void 0,this.changed()}}class vd extends md{constructor(e){super(e)}createRenderer(){return new Xc(this)}}function _d(e){return"string"==typeof e?e.split(/[;|]{1}/).map(e=>e.split(",")):[]}var yd={$version:8,$root:{version:{required:!0,type:"enum",values:[8]},name:{type:"string"},metadata:{type:"*"},center:{type:"array",value:"number"},centerAltitude:{type:"number"},zoom:{type:"number"},bearing:{type:"number",default:0,period:360,units:"degrees"},pitch:{type:"number",default:0,units:"degrees"},roll:{type:"number",default:0,units:"degrees"},state:{type:"state",default:{}},light:{type:"light"},sky:{type:"sky"},projection:{type:"projection"},terrain:{type:"terrain"},sources:{required:!0,type:"sources"},sprite:{type:"sprite"},glyphs:{type:"string"},transition:{type:"transition"},layers:{required:!0,type:"array",value:"layer"}},sources:{"*":{type:"source"}},source:["source_vector","source_raster","source_raster_dem","source_geojson","source_video","source_image"],source_vector:{type:{required:!0,type:"enum",values:{vector:{}}},url:{type:"string"},tiles:{type:"array",value:"string"},bounds:{type:"array",value:"number",length:4,default:[-180,-85.051129,180,85.051129]},scheme:{type:"enum",values:{xyz:{},tms:{}},default:"xyz"},minzoom:{type:"number",default:0},maxzoom:{type:"number",default:22},attribution:{type:"string"},promoteId:{type:"promoteId"},volatile:{type:"boolean",default:!1},"*":{type:"*"}},source_raster:{type:{required:!0,type:"enum",values:{raster:{}}},url:{type:"string"},tiles:{type:"array",value:"string"},bounds:{type:"array",value:"number",length:4,default:[-180,-85.051129,180,85.051129]},minzoom:{type:"number",default:0},maxzoom:{type:"number",default:22},tileSize:{type:"number",default:512,units:"pixels"},scheme:{type:"enum",values:{xyz:{},tms:{}},default:"xyz"},attribution:{type:"string"},volatile:{type:"boolean",default:!1},"*":{type:"*"}},source_raster_dem:{type:{required:!0,type:"enum",values:{"raster-dem":{}}},url:{type:"string"},tiles:{type:"array",value:"string"},bounds:{type:"array",value:"number",length:4,default:[-180,-85.051129,180,85.051129]},minzoom:{type:"number",default:0},maxzoom:{type:"number",default:22},tileSize:{type:"number",default:512,units:"pixels"},attribution:{type:"string"},encoding:{type:"enum",values:{terrarium:{},mapbox:{},custom:{}},default:"mapbox"},redFactor:{type:"number",default:1},blueFactor:{type:"number",default:1},greenFactor:{type:"number",default:1},baseShift:{type:"number",default:0},volatile:{type:"boolean",default:!1},"*":{type:"*"}},source_geojson:{type:{required:!0,type:"enum",values:{geojson:{}}},data:{required:!0,type:"*"},maxzoom:{type:"number",default:18},attribution:{type:"string"},buffer:{type:"number",default:128,maximum:512,minimum:0},filter:{type:"*"},tolerance:{type:"number",default:.375},cluster:{type:"boolean",default:!1},clusterRadius:{type:"number",default:50,minimum:0},clusterMaxZoom:{type:"number"},clusterMinPoints:{type:"number"},clusterProperties:{type:"*"},lineMetrics:{type:"boolean",default:!1},generateId:{type:"boolean",default:!1},promoteId:{type:"promoteId"}},source_video:{type:{required:!0,type:"enum",values:{video:{}}},urls:{required:!0,type:"array",value:"string"},coordinates:{required:!0,type:"array",length:4,value:{type:"array",length:2,value:"number"}}},source_image:{type:{required:!0,type:"enum",values:{image:{}}},url:{required:!0,type:"string"},coordinates:{required:!0,type:"array",length:4,value:{type:"array",length:2,value:"number"}}},layer:{id:{type:"string",required:!0},type:{type:"enum",values:{fill:{},line:{},symbol:{},circle:{},heatmap:{},"fill-extrusion":{},raster:{},hillshade:{},"color-relief":{},background:{}},required:!0},metadata:{type:"*"},source:{type:"string"},"source-layer":{type:"string"},minzoom:{type:"number",minimum:0,maximum:24},maxzoom:{type:"number",minimum:0,maximum:24},filter:{type:"filter"},layout:{type:"layout"},paint:{type:"paint"}},layout:["layout_fill","layout_line","layout_circle","layout_heatmap","layout_fill-extrusion","layout_symbol","layout_raster","layout_hillshade","layout_color-relief","layout_background"],layout_background:{visibility:{type:"enum",values:{visible:{},none:{}},default:"visible","property-type":"constant"}},layout_fill:{"fill-sort-key":{type:"number",expression:{interpolated:!1,parameters:["zoom","feature"]},"property-type":"data-driven"},visibility:{type:"enum",values:{visible:{},none:{}},default:"visible","property-type":"constant"}},layout_circle:{"circle-sort-key":{type:"number",expression:{interpolated:!1,parameters:["zoom","feature"]},"property-type":"data-driven"},visibility:{type:"enum",values:{visible:{},none:{}},default:"visible","property-type":"constant"}},layout_heatmap:{visibility:{type:"enum",values:{visible:{},none:{}},default:"visible","property-type":"constant"}},"layout_fill-extrusion":{visibility:{type:"enum",values:{visible:{},none:{}},default:"visible","property-type":"constant"}},layout_line:{"line-cap":{type:"enum",values:{butt:{},round:{},square:{}},default:"butt",expression:{interpolated:!1,parameters:["zoom"]},"property-type":"data-constant"},"line-join":{type:"enum",values:{bevel:{},round:{},miter:{}},default:"miter",expression:{interpolated:!1,parameters:["zoom","feature"]},"property-type":"data-driven"},"line-miter-limit":{type:"number",default:2,requires:[{"line-join":"miter"}],expression:{interpolated:!0,parameters:["zoom"]},"property-type":"data-constant"},"line-round-limit":{type:"number",default:1.05,requires:[{"line-join":"round"}],expression:{interpolated:!0,parameters:["zoom"]},"property-type":"data-constant"},"line-sort-key":{type:"number",expression:{interpolated:!1,parameters:["zoom","feature"]},"property-type":"data-driven"},visibility:{type:"enum",values:{visible:{},none:{}},default:"visible","property-type":"constant"}},layout_symbol:{"symbol-placement":{type:"enum",values:{point:{},line:{},"line-center":{}},default:"point",expression:{interpolated:!1,parameters:["zoom"]},"property-type":"data-constant"},"symbol-spacing":{type:"number",default:250,minimum:1,units:"pixels",requires:[{"symbol-placement":"line"}],expression:{interpolated:!0,parameters:["zoom"]},"property-type":"data-constant"},"symbol-avoid-edges":{type:"boolean",default:!1,expression:{interpolated:!1,parameters:["zoom"]},"property-type":"data-constant"},"symbol-sort-key":{type:"number",expression:{interpolated:!1,parameters:["zoom","feature"]},"property-type":"data-driven"},"symbol-z-order":{type:"enum",values:{auto:{},"viewport-y":{},source:{}},default:"auto",expression:{interpolated:!1,parameters:["zoom"]},"property-type":"data-constant"},"icon-allow-overlap":{type:"boolean",default:!1,requires:["icon-image",{"!":"icon-overlap"}],expression:{interpolated:!1,parameters:["zoom"]},"property-type":"data-constant"},"icon-overlap":{type:"enum",values:{never:{},always:{},cooperative:{}},requires:["icon-image"],expression:{interpolated:!1,parameters:["zoom"]},"property-type":"data-constant"},"icon-ignore-placement":{type:"boolean",default:!1,requires:["icon-image"],expression:{interpolated:!1,parameters:["zoom"]},"property-type":"data-constant"},"icon-optional":{type:"boolean",default:!1,requires:["icon-image","text-field"],expression:{interpolated:!1,parameters:["zoom"]},"property-type":"data-constant"},"icon-rotation-alignment":{type:"enum",values:{map:{},viewport:{},auto:{}},default:"auto",requires:["icon-image"],expression:{interpolated:!1,parameters:["zoom"]},"property-type":"data-constant"},"icon-size":{type:"number",default:1,minimum:0,units:"factor of the original icon size",requires:["icon-image"],expression:{interpolated:!0,parameters:["zoom","feature"]},"property-type":"data-driven"},"icon-text-fit":{type:"enum",values:{none:{},width:{},height:{},both:{}},default:"none",requires:["icon-image","text-field"],expression:{interpolated:!1,parameters:["zoom"]},"property-type":"data-constant"},"icon-text-fit-padding":{type:"array",value:"number",length:4,default:[0,0,0,0],units:"pixels",requires:["icon-image","text-field",{"icon-text-fit":["both","width","height"]}],expression:{interpolated:!0,parameters:["zoom"]},"property-type":"data-constant"},"icon-image":{type:"resolvedImage",tokens:!0,expression:{interpolated:!1,parameters:["zoom","feature"]},"property-type":"data-driven"},"icon-rotate":{type:"number",default:0,period:360,units:"degrees",requires:["icon-image"],expression:{interpolated:!0,parameters:["zoom","feature"]},"property-type":"data-driven"},"icon-padding":{type:"padding",default:[2],units:"pixels",requires:["icon-image"],expression:{interpolated:!0,parameters:["zoom","feature"]},"property-type":"data-driven"},"icon-keep-upright":{type:"boolean",default:!1,requires:["icon-image",{"icon-rotation-alignment":"map"},{"symbol-placement":["line","line-center"]}],expression:{interpolated:!1,parameters:["zoom"]},"property-type":"data-constant"},"icon-offset":{type:"array",value:"number",length:2,default:[0,0],requires:["icon-image"],expression:{interpolated:!0,parameters:["zoom","feature"]},"property-type":"data-driven"},"icon-anchor":{type:"enum",values:{center:{},left:{},right:{},top:{},bottom:{},"top-left":{},"top-right":{},"bottom-left":{},"bottom-right":{}},default:"center",requires:["icon-image"],expression:{interpolated:!1,parameters:["zoom","feature"]},"property-type":"data-driven"},"icon-pitch-alignment":{type:"enum",values:{map:{},viewport:{},auto:{}},default:"auto",requires:["icon-image"],expression:{interpolated:!1,parameters:["zoom"]},"property-type":"data-constant"},"text-pitch-alignment":{type:"enum",values:{map:{},viewport:{},auto:{}},default:"auto",requires:["text-field"],expression:{interpolated:!1,parameters:["zoom"]},"property-type":"data-constant"},"text-rotation-alignment":{type:"enum",values:{map:{},viewport:{},"viewport-glyph":{},auto:{}},default:"auto",requires:["text-field"],expression:{interpolated:!1,parameters:["zoom"]},"property-type":"data-constant"},"text-field":{type:"formatted",default:"",tokens:!0,expression:{interpolated:!1,parameters:["zoom","feature"]},"property-type":"data-driven"},"text-font":{type:"array",value:"string",default:["Open Sans Regular","Arial Unicode MS Regular"],requires:["text-field"],expression:{interpolated:!1,parameters:["zoom","feature"]},"property-type":"data-driven"},"text-size":{type:"number",default:16,minimum:0,units:"pixels",requires:["text-field"],expression:{interpolated:!0,parameters:["zoom","feature"]},"property-type":"data-driven"},"text-max-width":{type:"number",default:10,minimum:0,units:"ems",requires:["text-field"],expression:{interpolated:!0,parameters:["zoom","feature"]},"property-type":"data-driven"},"text-line-height":{type:"number",default:1.2,units:"ems",requires:["text-field"],expression:{interpolated:!0,parameters:["zoom"]},"property-type":"data-constant"},"text-letter-spacing":{type:"number",default:0,units:"ems",requires:["text-field"],expression:{interpolated:!0,parameters:["zoom","feature"]},"property-type":"data-driven"},"text-justify":{type:"enum",values:{auto:{},left:{},center:{},right:{}},default:"center",requires:["text-field"],expression:{interpolated:!1,parameters:["zoom","feature"]},"property-type":"data-driven"},"text-radial-offset":{type:"number",units:"ems",default:0,requires:["text-field"],"property-type":"data-driven",expression:{interpolated:!0,parameters:["zoom","feature"]}},"text-variable-anchor":{type:"array",value:"enum",values:{center:{},left:{},right:{},top:{},bottom:{},"top-left":{},"top-right":{},"bottom-left":{},"bottom-right":{}},requires:["text-field",{"symbol-placement":["point"]}],expression:{interpolated:!1,parameters:["zoom"]},"property-type":"data-constant"},"text-variable-anchor-offset":{type:"variableAnchorOffsetCollection",requires:["text-field",{"symbol-placement":["point"]}],expression:{interpolated:!0,parameters:["zoom","feature"]},"property-type":"data-driven"},"text-anchor":{type:"enum",values:{center:{},left:{},right:{},top:{},bottom:{},"top-left":{},"top-right":{},"bottom-left":{},"bottom-right":{}},default:"center",requires:["text-field",{"!":"text-variable-anchor"}],expression:{interpolated:!1,parameters:["zoom","feature"]},"property-type":"data-driven"},"text-max-angle":{type:"number",default:45,units:"degrees",requires:["text-field",{"symbol-placement":["line","line-center"]}],expression:{interpolated:!0,parameters:["zoom"]},"property-type":"data-constant"},"text-writing-mode":{type:"array",value:"enum",values:{horizontal:{},vertical:{}},requires:["text-field",{"symbol-placement":["point"]}],expression:{interpolated:!1,parameters:["zoom"]},"property-type":"data-constant"},"text-rotate":{type:"number",default:0,period:360,units:"degrees",requires:["text-field"],expression:{interpolated:!0,parameters:["zoom","feature"]},"property-type":"data-driven"},"text-padding":{type:"number",default:2,minimum:0,units:"pixels",requires:["text-field"],expression:{interpolated:!0,parameters:["zoom"]},"property-type":"data-constant"},"text-keep-upright":{type:"boolean",default:!0,requires:["text-field",{"text-rotation-alignment":"map"},{"symbol-placement":["line","line-center"]}],expression:{interpolated:!1,parameters:["zoom"]},"property-type":"data-constant"},"text-transform":{type:"enum",values:{none:{},uppercase:{},lowercase:{}},default:"none",requires:["text-field"],expression:{interpolated:!1,parameters:["zoom","feature"]},"property-type":"data-driven"},"text-offset":{type:"array",value:"number",units:"ems",length:2,default:[0,0],requires:["text-field",{"!":"text-radial-offset"}],expression:{interpolated:!0,parameters:["zoom","feature"]},"property-type":"data-driven"},"text-allow-overlap":{type:"boolean",default:!1,requires:["text-field",{"!":"text-overlap"}],expression:{interpolated:!1,parameters:["zoom"]},"property-type":"data-constant"},"text-overlap":{type:"enum",values:{never:{},always:{},cooperative:{}},requires:["text-field"],expression:{interpolated:!1,parameters:["zoom"]},"property-type":"data-constant"},"text-ignore-placement":{type:"boolean",default:!1,requires:["text-field"],expression:{interpolated:!1,parameters:["zoom"]},"property-type":"data-constant"},"text-optional":{type:"boolean",default:!1,requires:["text-field","icon-image"],expression:{interpolated:!1,parameters:["zoom"]},"property-type":"data-constant"},visibility:{type:"enum",values:{visible:{},none:{}},default:"visible","property-type":"constant"}},layout_raster:{visibility:{type:"enum",values:{visible:{},none:{}},default:"visible","property-type":"constant"}},layout_hillshade:{visibility:{type:"enum",values:{visible:{},none:{}},default:"visible","property-type":"constant"}},"layout_color-relief":{visibility:{type:"enum",values:{visible:{},none:{}},default:"visible","property-type":"constant"}},filter:{type:"array",value:"*"},filter_operator:{type:"enum",values:{"==":{},"!=":{},">":{},">=":{},"<":{},"<=":{},in:{},"!in":{},all:{},any:{},none:{},has:{},"!has":{}}},geometry_type:{type:"enum",values:{Point:{},LineString:{},Polygon:{}}},function:{expression:{type:"expression"},stops:{type:"array",value:"function_stop"},base:{type:"number",default:1,minimum:0},property:{type:"string",default:"$zoom"},type:{type:"enum",values:{identity:{},exponential:{},interval:{},categorical:{}},default:"exponential"},colorSpace:{type:"enum",values:{rgb:{},lab:{},hcl:{}},default:"rgb"},default:{type:"*",required:!1}},function_stop:{type:"array",minimum:0,maximum:24,value:["number","color"],length:2},expression:{type:"array",value:"*",minimum:1},light:{anchor:{type:"enum",default:"viewport",values:{map:{},viewport:{}},"property-type":"data-constant",transition:!1,expression:{interpolated:!1,parameters:["zoom"]}},position:{type:"array",default:[1.15,210,30],length:3,value:"number","property-type":"data-constant",transition:!0,expression:{interpolated:!0,parameters:["zoom"]}},color:{type:"color","property-type":"data-constant",default:"#ffffff",expression:{interpolated:!0,parameters:["zoom"]},transition:!0},intensity:{type:"number","property-type":"data-constant",default:.5,minimum:0,maximum:1,expression:{interpolated:!0,parameters:["zoom"]},transition:!0}},sky:{"sky-color":{type:"color","property-type":"data-constant",default:"#88C6FC",expression:{interpolated:!0,parameters:["zoom"]},transition:!0},"horizon-color":{type:"color","property-type":"data-constant",default:"#ffffff",expression:{interpolated:!0,parameters:["zoom"]},transition:!0},"fog-color":{type:"color","property-type":"data-constant",default:"#ffffff",expression:{interpolated:!0,parameters:["zoom"]},transition:!0},"fog-ground-blend":{type:"number","property-type":"data-constant",default:.5,minimum:0,maximum:1,expression:{interpolated:!0,parameters:["zoom"]},transition:!0},"horizon-fog-blend":{type:"number","property-type":"data-constant",default:.8,minimum:0,maximum:1,expression:{interpolated:!0,parameters:["zoom"]},transition:!0},"sky-horizon-blend":{type:"number","property-type":"data-constant",default:.8,minimum:0,maximum:1,expression:{interpolated:!0,parameters:["zoom"]},transition:!0},"atmosphere-blend":{type:"number","property-type":"data-constant",default:.8,minimum:0,maximum:1,expression:{interpolated:!0,parameters:["zoom"]},transition:!0}},terrain:{source:{type:"string",required:!0},exaggeration:{type:"number",minimum:0,default:1}},projection:{type:{type:"projectionDefinition",default:"mercator","property-type":"data-constant",transition:!1,expression:{interpolated:!0,parameters:["zoom"]}}},paint:["paint_fill","paint_line","paint_circle","paint_heatmap","paint_fill-extrusion","paint_symbol","paint_raster","paint_hillshade","paint_color-relief","paint_background"],paint_fill:{"fill-antialias":{type:"boolean",default:!0,expression:{interpolated:!1,parameters:["zoom"]},"property-type":"data-constant"},"fill-opacity":{type:"number",default:1,minimum:0,maximum:1,transition:!0,expression:{interpolated:!0,parameters:["zoom","feature","feature-state"]},"property-type":"data-driven"},"fill-color":{type:"color",default:"#000000",transition:!0,requires:[{"!":"fill-pattern"}],expression:{interpolated:!0,parameters:["zoom","feature","feature-state"]},"property-type":"data-driven"},"fill-outline-color":{type:"color",transition:!0,requires:[{"!":"fill-pattern"},{"fill-antialias":!0}],expression:{interpolated:!0,parameters:["zoom","feature","feature-state"]},"property-type":"data-driven"},"fill-translate":{type:"array",value:"number",length:2,default:[0,0],transition:!0,units:"pixels",expression:{interpolated:!0,parameters:["zoom"]},"property-type":"data-constant"},"fill-translate-anchor":{type:"enum",values:{map:{},viewport:{}},default:"map",requires:["fill-translate"],expression:{interpolated:!1,parameters:["zoom"]},"property-type":"data-constant"},"fill-pattern":{type:"resolvedImage",transition:!0,expression:{interpolated:!1,parameters:["zoom","feature"]},"property-type":"cross-faded-data-driven"}},"paint_fill-extrusion":{"fill-extrusion-opacity":{type:"number",default:1,minimum:0,maximum:1,transition:!0,expression:{interpolated:!0,parameters:["zoom"]},"property-type":"data-constant"},"fill-extrusion-color":{type:"color",default:"#000000",transition:!0,requires:[{"!":"fill-extrusion-pattern"}],expression:{interpolated:!0,parameters:["zoom","feature","feature-state"]},"property-type":"data-driven"},"fill-extrusion-translate":{type:"array",value:"number",length:2,default:[0,0],transition:!0,units:"pixels",expression:{interpolated:!0,parameters:["zoom"]},"property-type":"data-constant"},"fill-extrusion-translate-anchor":{type:"enum",values:{map:{},viewport:{}},default:"map",requires:["fill-extrusion-translate"],expression:{interpolated:!1,parameters:["zoom"]},"property-type":"data-constant"},"fill-extrusion-pattern":{type:"resolvedImage",transition:!0,expression:{interpolated:!1,parameters:["zoom","feature"]},"property-type":"cross-faded-data-driven"},"fill-extrusion-height":{type:"number",default:0,minimum:0,units:"meters",transition:!0,expression:{interpolated:!0,parameters:["zoom","feature","feature-state"]},"property-type":"data-driven"},"fill-extrusion-base":{type:"number",default:0,minimum:0,units:"meters",transition:!0,requires:["fill-extrusion-height"],expression:{interpolated:!0,parameters:["zoom","feature","feature-state"]},"property-type":"data-driven"},"fill-extrusion-vertical-gradient":{type:"boolean",default:!0,transition:!1,expression:{interpolated:!1,parameters:["zoom"]},"property-type":"data-constant"}},paint_line:{"line-opacity":{type:"number",default:1,minimum:0,maximum:1,transition:!0,expression:{interpolated:!0,parameters:["zoom","feature","feature-state"]},"property-type":"data-driven"},"line-color":{type:"color",default:"#000000",transition:!0,requires:[{"!":"line-pattern"}],expression:{interpolated:!0,parameters:["zoom","feature","feature-state"]},"property-type":"data-driven"},"line-translate":{type:"array",value:"number",length:2,default:[0,0],transition:!0,units:"pixels",expression:{interpolated:!0,parameters:["zoom"]},"property-type":"data-constant"},"line-translate-anchor":{type:"enum",values:{map:{},viewport:{}},default:"map",requires:["line-translate"],expression:{interpolated:!1,parameters:["zoom"]},"property-type":"data-constant"},"line-width":{type:"number",default:1,minimum:0,transition:!0,units:"pixels",expression:{interpolated:!0,parameters:["zoom","feature","feature-state"]},"property-type":"data-driven"},"line-gap-width":{type:"number",default:0,minimum:0,transition:!0,units:"pixels",expression:{interpolated:!0,parameters:["zoom","feature","feature-state"]},"property-type":"data-driven"},"line-offset":{type:"number",default:0,transition:!0,units:"pixels",expression:{interpolated:!0,parameters:["zoom","feature","feature-state"]},"property-type":"data-driven"},"line-blur":{type:"number",default:0,minimum:0,transition:!0,units:"pixels",expression:{interpolated:!0,parameters:["zoom","feature","feature-state"]},"property-type":"data-driven"},"line-dasharray":{type:"array",value:"number",minimum:0,transition:!0,units:"line widths",requires:[{"!":"line-pattern"}],expression:{interpolated:!1,parameters:["zoom"]},"property-type":"cross-faded"},"line-pattern":{type:"resolvedImage",transition:!0,expression:{interpolated:!1,parameters:["zoom","feature"]},"property-type":"cross-faded-data-driven"},"line-gradient":{type:"color",transition:!1,requires:[{"!":"line-dasharray"},{"!":"line-pattern"},{source:"geojson",has:{lineMetrics:!0}}],expression:{interpolated:!0,parameters:["line-progress"]},"property-type":"color-ramp"}},paint_circle:{"circle-radius":{type:"number",default:5,minimum:0,transition:!0,units:"pixels",expression:{interpolated:!0,parameters:["zoom","feature","feature-state"]},"property-type":"data-driven"},"circle-color":{type:"color",default:"#000000",transition:!0,expression:{interpolated:!0,parameters:["zoom","feature","feature-state"]},"property-type":"data-driven"},"circle-blur":{type:"number",default:0,transition:!0,expression:{interpolated:!0,parameters:["zoom","feature","feature-state"]},"property-type":"data-driven"},"circle-opacity":{type:"number",default:1,minimum:0,maximum:1,transition:!0,expression:{interpolated:!0,parameters:["zoom","feature","feature-state"]},"property-type":"data-driven"},"circle-translate":{type:"array",value:"number",length:2,default:[0,0],transition:!0,units:"pixels",expression:{interpolated:!0,parameters:["zoom"]},"property-type":"data-constant"},"circle-translate-anchor":{type:"enum",values:{map:{},viewport:{}},default:"map",requires:["circle-translate"],expression:{interpolated:!1,parameters:["zoom"]},"property-type":"data-constant"},"circle-pitch-scale":{type:"enum",values:{map:{},viewport:{}},default:"map",expression:{interpolated:!1,parameters:["zoom"]},"property-type":"data-constant"},"circle-pitch-alignment":{type:"enum",values:{map:{},viewport:{}},default:"viewport",expression:{interpolated:!1,parameters:["zoom"]},"property-type":"data-constant"},"circle-stroke-width":{type:"number",default:0,minimum:0,transition:!0,units:"pixels",expression:{interpolated:!0,parameters:["zoom","feature","feature-state"]},"property-type":"data-driven"},"circle-stroke-color":{type:"color",default:"#000000",transition:!0,expression:{interpolated:!0,parameters:["zoom","feature","feature-state"]},"property-type":"data-driven"},"circle-stroke-opacity":{type:"number",default:1,minimum:0,maximum:1,transition:!0,expression:{interpolated:!0,parameters:["zoom","feature","feature-state"]},"property-type":"data-driven"}},paint_heatmap:{"heatmap-radius":{type:"number",default:30,minimum:1,transition:!0,units:"pixels",expression:{interpolated:!0,parameters:["zoom","feature","feature-state"]},"property-type":"data-driven"},"heatmap-weight":{type:"number",default:1,minimum:0,transition:!1,expression:{interpolated:!0,parameters:["zoom","feature","feature-state"]},"property-type":"data-driven"},"heatmap-intensity":{type:"number",default:1,minimum:0,transition:!0,expression:{interpolated:!0,parameters:["zoom"]},"property-type":"data-constant"},"heatmap-color":{type:"color",default:["interpolate",["linear"],["heatmap-density"],0,"rgba(0, 0, 255, 0)",.1,"royalblue",.3,"cyan",.5,"lime",.7,"yellow",1,"red"],transition:!1,expression:{interpolated:!0,parameters:["heatmap-density"]},"property-type":"color-ramp"},"heatmap-opacity":{type:"number",default:1,minimum:0,maximum:1,transition:!0,expression:{interpolated:!0,parameters:["zoom"]},"property-type":"data-constant"}},paint_symbol:{"icon-opacity":{type:"number",default:1,minimum:0,maximum:1,transition:!0,requires:["icon-image"],expression:{interpolated:!0,parameters:["zoom","feature","feature-state"]},"property-type":"data-driven"},"icon-color":{type:"color",default:"#000000",transition:!0,requires:["icon-image"],expression:{interpolated:!0,parameters:["zoom","feature","feature-state"]},"property-type":"data-driven"},"icon-halo-color":{type:"color",default:"rgba(0, 0, 0, 0)",transition:!0,requires:["icon-image"],expression:{interpolated:!0,parameters:["zoom","feature","feature-state"]},"property-type":"data-driven"},"icon-halo-width":{type:"number",default:0,minimum:0,transition:!0,units:"pixels",requires:["icon-image"],expression:{interpolated:!0,parameters:["zoom","feature","feature-state"]},"property-type":"data-driven"},"icon-halo-blur":{type:"number",default:0,minimum:0,transition:!0,units:"pixels",requires:["icon-image"],expression:{interpolated:!0,parameters:["zoom","feature","feature-state"]},"property-type":"data-driven"},"icon-translate":{type:"array",value:"number",length:2,default:[0,0],transition:!0,units:"pixels",requires:["icon-image"],expression:{interpolated:!0,parameters:["zoom"]},"property-type":"data-constant"},"icon-translate-anchor":{type:"enum",values:{map:{},viewport:{}},default:"map",requires:["icon-image","icon-translate"],expression:{interpolated:!1,parameters:["zoom"]},"property-type":"data-constant"},"text-opacity":{type:"number",default:1,minimum:0,maximum:1,transition:!0,requires:["text-field"],expression:{interpolated:!0,parameters:["zoom","feature","feature-state"]},"property-type":"data-driven"},"text-color":{type:"color",default:"#000000",transition:!0,overridable:!0,requires:["text-field"],expression:{interpolated:!0,parameters:["zoom","feature","feature-state"]},"property-type":"data-driven"},"text-halo-color":{type:"color",default:"rgba(0, 0, 0, 0)",transition:!0,requires:["text-field"],expression:{interpolated:!0,parameters:["zoom","feature","feature-state"]},"property-type":"data-driven"},"text-halo-width":{type:"number",default:0,minimum:0,transition:!0,units:"pixels",requires:["text-field"],expression:{interpolated:!0,parameters:["zoom","feature","feature-state"]},"property-type":"data-driven"},"text-halo-blur":{type:"number",default:0,minimum:0,transition:!0,units:"pixels",requires:["text-field"],expression:{interpolated:!0,parameters:["zoom","feature","feature-state"]},"property-type":"data-driven"},"text-translate":{type:"array",value:"number",length:2,default:[0,0],transition:!0,units:"pixels",requires:["text-field"],expression:{interpolated:!0,parameters:["zoom"]},"property-type":"data-constant"},"text-translate-anchor":{type:"enum",values:{map:{},viewport:{}},default:"map",requires:["text-field","text-translate"],expression:{interpolated:!1,parameters:["zoom"]},"property-type":"data-constant"}},paint_raster:{"raster-opacity":{type:"number",default:1,minimum:0,maximum:1,transition:!0,expression:{interpolated:!0,parameters:["zoom"]},"property-type":"data-constant"},"raster-hue-rotate":{type:"number",default:0,period:360,transition:!0,units:"degrees",expression:{interpolated:!0,parameters:["zoom"]},"property-type":"data-constant"},"raster-brightness-min":{type:"number",default:0,minimum:0,maximum:1,transition:!0,expression:{interpolated:!0,parameters:["zoom"]},"property-type":"data-constant"},"raster-brightness-max":{type:"number",default:1,minimum:0,maximum:1,transition:!0,expression:{interpolated:!0,parameters:["zoom"]},"property-type":"data-constant"},"raster-saturation":{type:"number",default:0,minimum:-1,maximum:1,transition:!0,expression:{interpolated:!0,parameters:["zoom"]},"property-type":"data-constant"},"raster-contrast":{type:"number",default:0,minimum:-1,maximum:1,transition:!0,expression:{interpolated:!0,parameters:["zoom"]},"property-type":"data-constant"},"raster-resampling":{type:"enum",values:{linear:{},nearest:{}},default:"linear",expression:{interpolated:!1,parameters:["zoom"]},"property-type":"data-constant"},"raster-fade-duration":{type:"number",default:300,minimum:0,transition:!1,units:"milliseconds",expression:{interpolated:!0,parameters:["zoom"]},"property-type":"data-constant"}},paint_hillshade:{"hillshade-illumination-direction":{type:"numberArray",default:335,minimum:0,maximum:359,transition:!1,expression:{interpolated:!0,parameters:["zoom"]},"property-type":"data-constant"},"hillshade-illumination-altitude":{type:"numberArray",default:45,minimum:0,maximum:90,transition:!1,expression:{interpolated:!0,parameters:["zoom"]},"property-type":"data-constant"},"hillshade-illumination-anchor":{type:"enum",values:{map:{},viewport:{}},default:"viewport",expression:{interpolated:!1,parameters:["zoom"]},"property-type":"data-constant"},"hillshade-exaggeration":{type:"number",default:.5,minimum:0,maximum:1,transition:!0,expression:{interpolated:!0,parameters:["zoom"]},"property-type":"data-constant"},"hillshade-shadow-color":{type:"colorArray",default:"#000000",transition:!0,expression:{interpolated:!0,parameters:["zoom"]},"property-type":"data-constant"},"hillshade-highlight-color":{type:"colorArray",default:"#FFFFFF",transition:!0,expression:{interpolated:!0,parameters:["zoom"]},"property-type":"data-constant"},"hillshade-accent-color":{type:"color",default:"#000000",transition:!0,expression:{interpolated:!0,parameters:["zoom"]},"property-type":"data-constant"},"hillshade-method":{type:"enum",values:{standard:{},basic:{},combined:{},igor:{},multidirectional:{}},default:"standard",expression:{interpolated:!1,parameters:["zoom"]},"property-type":"data-constant"}},"paint_color-relief":{"color-relief-opacity":{type:"number",default:1,minimum:0,maximum:1,transition:!0,expression:{interpolated:!0,parameters:["zoom"]},"property-type":"data-constant"},"color-relief-color":{type:"color",transition:!1,expression:{interpolated:!0,parameters:["elevation"]},"property-type":"color-ramp"}},paint_background:{"background-color":{type:"color",default:"#000000",transition:!0,requires:[{"!":"background-pattern"}],expression:{interpolated:!0,parameters:["zoom"]},"property-type":"data-constant"},"background-pattern":{type:"resolvedImage",transition:!0,expression:{interpolated:!1,parameters:["zoom"]},"property-type":"cross-faded"},"background-opacity":{type:"number",default:1,minimum:0,maximum:1,transition:!0,expression:{interpolated:!0,parameters:["zoom"]},"property-type":"data-constant"}},transition:{duration:{type:"number",default:300,minimum:0,units:"milliseconds"},delay:{type:"number",default:0,minimum:0,units:"milliseconds"}},"property-type":{"data-driven":{type:"property-type"},"cross-faded":{type:"property-type"},"cross-faded-data-driven":{type:"property-type"},"color-ramp":{type:"property-type"},"data-constant":{type:"property-type"},constant:{type:"property-type"}},promoteId:{"*":{type:"string"}}};const xd=["type","source","source-layer","minzoom","maxzoom","filter","layout"];function bd(e,t){const n={};for(const i in e)"ref"!==i&&(n[i]=e[i]);return xd.forEach(e=>{e in t&&(n[e]=t[e])}),n}function wd(e){e=e.slice();const t=Object.create(null);for(let n=0;n<e.length;n++)t[e[n].id]=e[n];for(let n=0;n<e.length;n++)"ref"in e[n]&&(e[n]=bd(e[n],t[e[n].ref]));return e}class kd extends Error{constructor(e,t){super(t),this.message=t,this.key=e}}class Sd{constructor(e,t=[]){this.parent=e,this.bindings={};for(const[n,i]of t)this.bindings[n]=i}concat(e){return new Sd(this,e)}get(e){if(this.bindings[e])return this.bindings[e];if(this.parent)return this.parent.get(e);throw new Error(`${e} not found in scope.`)}has(e){return!!this.bindings[e]||!!this.parent&&this.parent.has(e)}}const Cd={kind:"null"},Ed={kind:"number"},Td={kind:"string"},Rd={kind:"boolean"},Md={kind:"color"},Id={kind:"projectionDefinition"},Ad={kind:"object"},Pd={kind:"value"},Fd={kind:"collator"},Ld={kind:"formatted"},zd={kind:"padding"},Od={kind:"colorArray"},Dd={kind:"numberArray"},jd={kind:"resolvedImage"},Nd={kind:"variableAnchorOffsetCollection"};function $d(e,t){return{kind:"array",itemType:e,N:t}}function Bd(e){if("array"===e.kind){const t=Bd(e.itemType);return"number"==typeof e.N?`array<${t}, ${e.N}>`:"value"===e.itemType.kind?"array":`array<${t}>`}return e.kind}const Gd=[Cd,Ed,Td,Rd,Md,Id,Ld,Ad,$d(Pd),zd,Dd,Od,jd,Nd];function qd(e,t){if("error"===t.kind)return null;if("array"===e.kind){if("array"===t.kind&&(0===t.N&&"value"===t.itemType.kind||!qd(e.itemType,t.itemType))&&("number"!=typeof e.N||e.N===t.N))return null}else{if(e.kind===t.kind)return null;if("value"===e.kind)for(const e of Gd)if(!qd(e,t))return null}return`Expected ${Bd(e)} but found ${Bd(t)} instead.`}function Wd(e,t){return t.some(t=>t.kind===e.kind)}function Xd(e,t){return t.some(t=>"null"===t?null===e:"array"===t?Array.isArray(e):"object"===t?e&&!Array.isArray(e)&&"object"==typeof e:t===typeof e)}function Ud(e,t){return"array"===e.kind&&"array"===t.kind?e.itemType.kind===t.itemType.kind&&"number"==typeof e.N:e.kind===t.kind}const Hd=.96422,Vd=.82521,Yd=4/29,Zd=6/29,Kd=3*Zd*Zd,Jd=Zd*Zd*Zd,Qd=Math.PI/180,ep=180/Math.PI;function tp(e){return(e%=360)<0&&(e+=360),e}function np([e,t,n,i]){let r,o;const s=rp((.2225045*(e=ip(e))+.7168786*(t=ip(t))+.0606169*(n=ip(n)))/1);e===t&&t===n?r=o=s:(r=rp((.4360747*e+.3850649*t+.1430804*n)/Hd),o=rp((.0139322*e+.0971045*t+.7141733*n)/Vd));const a=116*s-16;return[a<0?0:a,500*(r-s),200*(s-o),i]}function ip(e){return e<=.04045?e/12.92:Math.pow((e+.055)/1.055,2.4)}function rp(e){return e>Jd?Math.pow(e,1/3):e/Kd+Yd}function op([e,t,n,i]){let r=(e+16)/116,o=isNaN(t)?r:r+t/500,s=isNaN(n)?r:r-n/200;return r=1*ap(r),o=Hd*ap(o),s=Vd*ap(s),[sp(3.1338561*o-1.6168667*r-.4906146*s),sp(-.9787684*o+1.9161415*r+.033454*s),sp(.0719453*o-.2289914*r+1.4052427*s),i]}function sp(e){return(e=e<=.00304?12.92*e:1.055*Math.pow(e,1/2.4)-.055)<0?0:e>1?1:e}function ap(e){return e>Zd?e*e*e:Kd*(e-Yd)}const lp=Object.hasOwn||function(e,t){return Object.prototype.hasOwnProperty.call(e,t)};function cp(e,t){return lp(e,t)?e[t]:void 0}function up(e){if("transparent"===(e=e.toLowerCase().trim()))return[0,0,0,0];const t=cp(gp,e);if(t){const[e,n,i]=t;return[e/255,n/255,i/255,1]}if(e.startsWith("#")){if(/^#(?:[0-9a-f]{3,4}|[0-9a-f]{6}|[0-9a-f]{8})$/.test(e)){const t=e.length<6?1:2;let n=1;return[hp(e.slice(n,n+=t)),hp(e.slice(n,n+=t)),hp(e.slice(n,n+=t)),hp(e.slice(n,n+t)||"ff")]}}if(e.startsWith("rgb")){const t=/^rgba?\(\s*([\de.+-]+)(%)?(?:\s+|\s*(,)\s*)([\de.+-]+)(%)?(?:\s+|\s*(,)\s*)([\de.+-]+)(%)?(?:\s*([,\/])\s*([\de.+-]+)(%)?)?\s*\)$/,n=e.match(t);if(n){const[e,t,i,r,o,s,a,l,c,u,h,d]=n,p=[r||" ",a||" ",u].join("");if("  "===p||"  /"===p||",,"===p||",,,"===p){const e=[i,s,c].join(""),n="%%%"===e?100:""===e?255:0;if(n){const e=[pp(+t/n,0,1),pp(+o/n,0,1),pp(+l/n,0,1),h?dp(+h,d):1];if(fp(e))return e}}return}}const n=e.match(/^hsla?\(\s*([\de.+-]+)(?:deg)?(?:\s+|\s*(,)\s*)([\de.+-]+)%(?:\s+|\s*(,)\s*)([\de.+-]+)%(?:\s*([,\/])\s*([\de.+-]+)(%)?)?\s*\)$/);if(n){const[e,t,i,r,o,s,a,l,c]=n,u=[i||" ",o||" ",a].join("");if("  "===u||"  /"===u||",,"===u||",,,"===u){const e=[+t,pp(+r,0,100),pp(+s,0,100),l?dp(+l,c):1];if(fp(e))return function([e,t,n,i]){function r(i){const r=(i+e/30)%12,o=t*Math.min(n,1-n);return n-o*Math.max(-1,Math.min(r-3,9-r,1))}return e=tp(e),t/=100,n/=100,[r(0),r(8),r(4),i]}(e)}}}function hp(e){return parseInt(e.padEnd(2,e),16)/255}function dp(e,t){return pp(t?e/100:e,0,1)}function pp(e,t,n){return Math.min(Math.max(t,e),n)}function fp(e){return!e.some(Number.isNaN)}const gp={aliceblue:[240,248,255],antiquewhite:[250,235,215],aqua:[0,255,255],aquamarine:[127,255,212],azure:[240,255,255],beige:[245,245,220],bisque:[255,228,196],black:[0,0,0],blanchedalmond:[255,235,205],blue:[0,0,255],blueviolet:[138,43,226],brown:[165,42,42],burlywood:[222,184,135],cadetblue:[95,158,160],chartreuse:[127,255,0],chocolate:[210,105,30],coral:[255,127,80],cornflowerblue:[100,149,237],cornsilk:[255,248,220],crimson:[220,20,60],cyan:[0,255,255],darkblue:[0,0,139],darkcyan:[0,139,139],darkgoldenrod:[184,134,11],darkgray:[169,169,169],darkgreen:[0,100,0],darkgrey:[169,169,169],darkkhaki:[189,183,107],darkmagenta:[139,0,139],darkolivegreen:[85,107,47],darkorange:[255,140,0],darkorchid:[153,50,204],darkred:[139,0,0],darksalmon:[233,150,122],darkseagreen:[143,188,143],darkslateblue:[72,61,139],darkslategray:[47,79,79],darkslategrey:[47,79,79],darkturquoise:[0,206,209],darkviolet:[148,0,211],deeppink:[255,20,147],deepskyblue:[0,191,255],dimgray:[105,105,105],dimgrey:[105,105,105],dodgerblue:[30,144,255],firebrick:[178,34,34],floralwhite:[255,250,240],forestgreen:[34,139,34],fuchsia:[255,0,255],gainsboro:[220,220,220],ghostwhite:[248,248,255],gold:[255,215,0],goldenrod:[218,165,32],gray:[128,128,128],green:[0,128,0],greenyellow:[173,255,47],grey:[128,128,128],honeydew:[240,255,240],hotpink:[255,105,180],indianred:[205,92,92],indigo:[75,0,130],ivory:[255,255,240],khaki:[240,230,140],lavender:[230,230,250],lavenderblush:[255,240,245],lawngreen:[124,252,0],lemonchiffon:[255,250,205],lightblue:[173,216,230],lightcoral:[240,128,128],lightcyan:[224,255,255],lightgoldenrodyellow:[250,250,210],lightgray:[211,211,211],lightgreen:[144,238,144],lightgrey:[211,211,211],lightpink:[255,182,193],lightsalmon:[255,160,122],lightseagreen:[32,178,170],lightskyblue:[135,206,250],lightslategray:[119,136,153],lightslategrey:[119,136,153],lightsteelblue:[176,196,222],lightyellow:[255,255,224],lime:[0,255,0],limegreen:[50,205,50],linen:[250,240,230],magenta:[255,0,255],maroon:[128,0,0],mediumaquamarine:[102,205,170],mediumblue:[0,0,205],mediumorchid:[186,85,211],mediumpurple:[147,112,219],mediumseagreen:[60,179,113],mediumslateblue:[123,104,238],mediumspringgreen:[0,250,154],mediumturquoise:[72,209,204],mediumvioletred:[199,21,133],midnightblue:[25,25,112],mintcream:[245,255,250],mistyrose:[255,228,225],moccasin:[255,228,181],navajowhite:[255,222,173],navy:[0,0,128],oldlace:[253,245,230],olive:[128,128,0],olivedrab:[107,142,35],orange:[255,165,0],orangered:[255,69,0],orchid:[218,112,214],palegoldenrod:[238,232,170],palegreen:[152,251,152],paleturquoise:[175,238,238],palevioletred:[219,112,147],papayawhip:[255,239,213],peachpuff:[255,218,185],peru:[205,133,63],pink:[255,192,203],plum:[221,160,221],powderblue:[176,224,230],purple:[128,0,128],rebeccapurple:[102,51,153],red:[255,0,0],rosybrown:[188,143,143],royalblue:[65,105,225],saddlebrown:[139,69,19],salmon:[250,128,114],sandybrown:[244,164,96],seagreen:[46,139,87],seashell:[255,245,238],sienna:[160,82,45],silver:[192,192,192],skyblue:[135,206,235],slateblue:[106,90,205],slategray:[112,128,144],slategrey:[112,128,144],snow:[255,250,250],springgreen:[0,255,127],steelblue:[70,130,180],tan:[210,180,140],teal:[0,128,128],thistle:[216,191,216],tomato:[255,99,71],turquoise:[64,224,208],violet:[238,130,238],wheat:[245,222,179],white:[255,255,255],whitesmoke:[245,245,245],yellow:[255,255,0],yellowgreen:[154,205,50]};function mp(e,t,n){return e+n*(t-e)}function vp(e,t,n){return e.map((e,i)=>mp(e,t[i],n))}class _p{constructor(e,t,n,i=1,r=!0){this.r=e,this.g=t,this.b=n,this.a=i,r||(this.r*=i,this.g*=i,this.b*=i,i||this.overwriteGetter("rgb",[e,t,n,i]))}static parse(e){if(e instanceof _p)return e;if("string"!=typeof e)return;const t=up(e);return t?new _p(...t,!1):void 0}get rgb(){const{r:e,g:t,b:n,a:i}=this,r=i||1/0;return this.overwriteGetter("rgb",[e/r,t/r,n/r,i])}get hcl(){return this.overwriteGetter("hcl",function(e){const[t,n,i,r]=np(e),o=Math.sqrt(n*n+i*i);return[Math.round(1e4*o)?tp(Math.atan2(i,n)*ep):NaN,o,t,r]}(this.rgb))}get lab(){return this.overwriteGetter("lab",np(this.rgb))}overwriteGetter(e,t){return Object.defineProperty(this,e,{value:t}),t}toString(){const[e,t,n,i]=this.rgb;return`rgba(${[e,t,n].map(e=>Math.round(255*e)).join(",")},${i})`}static interpolate(e,t,n,i="rgb"){switch(i){case"rgb":{const[i,r,o,s]=vp(e.rgb,t.rgb,n);return new _p(i,r,o,s,!1)}case"hcl":{const[i,r,o,s]=e.hcl,[a,l,c,u]=t.hcl;let h,d;if(isNaN(i)||isNaN(a))isNaN(i)?isNaN(a)?h=NaN:(h=a,1!==o&&0!==o||(d=l)):(h=i,1!==c&&0!==c||(d=r));else{let e=a-i;a>i&&e>180?e-=360:a<i&&i-a>180&&(e+=360),h=i+n*e}const[p,f,g,m]=function([e,t,n,i]){return e=isNaN(e)?0:e*Qd,op([n,Math.cos(e)*t,Math.sin(e)*t,i])}([h,null!=d?d:mp(r,l,n),mp(o,c,n),mp(s,u,n)]);return new _p(p,f,g,m,!1)}case"lab":{const[i,r,o,s]=op(vp(e.lab,t.lab,n));return new _p(i,r,o,s,!1)}}}}_p.black=new _p(0,0,0,1),_p.white=new _p(1,1,1,1),_p.transparent=new _p(0,0,0,0),_p.red=new _p(1,0,0,1);class yp{constructor(e,t,n){this.sensitivity=e?t?"variant":"case":t?"accent":"base",this.locale=n,this.collator=new Intl.Collator(this.locale?this.locale:[],{sensitivity:this.sensitivity,usage:"search"})}compare(e,t){return this.collator.compare(e,t)}resolvedLocale(){return new Intl.Collator(this.locale?this.locale:[]).resolvedOptions().locale}}const xp=["bottom","center","top"];class bp{constructor(e,t,n,i,r,o){this.text=e,this.image=t,this.scale=n,this.fontStack=i,this.textColor=r,this.verticalAlign=o}}class wp{constructor(e){this.sections=e}static fromString(e){return new wp([new bp(e,null,null,null,null,null)])}isEmpty(){return 0===this.sections.length||!this.sections.some(e=>0!==e.text.length||e.image&&0!==e.image.name.length)}static factory(e){return e instanceof wp?e:wp.fromString(e)}toString(){return 0===this.sections.length?"":this.sections.map(e=>e.text).join("")}}class kp{constructor(e){this.values=e.slice()}static parse(e){if(e instanceof kp)return e;if("number"==typeof e)return new kp([e,e,e,e]);if(Array.isArray(e)&&!(e.length<1||e.length>4)){for(const t of e)if("number"!=typeof t)return;switch(e.length){case 1:e=[e[0],e[0],e[0],e[0]];break;case 2:e=[e[0],e[1],e[0],e[1]];break;case 3:e=[e[0],e[1],e[2],e[1]]}return new kp(e)}}toString(){return JSON.stringify(this.values)}static interpolate(e,t,n){return new kp(vp(e.values,t.values,n))}}class Sp{constructor(e){this.values=e.slice()}static parse(e){if(e instanceof Sp)return e;if("number"==typeof e)return new Sp([e]);if(Array.isArray(e)){for(const t of e)if("number"!=typeof t)return;return new Sp(e)}}toString(){return JSON.stringify(this.values)}static interpolate(e,t,n){return new Sp(vp(e.values,t.values,n))}}class Cp{constructor(e){this.values=e.slice()}static parse(e){if(e instanceof Cp)return e;if("string"==typeof e){const t=_p.parse(e);if(!t)return;return new Cp([t])}if(!Array.isArray(e))return;const t=[];for(const n of e){if("string"!=typeof n)return;const e=_p.parse(n);if(!e)return;t.push(e)}return new Cp(t)}toString(){return JSON.stringify(this.values)}static interpolate(e,t,n,i="rgb"){const r=[];if(e.values.length!=t.values.length)throw new Error(`colorArray: Arrays have mismatched length (${e.values.length} vs. ${t.values.length}), cannot interpolate.`);for(let o=0;o<e.values.length;o++)r.push(_p.interpolate(e.values[o],t.values[o],n,i));return new Cp(r)}}class Ep extends Error{constructor(e){super(e),this.name="RuntimeError"}toJSON(){return this.message}}const Tp=new Set(["center","left","right","top","bottom","top-left","top-right","bottom-left","bottom-right"]);class Rp{constructor(e){this.values=e.slice()}static parse(e){if(e instanceof Rp)return e;if(Array.isArray(e)&&!(e.length<1)&&e.length%2==0){for(let t=0;t<e.length;t+=2){const n=e[t],i=e[t+1];if("string"!=typeof n||!Tp.has(n))return;if(!Array.isArray(i)||2!==i.length||"number"!=typeof i[0]||"number"!=typeof i[1])return}return new Rp(e)}}toString(){return JSON.stringify(this.values)}static interpolate(e,t,n){const i=e.values,r=t.values;if(i.length!==r.length)throw new Ep(`Cannot interpolate values of different length. from: ${e.toString()}, to: ${t.toString()}`);const o=[];for(let s=0;s<i.length;s+=2){if(i[s]!==r[s])throw new Ep(`Cannot interpolate values containing mismatched anchors. from[${s}]: ${i[s]}, to[${s}]: ${r[s]}`);o.push(i[s]);const[e,t]=i[s+1],[a,l]=r[s+1];o.push([mp(e,a,n),mp(t,l,n)])}return new Rp(o)}}class Mp{constructor(e){this.name=e.name,this.available=e.available}toString(){return this.name}static fromString(e){return e?new Mp({name:e,available:!1}):null}}class Ip{constructor(e,t,n){this.from=e,this.to=t,this.transition=n}static interpolate(e,t,n){return new Ip(e,t,n)}static parse(e){return e instanceof Ip?e:Array.isArray(e)&&3===e.length&&"string"==typeof e[0]&&"string"==typeof e[1]&&"number"==typeof e[2]?new Ip(e[0],e[1],e[2]):"object"==typeof e&&"string"==typeof e.from&&"string"==typeof e.to&&"number"==typeof e.transition?new Ip(e.from,e.to,e.transition):"string"==typeof e?new Ip(e,e,1):void 0}}function Ap(e,t,n,i){if(!("number"==typeof e&&e>=0&&e<=255&&"number"==typeof t&&t>=0&&t<=255&&"number"==typeof n&&n>=0&&n<=255)){return`Invalid rgba value [${("number"==typeof i?[e,t,n,i]:[e,t,n]).join(", ")}]: 'r', 'g', and 'b' must be between 0 and 255.`}return void 0===i||"number"==typeof i&&i>=0&&i<=1?null:`Invalid rgba value [${[e,t,n,i].join(", ")}]: 'a' must be between 0 and 1.`}function Pp(e){if(null===e||"string"==typeof e||"boolean"==typeof e||"number"==typeof e||e instanceof Ip||e instanceof _p||e instanceof yp||e instanceof wp||e instanceof kp||e instanceof Sp||e instanceof Cp||e instanceof Rp||e instanceof Mp)return!0;if(Array.isArray(e)){for(const t of e)if(!Pp(t))return!1;return!0}if("object"==typeof e){for(const t in e)if(!Pp(e[t]))return!1;return!0}return!1}function Fp(e){if(null===e)return Cd;if("string"==typeof e)return Td;if("boolean"==typeof e)return Rd;if("number"==typeof e)return Ed;if(e instanceof _p)return Md;if(e instanceof Ip)return Id;if(e instanceof yp)return Fd;if(e instanceof wp)return Ld;if(e instanceof kp)return zd;if(e instanceof Sp)return Dd;if(e instanceof Cp)return Od;if(e instanceof Rp)return Nd;if(e instanceof Mp)return jd;if(Array.isArray(e)){const t=e.length;let n;for(const i of e){const e=Fp(i);if(n){if(n===e)continue;n=Pd;break}n=e}return $d(n||Pd,t)}return Ad}function Lp(e){const t=typeof e;return null===e?"":"string"===t||"number"===t||"boolean"===t?String(e):e instanceof _p||e instanceof Ip||e instanceof wp||e instanceof kp||e instanceof Sp||e instanceof Cp||e instanceof Rp||e instanceof Mp?e.toString():JSON.stringify(e)}class zp{constructor(e,t){this.type=e,this.value=t}static parse(e,t){if(2!==e.length)return t.error(`'literal' expression requires exactly one argument, but found ${e.length-1} instead.`);if(!Pp(e[1]))return t.error("invalid value");const n=e[1];let i=Fp(n);const r=t.expectedType;return"array"!==i.kind||0!==i.N||!r||"array"!==r.kind||"number"==typeof r.N&&0!==r.N||(i=r),new zp(i,n)}evaluate(){return this.value}eachChild(){}outputDefined(){return!0}}const Op={string:Td,number:Ed,boolean:Rd,object:Ad};class Dp{constructor(e,t){this.type=e,this.args=t}static parse(e,t){if(e.length<2)return t.error("Expected at least one argument.");let n,i=1;const r=e[0];if("array"===r){let r,o;if(e.length>2){const n=e[1];if("string"!=typeof n||!(n in Op)||"object"===n)return t.error('The item type argument of "array" must be one of string, number, boolean',1);r=Op[n],i++}else r=Pd;if(e.length>3){if(null!==e[2]&&("number"!=typeof e[2]||e[2]<0||e[2]!==Math.floor(e[2])))return t.error('The length argument to "array" must be a positive integer literal',2);o=e[2],i++}n=$d(r,o)}else{if(!Op[r])throw new Error(`Types doesn't contain name = ${r}`);n=Op[r]}const o=[];for(;i<e.length;i++){const n=t.parse(e[i],i,Pd);if(!n)return null;o.push(n)}return new Dp(n,o)}evaluate(e){for(let t=0;t<this.args.length;t++){const n=this.args[t].evaluate(e);if(!qd(this.type,Fp(n)))return n;if(t===this.args.length-1)throw new Ep(`Expected value to be of type ${Bd(this.type)}, but found ${Bd(Fp(n))} instead.`)}throw new Error}eachChild(e){this.args.forEach(e)}outputDefined(){return this.args.every(e=>e.outputDefined())}}const jp={"to-boolean":Rd,"to-color":Md,"to-number":Ed,"to-string":Td};class Np{constructor(e,t){this.type=e,this.args=t}static parse(e,t){if(e.length<2)return t.error("Expected at least one argument.");const n=e[0];if(!jp[n])throw new Error(`Can't parse ${n} as it is not part of the known types`);if(("to-boolean"===n||"to-string"===n)&&2!==e.length)return t.error("Expected one argument.");const i=jp[n],r=[];for(let o=1;o<e.length;o++){const n=t.parse(e[o],o,Pd);if(!n)return null;r.push(n)}return new Np(i,r)}evaluate(e){switch(this.type.kind){case"boolean":return Boolean(this.args[0].evaluate(e));case"color":{let t,n;for(const i of this.args){if(t=i.evaluate(e),n=null,t instanceof _p)return t;if("string"==typeof t){const n=e.parseColor(t);if(n)return n}else if(Array.isArray(t)&&(n=t.length<3||t.length>4?`Invalid rgba value ${JSON.stringify(t)}: expected an array containing either three or four numeric values.`:Ap(t[0],t[1],t[2],t[3]),!n))return new _p(t[0]/255,t[1]/255,t[2]/255,t[3])}throw new Ep(n||`Could not parse color from value '${"string"==typeof t?t:JSON.stringify(t)}'`)}case"padding":{let t;for(const n of this.args){t=n.evaluate(e);const i=kp.parse(t);if(i)return i}throw new Ep(`Could not parse padding from value '${"string"==typeof t?t:JSON.stringify(t)}'`)}case"numberArray":{let t;for(const n of this.args){t=n.evaluate(e);const i=Sp.parse(t);if(i)return i}throw new Ep(`Could not parse numberArray from value '${"string"==typeof t?t:JSON.stringify(t)}'`)}case"colorArray":{let t;for(const n of this.args){t=n.evaluate(e);const i=Cp.parse(t);if(i)return i}throw new Ep(`Could not parse colorArray from value '${"string"==typeof t?t:JSON.stringify(t)}'`)}case"variableAnchorOffsetCollection":{let t;for(const n of this.args){t=n.evaluate(e);const i=Rp.parse(t);if(i)return i}throw new Ep(`Could not parse variableAnchorOffsetCollection from value '${"string"==typeof t?t:JSON.stringify(t)}'`)}case"number":{let t=null;for(const n of this.args){if(t=n.evaluate(e),null===t)return 0;const i=Number(t);if(!isNaN(i))return i}throw new Ep(`Could not convert ${JSON.stringify(t)} to number.`)}case"formatted":return wp.fromString(Lp(this.args[0].evaluate(e)));case"resolvedImage":return Mp.fromString(Lp(this.args[0].evaluate(e)));case"projectionDefinition":return this.args[0].evaluate(e);default:return Lp(this.args[0].evaluate(e))}}eachChild(e){this.args.forEach(e)}outputDefined(){return this.args.every(e=>e.outputDefined())}}const $p=["Unknown","Point","LineString","Polygon"];class Bp{constructor(){this.globals=null,this.feature=null,this.featureState=null,this.formattedSection=null,this._parseColorCache=new Map,this.availableImages=null,this.canonical=null}id(){return this.feature&&"id"in this.feature?this.feature.id:null}geometryType(){return this.feature?"number"==typeof this.feature.type?$p[this.feature.type]:this.feature.type:null}geometry(){return this.feature&&"geometry"in this.feature?this.feature.geometry:null}canonicalID(){return this.canonical}properties(){return this.feature&&this.feature.properties||{}}parseColor(e){let t=this._parseColorCache.get(e);return t||(t=_p.parse(e),this._parseColorCache.set(e,t)),t}}class Gp{constructor(e,t,n=[],i,r=new Sd,o=[]){this.registry=e,this.path=n,this.key=n.map(e=>`[${e}]`).join(""),this.scope=r,this.errors=o,this.expectedType=i,this._isConstant=t}parse(e,t,n,i,r={}){return t?this.concat(t,n,i)._parse(e,r):this._parse(e,r)}_parse(e,t){function n(e,t,n){return"assert"===n?new Dp(t,[e]):"coerce"===n?new Np(t,[e]):e}if(null!==e&&"string"!=typeof e&&"boolean"!=typeof e&&"number"!=typeof e||(e=["literal",e]),Array.isArray(e)){if(0===e.length)return this.error('Expected an array with at least one element. If you wanted a literal array, use ["literal", []].');const i=e[0];if("string"!=typeof i)return this.error(`Expression name must be a string, but found ${typeof i} instead. If you wanted a literal array, use ["literal", [...]].`,0),null;const r=this.registry[i];if(r){let i=r.parse(e,this);if(!i)return null;if(this.expectedType){const e=this.expectedType,r=i.type;if("string"!==e.kind&&"number"!==e.kind&&"boolean"!==e.kind&&"object"!==e.kind&&"array"!==e.kind||"value"!==r.kind){if("projectionDefinition"===e.kind&&["string","array"].includes(r.kind)||["color","formatted","resolvedImage"].includes(e.kind)&&["value","string"].includes(r.kind)||["padding","numberArray"].includes(e.kind)&&["value","number","array"].includes(r.kind)||"colorArray"===e.kind&&["value","string","array"].includes(r.kind)||"variableAnchorOffsetCollection"===e.kind&&["value","array"].includes(r.kind))i=n(i,e,t.typeAnnotation||"coerce");else if(this.checkSubtype(e,r))return null}else i=n(i,e,t.typeAnnotation||"assert")}if(!(i instanceof zp)&&"resolvedImage"!==i.type.kind&&this._isConstant(i)){const e=new Bp;try{i=new zp(i.type,i.evaluate(e))}catch(Ze){return this.error(Ze.message),null}}return i}return this.error(`Unknown expression "${i}". If you wanted a literal array, use ["literal", [...]].`,0)}return void 0===e?this.error("'undefined' value invalid. Use null instead."):"object"==typeof e?this.error('Bare objects invalid. Use ["literal", {...}] instead.'):this.error(`Expected an array, but found ${typeof e} instead.`)}concat(e,t,n){const i="number"==typeof e?this.path.concat(e):this.path,r=n?this.scope.concat(n):this.scope;return new Gp(this.registry,this._isConstant,i,t||null,r,this.errors)}error(e,...t){const n=`${this.key}${t.map(e=>`[${e}]`).join("")}`;this.errors.push(new kd(n,e))}checkSubtype(e,t){const n=qd(e,t);return n&&this.error(n),n}}class qp{constructor(e,t){this.type=t.type,this.bindings=[].concat(e),this.result=t}evaluate(e){return this.result.evaluate(e)}eachChild(e){for(const t of this.bindings)e(t[1]);e(this.result)}static parse(e,t){if(e.length<4)return t.error(`Expected at least 3 arguments, but found ${e.length-1} instead.`);const n=[];for(let r=1;r<e.length-1;r+=2){const i=e[r];if("string"!=typeof i)return t.error(`Expected string, but found ${typeof i} instead.`,r);if(/[^a-zA-Z0-9_]/.test(i))return t.error("Variable names must contain only alphanumeric characters or '_'.",r);const o=t.parse(e[r+1],r+1);if(!o)return null;n.push([i,o])}const i=t.parse(e[e.length-1],e.length-1,t.expectedType,n);return i?new qp(n,i):null}outputDefined(){return this.result.outputDefined()}}class Wp{constructor(e,t){this.type=t.type,this.name=e,this.boundExpression=t}static parse(e,t){if(2!==e.length||"string"!=typeof e[1])return t.error("'var' expression requires exactly one string literal argument.");const n=e[1];return t.scope.has(n)?new Wp(n,t.scope.get(n)):t.error(`Unknown variable "${n}". Make sure "${n}" has been bound in an enclosing "let" expression before using it.`,1)}evaluate(e){return this.boundExpression.evaluate(e)}eachChild(){}outputDefined(){return!1}}class Xp{constructor(e,t,n){this.type=e,this.index=t,this.input=n}static parse(e,t){if(3!==e.length)return t.error(`Expected 2 arguments, but found ${e.length-1} instead.`);const n=t.parse(e[1],1,Ed),i=t.parse(e[2],2,$d(t.expectedType||Pd));if(!n||!i)return null;const r=i.type;return new Xp(r.itemType,n,i)}evaluate(e){const t=this.index.evaluate(e),n=this.input.evaluate(e);if(t<0)throw new Ep(`Array index out of bounds: ${t} < 0.`);if(t>=n.length)throw new Ep(`Array index out of bounds: ${t} > ${n.length-1}.`);if(t!==Math.floor(t))throw new Ep(`Array index must be an integer, but found ${t} instead.`);return n[t]}eachChild(e){e(this.index),e(this.input)}outputDefined(){return!1}}class Up{constructor(e,t){this.type=Rd,this.needle=e,this.haystack=t}static parse(e,t){if(3!==e.length)return t.error(`Expected 2 arguments, but found ${e.length-1} instead.`);const n=t.parse(e[1],1,Pd),i=t.parse(e[2],2,Pd);return n&&i?Wd(n.type,[Rd,Td,Ed,Cd,Pd])?new Up(n,i):t.error(`Expected first argument to be of type boolean, string, number or null, but found ${Bd(n.type)} instead`):null}evaluate(e){const t=this.needle.evaluate(e),n=this.haystack.evaluate(e);if(!n)return!1;if(!Xd(t,["boolean","string","number","null"]))throw new Ep(`Expected first argument to be of type boolean, string, number or null, but found ${Bd(Fp(t))} instead.`);if(!Xd(n,["string","array"]))throw new Ep(`Expected second argument to be of type array or string, but found ${Bd(Fp(n))} instead.`);return n.indexOf(t)>=0}eachChild(e){e(this.needle),e(this.haystack)}outputDefined(){return!0}}class Hp{constructor(e,t,n){this.type=Ed,this.needle=e,this.haystack=t,this.fromIndex=n}static parse(e,t){if(e.length<=2||e.length>=5)return t.error(`Expected 3 or 4 arguments, but found ${e.length-1} instead.`);const n=t.parse(e[1],1,Pd),i=t.parse(e[2],2,Pd);if(!n||!i)return null;if(!Wd(n.type,[Rd,Td,Ed,Cd,Pd]))return t.error(`Expected first argument to be of type boolean, string, number or null, but found ${Bd(n.type)} instead`);if(4===e.length){const r=t.parse(e[3],3,Ed);return r?new Hp(n,i,r):null}return new Hp(n,i)}evaluate(e){const t=this.needle.evaluate(e),n=this.haystack.evaluate(e);if(!Xd(t,["boolean","string","number","null"]))throw new Ep(`Expected first argument to be of type boolean, string, number or null, but found ${Bd(Fp(t))} instead.`);let i;if(this.fromIndex&&(i=this.fromIndex.evaluate(e)),Xd(n,["string"])){const e=n.indexOf(t,i);return-1===e?-1:[...n.slice(0,e)].length}if(Xd(n,["array"]))return n.indexOf(t,i);throw new Ep(`Expected second argument to be of type array or string, but found ${Bd(Fp(n))} instead.`)}eachChild(e){e(this.needle),e(this.haystack),this.fromIndex&&e(this.fromIndex)}outputDefined(){return!1}}class Vp{constructor(e,t,n,i,r,o){this.inputType=e,this.type=t,this.input=n,this.cases=i,this.outputs=r,this.otherwise=o}static parse(e,t){if(e.length<5)return t.error(`Expected at least 4 arguments, but found only ${e.length-1}.`);if(e.length%2!=1)return t.error("Expected an even number of arguments.");let n,i;t.expectedType&&"value"!==t.expectedType.kind&&(i=t.expectedType);const r={},o=[];for(let l=2;l<e.length-1;l+=2){let s=e[l];const a=e[l+1];Array.isArray(s)||(s=[s]);const c=t.concat(l);if(0===s.length)return c.error("Expected at least one branch label.");for(const e of s){if("number"!=typeof e&&"string"!=typeof e)return c.error("Branch labels must be numbers or strings.");if("number"==typeof e&&Math.abs(e)>Number.MAX_SAFE_INTEGER)return c.error(`Branch labels must be integers no larger than ${Number.MAX_SAFE_INTEGER}.`);if("number"==typeof e&&Math.floor(e)!==e)return c.error("Numeric branch labels must be integer values.");if(n){if(c.checkSubtype(n,Fp(e)))return null}else n=Fp(e);if(void 0!==r[String(e)])return c.error("Branch labels must be unique.");r[String(e)]=o.length}const u=t.parse(a,l,i);if(!u)return null;i=i||u.type,o.push(u)}const s=t.parse(e[1],1,Pd);if(!s)return null;const a=t.parse(e[e.length-1],e.length-1,i);return a?"value"!==s.type.kind&&t.concat(1).checkSubtype(n,s.type)?null:new Vp(n,i,s,r,o,a):null}evaluate(e){const t=this.input.evaluate(e);return(Fp(t)===this.inputType&&this.outputs[this.cases[t]]||this.otherwise).evaluate(e)}eachChild(e){e(this.input),this.outputs.forEach(e),e(this.otherwise)}outputDefined(){return this.outputs.every(e=>e.outputDefined())&&this.otherwise.outputDefined()}}class Yp{constructor(e,t,n){this.type=e,this.branches=t,this.otherwise=n}static parse(e,t){if(e.length<4)return t.error(`Expected at least 3 arguments, but found only ${e.length-1}.`);if(e.length%2!=0)return t.error("Expected an odd number of arguments.");let n;t.expectedType&&"value"!==t.expectedType.kind&&(n=t.expectedType);const i=[];for(let o=1;o<e.length-1;o+=2){const r=t.parse(e[o],o,Rd);if(!r)return null;const s=t.parse(e[o+1],o+1,n);if(!s)return null;i.push([r,s]),n=n||s.type}const r=t.parse(e[e.length-1],e.length-1,n);if(!r)return null;if(!n)throw new Error("Can't infer output type");return new Yp(n,i,r)}evaluate(e){for(const[t,n]of this.branches)if(t.evaluate(e))return n.evaluate(e);return this.otherwise.evaluate(e)}eachChild(e){for(const[t,n]of this.branches)e(t),e(n);e(this.otherwise)}outputDefined(){return this.branches.every(([e,t])=>t.outputDefined())&&this.otherwise.outputDefined()}}class Zp{constructor(e,t,n,i){this.type=e,this.input=t,this.beginIndex=n,this.endIndex=i}static parse(e,t){if(e.length<=2||e.length>=5)return t.error(`Expected 3 or 4 arguments, but found ${e.length-1} instead.`);const n=t.parse(e[1],1,Pd),i=t.parse(e[2],2,Ed);if(!n||!i)return null;if(!Wd(n.type,[$d(Pd),Td,Pd]))return t.error(`Expected first argument to be of type array or string, but found ${Bd(n.type)} instead`);if(4===e.length){const r=t.parse(e[3],3,Ed);return r?new Zp(n.type,n,i,r):null}return new Zp(n.type,n,i)}evaluate(e){const t=this.input.evaluate(e),n=this.beginIndex.evaluate(e);let i;if(this.endIndex&&(i=this.endIndex.evaluate(e)),Xd(t,["string"]))return[...t].slice(n,i).join("");if(Xd(t,["array"]))return t.slice(n,i);throw new Ep(`Expected first argument to be of type array or string, but found ${Bd(Fp(t))} instead.`)}eachChild(e){e(this.input),e(this.beginIndex),this.endIndex&&e(this.endIndex)}outputDefined(){return!1}}function Kp(e,t){const n=e.length-1;let i,r,o=0,s=n,a=0;for(;o<=s;)if(a=Math.floor((o+s)/2),i=e[a],r=e[a+1],i<=t){if(a===n||t<r)return a;o=a+1}else{if(!(i>t))throw new Ep("Input is not a number.");s=a-1}return 0}class Jp{constructor(e,t,n){this.type=e,this.input=t,this.labels=[],this.outputs=[];for(const[i,r]of n)this.labels.push(i),this.outputs.push(r)}static parse(e,t){if(e.length-1<4)return t.error(`Expected at least 4 arguments, but found only ${e.length-1}.`);if((e.length-1)%2!=0)return t.error("Expected an even number of arguments.");const n=t.parse(e[1],1,Ed);if(!n)return null;const i=[];let r=null;t.expectedType&&"value"!==t.expectedType.kind&&(r=t.expectedType);for(let o=1;o<e.length;o+=2){const n=1===o?-1/0:e[o],s=e[o+1],a=o,l=o+1;if("number"!=typeof n)return t.error('Input/output pairs for "step" expressions must be defined using literal numeric values (not computed expressions) for the input values.',a);if(i.length&&i[i.length-1][0]>=n)return t.error('Input/output pairs for "step" expressions must be arranged with input values in strictly ascending order.',a);const c=t.parse(s,l,r);if(!c)return null;r=r||c.type,i.push([n,c])}return new Jp(r,n,i)}evaluate(e){const t=this.labels,n=this.outputs;if(1===t.length)return n[0].evaluate(e);const i=this.input.evaluate(e);if(i<=t[0])return n[0].evaluate(e);const r=t.length;if(i>=t[r-1])return n[r-1].evaluate(e);return n[Kp(t,i)].evaluate(e)}eachChild(e){e(this.input);for(const t of this.outputs)e(t)}outputDefined(){return this.outputs.every(e=>e.outputDefined())}}function Qp(e){return e&&e.__esModule&&Object.prototype.hasOwnProperty.call(e,"default")?e.default:e}var ef,tf;var nf=Qp(function(){if(tf)return ef;function e(e,t,n,i){this.cx=3*e,this.bx=3*(n-e)-this.cx,this.ax=1-this.cx-this.bx,this.cy=3*t,this.by=3*(i-t)-this.cy,this.ay=1-this.cy-this.by,this.p1x=e,this.p1y=t,this.p2x=n,this.p2y=i}return tf=1,ef=e,e.prototype={sampleCurveX:function(e){return((this.ax*e+this.bx)*e+this.cx)*e},sampleCurveY:function(e){return((this.ay*e+this.by)*e+this.cy)*e},sampleCurveDerivativeX:function(e){return(3*this.ax*e+2*this.bx)*e+this.cx},solveCurveX:function(e,t){if(void 0===t&&(t=1e-6),e<0)return 0;if(e>1)return 1;for(var n=e,i=0;i<8;i++){var r=this.sampleCurveX(n)-e;if(Math.abs(r)<t)return n;var o=this.sampleCurveDerivativeX(n);if(Math.abs(o)<1e-6)break;n-=r/o}var s=0,a=1;for(n=e,i=0;i<20&&(r=this.sampleCurveX(n),!(Math.abs(r-e)<t));i++)e>r?s=n:a=n,n=.5*(a-s)+s;return n},solve:function(e,t){return this.sampleCurveY(this.solveCurveX(e,t))}},ef}());class rf{constructor(e,t,n,i,r){this.type=e,this.operator=t,this.interpolation=n,this.input=i,this.labels=[],this.outputs=[];for(const[o,s]of r)this.labels.push(o),this.outputs.push(s)}static interpolationFactor(e,t,n,i){let r=0;if("exponential"===e.name)r=of(t,e.base,n,i);else if("linear"===e.name)r=of(t,1,n,i);else if("cubic-bezier"===e.name){const o=e.controlPoints;r=new nf(o[0],o[1],o[2],o[3]).solve(of(t,1,n,i))}return r}static parse(e,t){let[n,i,r,...o]=e;if(!Array.isArray(i)||0===i.length)return t.error("Expected an interpolation type expression.",1);if("linear"===i[0])i={name:"linear"};else if("exponential"===i[0]){const e=i[1];if("number"!=typeof e)return t.error("Exponential interpolation requires a numeric base.",1,1);i={name:"exponential",base:e}}else{if("cubic-bezier"!==i[0])return t.error(`Unknown interpolation type ${String(i[0])}`,1,0);{const e=i.slice(1);if(4!==e.length||e.some(e=>"number"!=typeof e||e<0||e>1))return t.error("Cubic bezier interpolation requires four numeric arguments with values between 0 and 1.",1);i={name:"cubic-bezier",controlPoints:e}}}if(e.length-1<4)return t.error(`Expected at least 4 arguments, but found only ${e.length-1}.`);if((e.length-1)%2!=0)return t.error("Expected an even number of arguments.");if(r=t.parse(r,2,Ed),!r)return null;const s=[];let a=null;"interpolate-hcl"!==n&&"interpolate-lab"!==n||t.expectedType==Od?t.expectedType&&"value"!==t.expectedType.kind&&(a=t.expectedType):a=Md;for(let l=0;l<o.length;l+=2){const e=o[l],n=o[l+1],i=l+3,r=l+4;if("number"!=typeof e)return t.error('Input/output pairs for "interpolate" expressions must be defined using literal numeric values (not computed expressions) for the input values.',i);if(s.length&&s[s.length-1][0]>=e)return t.error('Input/output pairs for "interpolate" expressions must be arranged with input values in strictly ascending order.',i);const c=t.parse(n,r,a);if(!c)return null;a=a||c.type,s.push([e,c])}return Ud(a,Ed)||Ud(a,Id)||Ud(a,Md)||Ud(a,zd)||Ud(a,Dd)||Ud(a,Od)||Ud(a,Nd)||Ud(a,$d(Ed))?new rf(a,n,i,r,s):t.error(`Type ${Bd(a)} is not interpolatable.`)}evaluate(e){const t=this.labels,n=this.outputs;if(1===t.length)return n[0].evaluate(e);const i=this.input.evaluate(e);if(i<=t[0])return n[0].evaluate(e);const r=t.length;if(i>=t[r-1])return n[r-1].evaluate(e);const o=Kp(t,i),s=t[o],a=t[o+1],l=rf.interpolationFactor(this.interpolation,i,s,a),c=n[o].evaluate(e),u=n[o+1].evaluate(e);switch(this.operator){case"interpolate":switch(this.type.kind){case"number":return mp(c,u,l);case"color":return _p.interpolate(c,u,l);case"padding":return kp.interpolate(c,u,l);case"colorArray":return Cp.interpolate(c,u,l);case"numberArray":return Sp.interpolate(c,u,l);case"variableAnchorOffsetCollection":return Rp.interpolate(c,u,l);case"array":return vp(c,u,l);case"projectionDefinition":return Ip.interpolate(c,u,l)}case"interpolate-hcl":switch(this.type.kind){case"color":return _p.interpolate(c,u,l,"hcl");case"colorArray":return Cp.interpolate(c,u,l,"hcl")}case"interpolate-lab":switch(this.type.kind){case"color":return _p.interpolate(c,u,l,"lab");case"colorArray":return Cp.interpolate(c,u,l,"lab")}}}eachChild(e){e(this.input);for(const t of this.outputs)e(t)}outputDefined(){return this.outputs.every(e=>e.outputDefined())}}function of(e,t,n,i){const r=i-n,o=e-n;return 0===r?0:1===t?o/r:(Math.pow(t,o)-1)/(Math.pow(t,r)-1)}class sf{constructor(e,t){this.type=e,this.args=t}static parse(e,t){if(e.length<2)return t.error("Expected at least one argument.");let n=null;const i=t.expectedType;i&&"value"!==i.kind&&(n=i);const r=[];for(const s of e.slice(1)){const e=t.parse(s,1+r.length,n,void 0,{typeAnnotation:"omit"});if(!e)return null;n=n||e.type,r.push(e)}if(!n)throw new Error("No output type");const o=i&&r.some(e=>qd(i,e.type));return new sf(o?Pd:n,r)}evaluate(e){let t,n=null,i=0;for(const r of this.args)if(i++,n=r.evaluate(e),n&&n instanceof Mp&&!n.available&&(t||(t=n.name),n=null,i===this.args.length&&(n=t)),null!==n)break;return n}eachChild(e){this.args.forEach(e)}outputDefined(){return this.args.every(e=>e.outputDefined())}}function af(e,t){return"=="===e||"!="===e?"boolean"===t.kind||"string"===t.kind||"number"===t.kind||"null"===t.kind||"value"===t.kind:"string"===t.kind||"number"===t.kind||"value"===t.kind}function lf(e,t,n,i){return 0===i.compare(t,n)}function cf(e,t,n){const i="=="!==e&&"!="!==e;return class r{constructor(e,t,n){this.type=Rd,this.lhs=e,this.rhs=t,this.collator=n,this.hasUntypedArgument="value"===e.type.kind||"value"===t.type.kind}static parse(e,t){if(3!==e.length&&4!==e.length)return t.error("Expected two or three arguments.");const n=e[0];let o=t.parse(e[1],1,Pd);if(!o)return null;if(!af(n,o.type))return t.concat(1).error(`"${n}" comparisons are not supported for type '${Bd(o.type)}'.`);let s=t.parse(e[2],2,Pd);if(!s)return null;if(!af(n,s.type))return t.concat(2).error(`"${n}" comparisons are not supported for type '${Bd(s.type)}'.`);if(o.type.kind!==s.type.kind&&"value"!==o.type.kind&&"value"!==s.type.kind)return t.error(`Cannot compare types '${Bd(o.type)}' and '${Bd(s.type)}'.`);i&&("value"===o.type.kind&&"value"!==s.type.kind?o=new Dp(s.type,[o]):"value"!==o.type.kind&&"value"===s.type.kind&&(s=new Dp(o.type,[s])));let a=null;if(4===e.length){if("string"!==o.type.kind&&"string"!==s.type.kind&&"value"!==o.type.kind&&"value"!==s.type.kind)return t.error("Cannot use collator to compare non-string types.");if(a=t.parse(e[3],3,Fd),!a)return null}return new r(o,s,a)}evaluate(r){const o=this.lhs.evaluate(r),s=this.rhs.evaluate(r);if(i&&this.hasUntypedArgument){const t=Fp(o),n=Fp(s);if(t.kind!==n.kind||"string"!==t.kind&&"number"!==t.kind)throw new Ep(`Expected arguments for "${e}" to be (string, string) or (number, number), but found (${t.kind}, ${n.kind}) instead.`)}if(this.collator&&!i&&this.hasUntypedArgument){const e=Fp(o),n=Fp(s);if("string"!==e.kind||"string"!==n.kind)return t(r,o,s)}return this.collator?n(r,o,s,this.collator.evaluate(r)):t(r,o,s)}eachChild(e){e(this.lhs),e(this.rhs),this.collator&&e(this.collator)}outputDefined(){return!0}}}const uf=cf("==",function(e,t,n){return t===n},lf),hf=cf("!=",function(e,t,n){return t!==n},function(e,t,n,i){return!lf(0,t,n,i)}),df=cf("<",function(e,t,n){return t<n},function(e,t,n,i){return i.compare(t,n)<0}),pf=cf(">",function(e,t,n){return t>n},function(e,t,n,i){return i.compare(t,n)>0}),ff=cf("<=",function(e,t,n){return t<=n},function(e,t,n,i){return i.compare(t,n)<=0}),gf=cf(">=",function(e,t,n){return t>=n},function(e,t,n,i){return i.compare(t,n)>=0});class mf{constructor(e,t,n){this.type=Fd,this.locale=n,this.caseSensitive=e,this.diacriticSensitive=t}static parse(e,t){if(2!==e.length)return t.error("Expected one argument.");const n=e[1];if("object"!=typeof n||Array.isArray(n))return t.error("Collator options argument must be an object.");const i=t.parse(void 0!==n["case-sensitive"]&&n["case-sensitive"],1,Rd);if(!i)return null;const r=t.parse(void 0!==n["diacritic-sensitive"]&&n["diacritic-sensitive"],1,Rd);if(!r)return null;let o=null;return n.locale&&(o=t.parse(n.locale,1,Td),!o)?null:new mf(i,r,o)}evaluate(e){return new yp(this.caseSensitive.evaluate(e),this.diacriticSensitive.evaluate(e),this.locale?this.locale.evaluate(e):null)}eachChild(e){e(this.caseSensitive),e(this.diacriticSensitive),this.locale&&e(this.locale)}outputDefined(){return!1}}class vf{constructor(e,t,n,i,r){this.type=Td,this.number=e,this.locale=t,this.currency=n,this.minFractionDigits=i,this.maxFractionDigits=r}static parse(e,t){if(3!==e.length)return t.error("Expected two arguments.");const n=t.parse(e[1],1,Ed);if(!n)return null;const i=e[2];if("object"!=typeof i||Array.isArray(i))return t.error("NumberFormat options argument must be an object.");let r=null;if(i.locale&&(r=t.parse(i.locale,1,Td),!r))return null;let o=null;if(i.currency&&(o=t.parse(i.currency,1,Td),!o))return null;let s=null;if(i["min-fraction-digits"]&&(s=t.parse(i["min-fraction-digits"],1,Ed),!s))return null;let a=null;return i["max-fraction-digits"]&&(a=t.parse(i["max-fraction-digits"],1,Ed),!a)?null:new vf(n,r,o,s,a)}evaluate(e){return new Intl.NumberFormat(this.locale?this.locale.evaluate(e):[],{style:this.currency?"currency":"decimal",currency:this.currency?this.currency.evaluate(e):void 0,minimumFractionDigits:this.minFractionDigits?this.minFractionDigits.evaluate(e):void 0,maximumFractionDigits:this.maxFractionDigits?this.maxFractionDigits.evaluate(e):void 0}).format(this.number.evaluate(e))}eachChild(e){e(this.number),this.locale&&e(this.locale),this.currency&&e(this.currency),this.minFractionDigits&&e(this.minFractionDigits),this.maxFractionDigits&&e(this.maxFractionDigits)}outputDefined(){return!1}}class _f{constructor(e){this.type=Ld,this.sections=e}static parse(e,t){if(e.length<2)return t.error("Expected at least one argument.");const n=e[1];if(!Array.isArray(n)&&"object"==typeof n)return t.error("First argument must be an image or text section.");const i=[];let r=!1;for(let o=1;o<=e.length-1;++o){const n=e[o];if(r&&"object"==typeof n&&!Array.isArray(n)){r=!1;let e=null;if(n["font-scale"]&&(e=t.parse(n["font-scale"],1,Ed),!e))return null;let o=null;if(n["text-font"]&&(o=t.parse(n["text-font"],1,$d(Td)),!o))return null;let s=null;if(n["text-color"]&&(s=t.parse(n["text-color"],1,Md),!s))return null;let a=null;if(n["vertical-align"]){if("string"==typeof n["vertical-align"]&&!xp.includes(n["vertical-align"]))return t.error(`'vertical-align' must be one of: 'bottom', 'center', 'top' but found '${n["vertical-align"]}' instead.`);if(a=t.parse(n["vertical-align"],1,Td),!a)return null}const l=i[i.length-1];l.scale=e,l.font=o,l.textColor=s,l.verticalAlign=a}else{const n=t.parse(e[o],1,Pd);if(!n)return null;const s=n.type.kind;if("string"!==s&&"value"!==s&&"null"!==s&&"resolvedImage"!==s)return t.error("Formatted text type must be 'string', 'value', 'image' or 'null'.");r=!0,i.push({content:n,scale:null,font:null,textColor:null,verticalAlign:null})}}return new _f(i)}evaluate(e){return new wp(this.sections.map(t=>{const n=t.content.evaluate(e);return Fp(n)===jd?new bp("",n,null,null,null,t.verticalAlign?t.verticalAlign.evaluate(e):null):new bp(Lp(n),null,t.scale?t.scale.evaluate(e):null,t.font?t.font.evaluate(e).join(","):null,t.textColor?t.textColor.evaluate(e):null,t.verticalAlign?t.verticalAlign.evaluate(e):null)}))}eachChild(e){for(const t of this.sections)e(t.content),t.scale&&e(t.scale),t.font&&e(t.font),t.textColor&&e(t.textColor),t.verticalAlign&&e(t.verticalAlign)}outputDefined(){return!1}}class yf{constructor(e){this.type=jd,this.input=e}static parse(e,t){if(2!==e.length)return t.error("Expected two arguments.");const n=t.parse(e[1],1,Td);return n?new yf(n):t.error("No image name provided.")}evaluate(e){const t=this.input.evaluate(e),n=Mp.fromString(t);return n&&e.availableImages&&(n.available=e.availableImages.indexOf(t)>-1),n}eachChild(e){e(this.input)}outputDefined(){return!1}}class xf{constructor(e){this.type=Ed,this.input=e}static parse(e,t){if(2!==e.length)return t.error(`Expected 1 argument, but found ${e.length-1} instead.`);const n=t.parse(e[1],1);return n?"array"!==n.type.kind&&"string"!==n.type.kind&&"value"!==n.type.kind?t.error(`Expected argument of type string or array, but found ${Bd(n.type)} instead.`):new xf(n):null}evaluate(e){const t=this.input.evaluate(e);if("string"==typeof t)return[...t].length;if(Array.isArray(t))return t.length;throw new Ep(`Expected value to be of type string or array, but found ${Bd(Fp(t))} instead.`)}eachChild(e){e(this.input)}outputDefined(){return!1}}const bf=8192;function wf(e,t){const n=(180+e[0])/360;const i=(r=e[1],(180-180/Math.PI*Math.log(Math.tan(Math.PI/4+r*Math.PI/360)))/360);var r;const o=Math.pow(2,t.z);return[Math.round(n*o*bf),Math.round(i*o*bf)]}function kf(e,t){const n=Math.pow(2,t.z),i=(e[0]/bf+t.x)/n,r=(e[1]/bf+t.y)/n;return[(s=i,360*s-180),(o=r,360/Math.PI*Math.atan(Math.exp((180-360*o)*Math.PI/180))-90)];var o,s}function Sf(e,t){e[0]=Math.min(e[0],t[0]),e[1]=Math.min(e[1],t[1]),e[2]=Math.max(e[2],t[0]),e[3]=Math.max(e[3],t[1])}function Cf(e,t){return!(e[0]<=t[0])&&(!(e[2]>=t[2])&&(!(e[1]<=t[1])&&!(e[3]>=t[3])))}function Ef(e,t,n){return t[1]>e[1]!=n[1]>e[1]&&e[0]<(n[0]-t[0])*(e[1]-t[1])/(n[1]-t[1])+t[0]}function Tf(e,t,n){const i=e[0]-t[0],r=e[1]-t[1],o=e[0]-n[0],s=e[1]-n[1];return i*s-o*r===0&&i*o<=0&&r*s<=0}function Rf(e,t,n,i){const r=[t[0]-e[0],t[1]-e[1]],o=[i[0]-n[0],i[1]-n[1]];return 0!==(s=o)[0]*(a=r)[1]-s[1]*a[0]&&!(!Lf(e,t,n,i)||!Lf(n,i,e,t));var s,a}function Mf(e,t,n){for(const i of n)for(let n=0;n<i.length-1;++n)if(Rf(e,t,i[n],i[n+1]))return!0;return!1}function If(e,t,n=!1){let i=!1;for(const r of t)for(let t=0;t<r.length-1;t++){if(Tf(e,r[t],r[t+1]))return n;Ef(e,r[t],r[t+1])&&(i=!i)}return i}function Af(e,t){for(const n of t)if(If(e,n))return!0;return!1}function Pf(e,t){for(const n of e)if(!If(n,t))return!1;for(let n=0;n<e.length-1;++n)if(Mf(e[n],e[n+1],t))return!1;return!0}function Ff(e,t){for(const n of t)if(Pf(e,n))return!0;return!1}function Lf(e,t,n,i){const r=e[0]-n[0],o=e[1]-n[1],s=t[0]-n[0],a=t[1]-n[1],l=i[0]-n[0],c=i[1]-n[1],u=r*c-l*o,h=s*c-l*a;return u>0&&h<0||u<0&&h>0}function zf(e,t,n){const i=[];for(let r=0;r<e.length;r++){const o=[];for(let i=0;i<e[r].length;i++){const s=wf(e[r][i],n);Sf(t,s),o.push(s)}i.push(o)}return i}function Of(e,t,n){const i=[];for(let r=0;r<e.length;r++){const o=zf(e[r],t,n);i.push(o)}return i}function Df(e,t,n,i){if(e[0]<n[0]||e[0]>n[2]){const t=.5*i;let r=e[0]-n[0]>t?-i:n[0]-e[0]>t?i:0;0===r&&(r=e[0]-n[2]>t?-i:n[2]-e[0]>t?i:0),e[0]+=r}Sf(t,e)}function jf(e,t,n,i){const r=Math.pow(2,i.z)*bf,o=[i.x*bf,i.y*bf],s=[];for(const a of e)for(const e of a){const i=[e.x+o[0],e.y+o[1]];Df(i,t,n,r),s.push(i)}return s}function Nf(e,t,n,i){const r=Math.pow(2,i.z)*bf,o=[i.x*bf,i.y*bf],s=[];for(const l of e){const e=[];for(const n of l){const i=[n.x+o[0],n.y+o[1]];Sf(t,i),e.push(i)}s.push(e)}if(t[2]-t[0]<=r/2){(a=t)[0]=a[1]=1/0,a[2]=a[3]=-1/0;for(const e of s)for(const i of e)Df(i,t,n,r)}var a;return s}class $f{constructor(e,t){this.type=Rd,this.geojson=e,this.geometries=t}static parse(e,t){if(2!==e.length)return t.error(`'within' expression requires exactly one argument, but found ${e.length-1} instead.`);if(Pp(e[1])){const t=e[1];if("FeatureCollection"===t.type){const e=[];for(const n of t.features){const{type:t,coordinates:i}=n.geometry;"Polygon"===t&&e.push(i),"MultiPolygon"===t&&e.push(...i)}if(e.length){return new $f(t,{type:"MultiPolygon",coordinates:e})}}else if("Feature"===t.type){const e=t.geometry.type;if("Polygon"===e||"MultiPolygon"===e)return new $f(t,t.geometry)}else if("Polygon"===t.type||"MultiPolygon"===t.type)return new $f(t,t)}return t.error("'within' expression requires valid geojson object that contains polygon geometry type.")}evaluate(e){if(null!=e.geometry()&&null!=e.canonicalID()){if("Point"===e.geometryType())return function(e,t){const n=[1/0,1/0,-1/0,-1/0],i=[1/0,1/0,-1/0,-1/0],r=e.canonicalID();if("Polygon"===t.type){const o=zf(t.coordinates,i,r),s=jf(e.geometry(),n,i,r);if(!Cf(n,i))return!1;for(const e of s)if(!If(e,o))return!1}if("MultiPolygon"===t.type){const o=Of(t.coordinates,i,r),s=jf(e.geometry(),n,i,r);if(!Cf(n,i))return!1;for(const e of s)if(!Af(e,o))return!1}return!0}(e,this.geometries);if("LineString"===e.geometryType())return function(e,t){const n=[1/0,1/0,-1/0,-1/0],i=[1/0,1/0,-1/0,-1/0],r=e.canonicalID();if("Polygon"===t.type){const o=zf(t.coordinates,i,r),s=Nf(e.geometry(),n,i,r);if(!Cf(n,i))return!1;for(const e of s)if(!Pf(e,o))return!1}if("MultiPolygon"===t.type){const o=Of(t.coordinates,i,r),s=Nf(e.geometry(),n,i,r);if(!Cf(n,i))return!1;for(const e of s)if(!Ff(e,o))return!1}return!0}(e,this.geometries)}return!1}eachChild(){}outputDefined(){return!0}}class Bf{constructor(e=[],t=(e,t)=>e<t?-1:e>t?1:0){if(this.data=e,this.length=this.data.length,this.compare=t,this.length>0)for(let n=(this.length>>1)-1;n>=0;n--)this._down(n)}push(e){this.data.push(e),this._up(this.length++)}pop(){if(0===this.length)return;const e=this.data[0],t=this.data.pop();return--this.length>0&&(this.data[0]=t,this._down(0)),e}peek(){return this.data[0]}_up(e){const{data:t,compare:n}=this,i=t[e];for(;e>0;){const r=e-1>>1,o=t[r];if(n(i,o)>=0)break;t[e]=o,e=r}t[e]=i}_down(e){const{data:t,compare:n}=this,i=this.length>>1,r=t[e];for(;e<i;){let i=1+(e<<1);const o=i+1;if(o<this.length&&n(t[o],t[i])<0&&(i=o),n(t[i],r)>=0)break;t[e]=t[i],e=i}t[e]=r}}function Gf(e){let t=0;for(let n,i,r=0,o=e.length,s=o-1;r<o;s=r++)n=e[r],i=e[s],t+=(i.x-n.x)*(n.y+i.y);return t}const qf=1/298.257223563,Wf=qf*(2-qf),Xf=Math.PI/180;class Uf{constructor(e){const t=6378.137*Xf*1e3,n=Math.cos(e*Xf),i=1/(1-Wf*(1-n*n)),r=Math.sqrt(i);this.kx=t*r*n,this.ky=t*r*i*(1-Wf)}distance(e,t){const n=this.wrap(e[0]-t[0])*this.kx,i=(e[1]-t[1])*this.ky;return Math.sqrt(n*n+i*i)}pointOnLine(e,t){let n,i,r,o,s=1/0;for(let a=0;a<e.length-1;a++){let l=e[a][0],c=e[a][1],u=this.wrap(e[a+1][0]-l)*this.kx,h=(e[a+1][1]-c)*this.ky,d=0;0===u&&0===h||(d=(this.wrap(t[0]-l)*this.kx*u+(t[1]-c)*this.ky*h)/(u*u+h*h),d>1?(l=e[a+1][0],c=e[a+1][1]):d>0&&(l+=u/this.kx*d,c+=h/this.ky*d)),u=this.wrap(t[0]-l)*this.kx,h=(t[1]-c)*this.ky;const p=u*u+h*h;p<s&&(s=p,n=l,i=c,r=a,o=d)}return{point:[n,i],index:r,t:Math.max(0,Math.min(1,o))}}wrap(e){for(;e<-180;)e+=360;for(;e>180;)e-=360;return e}}function Hf(e,t){return t[0]-e[0]}function Vf(e){return e[1]-e[0]+1}function Yf(e,t){return e[1]>=e[0]&&e[1]<t}function Zf(e,t){if(e[0]>e[1])return[null,null];const n=Vf(e);if(t){if(2===n)return[e,null];const t=Math.floor(n/2);return[[e[0],e[0]+t],[e[0]+t,e[1]]]}if(1===n)return[e,null];const i=Math.floor(n/2)-1;return[[e[0],e[0]+i],[e[0]+i+1,e[1]]]}function Kf(e,t){if(!Yf(t,e.length))return[1/0,1/0,-1/0,-1/0];const n=[1/0,1/0,-1/0,-1/0];for(let i=t[0];i<=t[1];++i)Sf(n,e[i]);return n}function Jf(e){const t=[1/0,1/0,-1/0,-1/0];for(const n of e)for(const e of n)Sf(t,e);return t}function Qf(e){return e[0]!==-1/0&&e[1]!==-1/0&&e[2]!==1/0&&e[3]!==1/0}function eg(e,t,n){if(!Qf(e)||!Qf(t))return NaN;let i=0,r=0;return e[2]<t[0]&&(i=t[0]-e[2]),e[0]>t[2]&&(i=e[0]-t[2]),e[1]>t[3]&&(r=e[1]-t[3]),e[3]<t[1]&&(r=t[1]-e[3]),n.distance([0,0],[i,r])}function tg(e,t,n){const i=n.pointOnLine(t,e);return n.distance(e,i.point)}function ng(e,t,n,i,r){const o=Math.min(tg(e,[n,i],r),tg(t,[n,i],r)),s=Math.min(tg(n,[e,t],r),tg(i,[e,t],r));return Math.min(o,s)}function ig(e,t,n,i,r){if(!(Yf(t,e.length)&&Yf(i,n.length)))return 1/0;let o=1/0;for(let s=t[0];s<t[1];++s){const t=e[s],a=e[s+1];for(let e=i[0];e<i[1];++e){const i=n[e],s=n[e+1];if(Rf(t,a,i,s))return 0;o=Math.min(o,ng(t,a,i,s,r))}}return o}function rg(e,t,n,i,r){if(!(Yf(t,e.length)&&Yf(i,n.length)))return NaN;let o=1/0;for(let s=t[0];s<=t[1];++s)for(let t=i[0];t<=i[1];++t)if(o=Math.min(o,r.distance(e[s],n[t])),0===o)return o;return o}function og(e,t,n){if(If(e,t,!0))return 0;let i=1/0;for(const r of t){const t=r[0],o=r[r.length-1];if(t!==o&&(i=Math.min(i,tg(e,[o,t],n)),0===i))return i;const s=n.pointOnLine(r,e);if(i=Math.min(i,n.distance(e,s.point)),0===i)return i}return i}function sg(e,t,n,i){if(!Yf(t,e.length))return NaN;for(let o=t[0];o<=t[1];++o)if(If(e[o],n,!0))return 0;let r=1/0;for(let o=t[0];o<t[1];++o){const t=e[o],s=e[o+1];for(const e of n)for(let n=0,o=e.length,a=o-1;n<o;a=n++){const o=e[a],l=e[n];if(Rf(t,s,o,l))return 0;r=Math.min(r,ng(t,s,o,l,i))}}return r}function ag(e,t){for(const n of e)for(const e of n)if(If(e,t,!0))return!0;return!1}function lg(e,t,n,i=1/0){const r=Jf(e),o=Jf(t);if(i!==1/0&&eg(r,o,n)>=i)return i;if(Cf(r,o)){if(ag(e,t))return 0}else if(ag(t,e))return 0;let s=1/0;for(const a of e)for(let e=0,i=a.length,r=i-1;e<i;r=e++){const i=a[r],o=a[e];for(const e of t)for(let t=0,r=e.length,a=r-1;t<r;a=t++){const r=e[a],l=e[t];if(Rf(i,o,r,l))return 0;s=Math.min(s,ng(i,o,r,l,n))}}return s}function cg(e,t,n,i,r,o){if(!o)return;const s=eg(Kf(i,o),r,n);s<t&&e.push([s,o,[0,0]])}function ug(e,t,n,i,r,o,s){if(!o||!s)return;const a=eg(Kf(i,o),Kf(r,s),n);a<t&&e.push([a,o,s])}function hg(e,t,n,i,r=1/0){let o=Math.min(i.distance(e[0],n[0][0]),r);if(0===o)return o;const s=new Bf([[0,[0,e.length-1],[0,0]]],Hf),a=Jf(n);for(;s.length>0;){const r=s.pop();if(r[0]>=o)continue;const l=r[1],c=t?50:100;if(Vf(l)<=c){if(!Yf(l,e.length))return NaN;if(t){const t=sg(e,l,n,i);if(isNaN(t)||0===t)return t;o=Math.min(o,t)}else for(let t=l[0];t<=l[1];++t){const r=og(e[t],n,i);if(o=Math.min(o,r),0===o)return 0}}else{const n=Zf(l,t);cg(s,o,i,e,a,n[0]),cg(s,o,i,e,a,n[1])}}return o}function dg(e,t,n,i,r,o=1/0){let s=Math.min(o,r.distance(e[0],n[0]));if(0===s)return s;const a=new Bf([[0,[0,e.length-1],[0,n.length-1]]],Hf);for(;a.length>0;){const o=a.pop();if(o[0]>=s)continue;const l=o[1],c=o[2],u=t?50:100,h=i?50:100;if(Vf(l)<=u&&Vf(c)<=h){if(!Yf(l,e.length)&&Yf(c,n.length))return NaN;let o;if(t&&i)o=ig(e,l,n,c,r),s=Math.min(s,o);else if(t&&!i){const t=e.slice(l[0],l[1]+1);for(let e=c[0];e<=c[1];++e)if(o=tg(n[e],t,r),s=Math.min(s,o),0===s)return s}else if(!t&&i){const t=n.slice(c[0],c[1]+1);for(let n=l[0];n<=l[1];++n)if(o=tg(e[n],t,r),s=Math.min(s,o),0===s)return s}else o=rg(e,l,n,c,r),s=Math.min(s,o)}else{const o=Zf(l,t),u=Zf(c,i);ug(a,s,r,e,n,o[0],u[0]),ug(a,s,r,e,n,o[0],u[1]),ug(a,s,r,e,n,o[1],u[0]),ug(a,s,r,e,n,o[1],u[1])}}return s}function pg(e,t){const n=e.geometry();if(0===n.length||0===n[0].length)return NaN;const i=function(e){if(e.length<=1)return[e];const t=[];let n,i;for(const r of e){const e=Gf(r);0!==e&&(r.area=Math.abs(e),void 0===i&&(i=e<0),i===e<0?(n&&t.push(n),n=[r]):n.push(r))}return n&&t.push(n),t}(n).map(t=>t.map(t=>t.map(t=>kf([t.x,t.y],e.canonical)))),r=new Uf(i[0][0][0][1]);let o=1/0;for(const s of t)for(const e of i){switch(s.type){case"Point":o=Math.min(o,hg([s.coordinates],!1,e,r,o));break;case"LineString":o=Math.min(o,hg(s.coordinates,!0,e,r,o));break;case"Polygon":o=Math.min(o,lg(e,s.coordinates,r,o))}if(0===o)return o}return o}function fg(e){return"MultiPolygon"===e.type?e.coordinates.map(e=>({type:"Polygon",coordinates:e})):"MultiLineString"===e.type?e.coordinates.map(e=>({type:"LineString",coordinates:e})):"MultiPoint"===e.type?e.coordinates.map(e=>({type:"Point",coordinates:e})):[e]}class gg{constructor(e,t){this.type=Ed,this.geojson=e,this.geometries=t}static parse(e,t){if(2!==e.length)return t.error(`'distance' expression requires exactly one argument, but found ${e.length-1} instead.`);if(Pp(e[1])){const t=e[1];if("FeatureCollection"===t.type)return new gg(t,t.features.map(e=>fg(e.geometry)).flat());if("Feature"===t.type)return new gg(t,fg(t.geometry));if("type"in t&&"coordinates"in t)return new gg(t,fg(t))}return t.error("'distance' expression requires valid geojson object that contains polygon geometry type.")}evaluate(e){if(null!=e.geometry()&&null!=e.canonicalID()){if("Point"===e.geometryType())return function(e,t){const n=e.geometry(),i=n.flat().map(t=>kf([t.x,t.y],e.canonical));if(0===n.length)return NaN;const r=new Uf(i[0][1]);let o=1/0;for(const s of t){switch(s.type){case"Point":o=Math.min(o,dg(i,!1,[s.coordinates],!1,r,o));break;case"LineString":o=Math.min(o,dg(i,!1,s.coordinates,!0,r,o));break;case"Polygon":o=Math.min(o,hg(i,!1,s.coordinates,r,o))}if(0===o)return o}return o}(e,this.geometries);if("LineString"===e.geometryType())return function(e,t){const n=e.geometry(),i=n.flat().map(t=>kf([t.x,t.y],e.canonical));if(0===n.length)return NaN;const r=new Uf(i[0][1]);let o=1/0;for(const s of t){switch(s.type){case"Point":o=Math.min(o,dg(i,!0,[s.coordinates],!1,r,o));break;case"LineString":o=Math.min(o,dg(i,!0,s.coordinates,!0,r,o));break;case"Polygon":o=Math.min(o,hg(i,!0,s.coordinates,r,o))}if(0===o)return o}return o}(e,this.geometries);if("Polygon"===e.geometryType())return pg(e,this.geometries)}return NaN}eachChild(){}outputDefined(){return!0}}class mg{constructor(e){this.type=Pd,this.key=e}static parse(e,t){if(2!==e.length)return t.error(`Expected 1 argument, but found ${e.length-1} instead.`);const n=e[1];return null==n?t.error("Global state property must be defined."):"string"!=typeof n?t.error(`Global state property must be string, but found ${typeof e[1]} instead.`):new mg(n)}evaluate(e){var t;const n=null===(t=e.globals)||void 0===t?void 0:t.globalState;return n&&0!==Object.keys(n).length?cp(n,this.key):null}eachChild(){}outputDefined(){return!1}}const vg={"==":uf,"!=":hf,">":pf,"<":df,">=":gf,"<=":ff,array:Dp,at:Xp,boolean:Dp,case:Yp,coalesce:sf,collator:mf,format:_f,image:yf,in:Up,"index-of":Hp,interpolate:rf,"interpolate-hcl":rf,"interpolate-lab":rf,length:xf,let:qp,literal:zp,match:Vp,number:Dp,"number-format":vf,object:Dp,slice:Zp,step:Jp,string:Dp,"to-boolean":Np,"to-color":Np,"to-number":Np,"to-string":Np,var:Wp,within:$f,distance:gg,"global-state":mg};class _g{constructor(e,t,n,i){this.name=e,this.type=t,this._evaluate=n,this.args=i}evaluate(e){return this._evaluate(e,this.args)}eachChild(e){this.args.forEach(e)}outputDefined(){return!1}static parse(e,t){const n=e[0],i=_g.definitions[n];if(!i)return t.error(`Unknown expression "${n}". If you wanted a literal array, use ["literal", [...]].`,0);const r=Array.isArray(i)?i[0]:i.type,o=Array.isArray(i)?[[i[1],i[2]]]:i.overloads,s=o.filter(([t])=>!Array.isArray(t)||t.length===e.length-1);let a=null;for(const[l,c]of s){a=new Gp(t.registry,kg,t.path,null,t.scope);const i=[];let o=!1;for(let t=1;t<e.length;t++){const n=e[t],r=Array.isArray(l)?l[t-1]:l.type,s=a.parse(n,1+i.length,r);if(!s){o=!0;break}i.push(s)}if(!o)if(Array.isArray(l)&&l.length!==i.length)a.error(`Expected ${l.length} arguments, but found ${i.length} instead.`);else{for(let e=0;e<i.length;e++){const t=Array.isArray(l)?l[e]:l.type,n=i[e];a.concat(e+1).checkSubtype(t,n.type)}if(0===a.errors.length)return new _g(n,r,c,i)}}if(1===s.length)t.errors.push(...a.errors);else{const n=(s.length?s:o).map(([e])=>{return t=e,Array.isArray(t)?`(${t.map(Bd).join(", ")})`:`(${Bd(t.type)}...)`;var t}).join(" | "),i=[];for(let r=1;r<e.length;r++){const n=t.parse(e[r],1+i.length);if(!n)return null;i.push(Bd(n.type))}t.error(`Expected arguments of type ${n}, but found (${i.join(", ")}) instead.`)}return null}static register(e,t){_g.definitions=t;for(const n in t)e[n]=_g}}function yg(e,[t,n,i,r]){t=t.evaluate(e),n=n.evaluate(e),i=i.evaluate(e);const o=r?r.evaluate(e):1,s=Ap(t,n,i,o);if(s)throw new Ep(s);return new _p(t/255,n/255,i/255,o,!1)}function xg(e,t){return e in t}function bg(e,t){const n=t[e];return void 0===n?null:n}function wg(e){return{type:e}}function kg(e){if(e instanceof Wp)return kg(e.boundExpression);if(e instanceof _g&&"error"===e.name)return!1;if(e instanceof mf)return!1;if(e instanceof $f)return!1;if(e instanceof gg)return!1;if(e instanceof mg)return!1;const t=e instanceof Np||e instanceof Dp;let n=!0;return e.eachChild(e=>{n=t?n&&kg(e):n&&e instanceof zp}),!!n&&(Sg(e)&&Eg(e,["zoom","heatmap-density","elevation","line-progress","accumulated","is-supported-script"]))}function Sg(e){if(e instanceof _g){if("get"===e.name&&1===e.args.length)return!1;if("feature-state"===e.name)return!1;if("has"===e.name&&1===e.args.length)return!1;if("properties"===e.name||"geometry-type"===e.name||"id"===e.name)return!1;if(/^filter-/.test(e.name))return!1}if(e instanceof $f)return!1;if(e instanceof gg)return!1;let t=!0;return e.eachChild(e=>{t&&!Sg(e)&&(t=!1)}),t}function Cg(e){if(e instanceof _g&&"feature-state"===e.name)return!1;let t=!0;return e.eachChild(e=>{t&&!Cg(e)&&(t=!1)}),t}function Eg(e,t){if(e instanceof _g&&t.indexOf(e.name)>=0)return!1;let n=!0;return e.eachChild(e=>{n&&!Eg(e,t)&&(n=!1)}),n}function Tg(e){return{result:"success",value:e}}function Rg(e){return{result:"error",value:e}}function Mg(e){return"object"==typeof e&&null!==e&&!Array.isArray(e)&&Fp(e)===Ad}_g.register(vg,{error:[{kind:"error"},[Td],(e,[t])=>{throw new Ep(t.evaluate(e))}],typeof:[Td,[Pd],(e,[t])=>Bd(Fp(t.evaluate(e)))],"to-rgba":[$d(Ed,4),[Md],(e,[t])=>{const[n,i,r,o]=t.evaluate(e).rgb;return[255*n,255*i,255*r,o]}],rgb:[Md,[Ed,Ed,Ed],yg],rgba:[Md,[Ed,Ed,Ed,Ed],yg],has:{type:Rd,overloads:[[[Td],(e,[t])=>xg(t.evaluate(e),e.properties())],[[Td,Ad],(e,[t,n])=>xg(t.evaluate(e),n.evaluate(e))]]},get:{type:Pd,overloads:[[[Td],(e,[t])=>bg(t.evaluate(e),e.properties())],[[Td,Ad],(e,[t,n])=>bg(t.evaluate(e),n.evaluate(e))]]},"feature-state":[Pd,[Td],(e,[t])=>bg(t.evaluate(e),e.featureState||{})],properties:[Ad,[],e=>e.properties()],"geometry-type":[Td,[],e=>e.geometryType()],id:[Pd,[],e=>e.id()],zoom:[Ed,[],e=>e.globals.zoom],"heatmap-density":[Ed,[],e=>e.globals.heatmapDensity||0],elevation:[Ed,[],e=>e.globals.elevation||0],"line-progress":[Ed,[],e=>e.globals.lineProgress||0],accumulated:[Pd,[],e=>void 0===e.globals.accumulated?null:e.globals.accumulated],"+":[Ed,wg(Ed),(e,t)=>{let n=0;for(const i of t)n+=i.evaluate(e);return n}],"*":[Ed,wg(Ed),(e,t)=>{let n=1;for(const i of t)n*=i.evaluate(e);return n}],"-":{type:Ed,overloads:[[[Ed,Ed],(e,[t,n])=>t.evaluate(e)-n.evaluate(e)],[[Ed],(e,[t])=>-t.evaluate(e)]]},"/":[Ed,[Ed,Ed],(e,[t,n])=>t.evaluate(e)/n.evaluate(e)],"%":[Ed,[Ed,Ed],(e,[t,n])=>t.evaluate(e)%n.evaluate(e)],ln2:[Ed,[],()=>Math.LN2],pi:[Ed,[],()=>Math.PI],e:[Ed,[],()=>Math.E],"^":[Ed,[Ed,Ed],(e,[t,n])=>Math.pow(t.evaluate(e),n.evaluate(e))],sqrt:[Ed,[Ed],(e,[t])=>Math.sqrt(t.evaluate(e))],log10:[Ed,[Ed],(e,[t])=>Math.log(t.evaluate(e))/Math.LN10],ln:[Ed,[Ed],(e,[t])=>Math.log(t.evaluate(e))],log2:[Ed,[Ed],(e,[t])=>Math.log(t.evaluate(e))/Math.LN2],sin:[Ed,[Ed],(e,[t])=>Math.sin(t.evaluate(e))],cos:[Ed,[Ed],(e,[t])=>Math.cos(t.evaluate(e))],tan:[Ed,[Ed],(e,[t])=>Math.tan(t.evaluate(e))],asin:[Ed,[Ed],(e,[t])=>Math.asin(t.evaluate(e))],acos:[Ed,[Ed],(e,[t])=>Math.acos(t.evaluate(e))],atan:[Ed,[Ed],(e,[t])=>Math.atan(t.evaluate(e))],min:[Ed,wg(Ed),(e,t)=>Math.min(...t.map(t=>t.evaluate(e)))],max:[Ed,wg(Ed),(e,t)=>Math.max(...t.map(t=>t.evaluate(e)))],abs:[Ed,[Ed],(e,[t])=>Math.abs(t.evaluate(e))],round:[Ed,[Ed],(e,[t])=>{const n=t.evaluate(e);return n<0?-Math.round(-n):Math.round(n)}],floor:[Ed,[Ed],(e,[t])=>Math.floor(t.evaluate(e))],ceil:[Ed,[Ed],(e,[t])=>Math.ceil(t.evaluate(e))],"filter-==":[Rd,[Td,Pd],(e,[t,n])=>e.properties()[t.value]===n.value],"filter-id-==":[Rd,[Pd],(e,[t])=>e.id()===t.value],"filter-type-==":[Rd,[Td],(e,[t])=>e.geometryType()===t.value],"filter-<":[Rd,[Td,Pd],(e,[t,n])=>{const i=e.properties()[t.value],r=n.value;return typeof i==typeof r&&i<r}],"filter-id-<":[Rd,[Pd],(e,[t])=>{const n=e.id(),i=t.value;return typeof n==typeof i&&n<i}],"filter->":[Rd,[Td,Pd],(e,[t,n])=>{const i=e.properties()[t.value],r=n.value;return typeof i==typeof r&&i>r}],"filter-id->":[Rd,[Pd],(e,[t])=>{const n=e.id(),i=t.value;return typeof n==typeof i&&n>i}],"filter-<=":[Rd,[Td,Pd],(e,[t,n])=>{const i=e.properties()[t.value],r=n.value;return typeof i==typeof r&&i<=r}],"filter-id-<=":[Rd,[Pd],(e,[t])=>{const n=e.id(),i=t.value;return typeof n==typeof i&&n<=i}],"filter->=":[Rd,[Td,Pd],(e,[t,n])=>{const i=e.properties()[t.value],r=n.value;return typeof i==typeof r&&i>=r}],"filter-id->=":[Rd,[Pd],(e,[t])=>{const n=e.id(),i=t.value;return typeof n==typeof i&&n>=i}],"filter-has":[Rd,[Pd],(e,[t])=>t.value in e.properties()],"filter-has-id":[Rd,[],e=>null!==e.id()&&void 0!==e.id()],"filter-type-in":[Rd,[$d(Td)],(e,[t])=>t.value.indexOf(e.geometryType())>=0],"filter-id-in":[Rd,[$d(Pd)],(e,[t])=>t.value.indexOf(e.id())>=0],"filter-in-small":[Rd,[Td,$d(Pd)],(e,[t,n])=>n.value.indexOf(e.properties()[t.value])>=0],"filter-in-large":[Rd,[Td,$d(Pd)],(e,[t,n])=>function(e,t,n,i){for(;n<=i;){const r=n+i>>1;if(t[r]===e)return!0;t[r]>e?i=r-1:n=r+1}return!1}(e.properties()[t.value],n.value,0,n.value.length-1)],all:{type:Rd,overloads:[[[Rd,Rd],(e,[t,n])=>t.evaluate(e)&&n.evaluate(e)],[wg(Rd),(e,t)=>{for(const n of t)if(!n.evaluate(e))return!1;return!0}]]},any:{type:Rd,overloads:[[[Rd,Rd],(e,[t,n])=>t.evaluate(e)||n.evaluate(e)],[wg(Rd),(e,t)=>{for(const n of t)if(n.evaluate(e))return!0;return!1}]]},"!":[Rd,[Rd],(e,[t])=>!t.evaluate(e)],"is-supported-script":[Rd,[Td],(e,[t])=>{const n=e.globals&&e.globals.isSupportedScript;return!n||n(t.evaluate(e))}],upcase:[Td,[Td],(e,[t])=>t.evaluate(e).toUpperCase()],downcase:[Td,[Td],(e,[t])=>t.evaluate(e).toLowerCase()],concat:[Td,wg(Pd),(e,t)=>t.map(t=>Lp(t.evaluate(e))).join("")],"resolved-locale":[Td,[Fd],(e,[t])=>t.evaluate(e).resolvedLocale()]});class Ig{constructor(e,t){this.expression=e,this._warningHistory={},this._evaluator=new Bp,this._defaultValue=t?function(e){if("color"===e.type&&Mg(e.default))return new _p(0,0,0,0);switch(e.type){case"color":return _p.parse(e.default)||null;case"padding":return kp.parse(e.default)||null;case"numberArray":return Sp.parse(e.default)||null;case"colorArray":return Cp.parse(e.default)||null;case"variableAnchorOffsetCollection":return Rp.parse(e.default)||null;case"projectionDefinition":return Ip.parse(e.default)||null;default:return void 0===e.default?null:e.default}}(t):null,this._enumValues=t&&"enum"===t.type?t.values:null}evaluateWithoutErrorHandling(e,t,n,i,r,o){return this._evaluator.globals=e,this._evaluator.feature=t,this._evaluator.featureState=n,this._evaluator.canonical=i,this._evaluator.availableImages=r||null,this._evaluator.formattedSection=o,this.expression.evaluate(this._evaluator)}evaluate(e,t,n,i,r,o){this._evaluator.globals=e,this._evaluator.feature=t||null,this._evaluator.featureState=n||null,this._evaluator.canonical=i,this._evaluator.availableImages=r||null,this._evaluator.formattedSection=o||null;try{const e=this.expression.evaluate(this._evaluator);if(null==e||"number"==typeof e&&e!=e)return this._defaultValue;if(this._enumValues&&!(e in this._enumValues))throw new Ep(`Expected value to be one of ${Object.keys(this._enumValues).map(e=>JSON.stringify(e)).join(", ")}, but found ${JSON.stringify(e)} instead.`);return e}catch(Ze){return this._warningHistory[Ze.message]||(this._warningHistory[Ze.message]=!0),this._defaultValue}}}function Ag(e,t){const n=new Gp(vg,kg,[],t?function(e){const t={color:Md,string:Td,number:Ed,enum:Td,boolean:Rd,formatted:Ld,padding:zd,numberArray:Dd,colorArray:Od,projectionDefinition:Id,resolvedImage:jd,variableAnchorOffsetCollection:Nd};if("array"===e.type)return $d(t[e.value]||Pd,e.length);return t[e.type]}(t):void 0),i=n.parse(e,void 0,void 0,void 0,t&&"string"===t.type?{typeAnnotation:"coerce"}:void 0);return i?Tg(new Ig(i,t)):Rg(n.errors)}class Pg{constructor(e,t){this.kind=e,this._styleExpression=t,this.isStateDependent="constant"!==e&&!Cg(t.expression),this.globalStateRefs=Og(t.expression)}evaluateWithoutErrorHandling(e,t,n,i,r,o){return this._styleExpression.evaluateWithoutErrorHandling(e,t,n,i,r,o)}evaluate(e,t,n,i,r,o){return this._styleExpression.evaluate(e,t,n,i,r,o)}}class Fg{constructor(e,t,n,i){this.kind=e,this.zoomStops=n,this._styleExpression=t,this.isStateDependent="camera"!==e&&!Cg(t.expression),this.globalStateRefs=Og(t.expression),this.interpolationType=i}evaluateWithoutErrorHandling(e,t,n,i,r,o){return this._styleExpression.evaluateWithoutErrorHandling(e,t,n,i,r,o)}evaluate(e,t,n,i,r,o){return this._styleExpression.evaluate(e,t,n,i,r,o)}interpolationFactor(e,t,n){return this.interpolationType?rf.interpolationFactor(this.interpolationType,e,t,n):0}}function Lg(e,t){const n=Ag(e,t);if("error"===n.result)return n;const i=n.value.expression,r=Sg(i);if(!r&&("data-driven"!==(o=t)["property-type"]&&"cross-faded-data-driven"!==o["property-type"]))return Rg([new kd("","data expressions not supported")]);var o;const s=Eg(i,["zoom"]);if(!s&&!function(e){return!!e.expression&&e.expression.parameters.indexOf("zoom")>-1}(t))return Rg([new kd("","zoom expressions not supported")]);const a=zg(i);if(!a&&!s)return Rg([new kd("",'"zoom" expression may only be used as input to a top-level "step" or "interpolate" expression.')]);if(a instanceof kd)return Rg([a]);if(a instanceof rf&&!function(e){return!!e.expression&&e.expression.interpolated}(t))return Rg([new kd("",'"interpolate" expressions cannot be used with this property')]);if(!a)return Tg(new Pg(r?"constant":"source",n.value));const l=a instanceof rf?a.interpolation:void 0;return Tg(new Fg(r?"camera":"composite",n.value,a.labels,l))}function zg(e){let t=null;if(e instanceof qp)t=zg(e.result);else if(e instanceof sf){for(const n of e.args)if(t=zg(n),t)break}else(e instanceof Jp||e instanceof rf)&&e.input instanceof _g&&"zoom"===e.input.name&&(t=e);return t instanceof kd||e.eachChild(e=>{const n=zg(e);n instanceof kd?t=n:!t&&n?t=new kd("",'"zoom" expression may only be used as input to a top-level "step" or "interpolate" expression.'):t&&n&&t!==n&&(t=new kd("",'Only one zoom-based "step" or "interpolate" subexpression may be used in an expression.'))}),t}function Og(e,t=new Set){return e instanceof mg&&t.add(e.key),e.eachChild(e=>{Og(e,t)}),t}function Dg(e){if(!0===e||!1===e)return!0;if(!Array.isArray(e)||0===e.length)return!1;switch(e[0]){case"has":return e.length>=2&&"$id"!==e[1]&&"$type"!==e[1];case"in":return e.length>=3&&("string"!=typeof e[1]||Array.isArray(e[2]));case"!in":case"!has":case"none":return!1;case"==":case"!=":case">":case">=":case"<":case"<=":return 3!==e.length||Array.isArray(e[1])||Array.isArray(e[2]);case"any":case"all":for(const t of e.slice(1))if(!Dg(t)&&"boolean"!=typeof t)return!1;return!0;default:return!0}}const jg={type:"boolean",default:!1,transition:!1,"property-type":"data-driven",expression:{interpolated:!1,parameters:["zoom","feature"]}};function Ng(e){if(null==e)return{filter:()=>!0,needGeometry:!1,getGlobalStateRefs:()=>new Set};Dg(e)||(e=Gg(e));const t=Ag(e,jg);if("error"===t.result)throw new Error(t.value.map(e=>`${e.key}: ${e.message}`).join(", "));return{filter:(e,n,i)=>t.value.evaluate(e,n,{},i),needGeometry:Bg(e),getGlobalStateRefs:()=>Og(t.value.expression)}}function $g(e,t){return e<t?-1:e>t?1:0}function Bg(e){if(!Array.isArray(e))return!1;if("within"===e[0]||"distance"===e[0])return!0;for(let t=1;t<e.length;t++)if(Bg(e[t]))return!0;return!1}function Gg(e){if(!e)return!0;const t=e[0];if(e.length<=1)return"any"!==t;var n;return"=="===t?qg(e[1],e[2],"=="):"!="===t?Ug(qg(e[1],e[2],"==")):"<"===t||">"===t||"<="===t||">="===t?qg(e[1],e[2],t):"any"===t?(n=e.slice(1),["any"].concat(n.map(Gg))):"all"===t?["all"].concat(e.slice(1).map(Gg)):"none"===t?["all"].concat(e.slice(1).map(Gg).map(Ug)):"in"===t?Wg(e[1],e.slice(2)):"!in"===t?Ug(Wg(e[1],e.slice(2))):"has"===t?Xg(e[1]):"!has"!==t||Ug(Xg(e[1]))}function qg(e,t,n){switch(e){case"$type":return[`filter-type-${n}`,t];case"$id":return[`filter-id-${n}`,t];default:return[`filter-${n}`,e,t]}}function Wg(e,t){if(0===t.length)return!1;switch(e){case"$type":return["filter-type-in",["literal",t]];case"$id":return["filter-id-in",["literal",t]];default:return t.length>200&&!t.some(e=>typeof e!=typeof t[0])?["filter-in-large",e,["literal",t.sort($g)]]:["filter-in-small",e,["literal",t]]}}function Xg(e){switch(e){case"$type":return!0;case"$id":return["filter-has-id"];default:return["filter-has",e]}}function Ug(e){return["!",e]}function Hg(e){return"object"==typeof e?["literal",e]:e}function Vg(e,t){let n=e.stops;if(!n)return function(e,t){const n=["get",e.property];if(void 0===e.default)return"string"===t.type?["string",n]:n;if("enum"===t.type)return["match",n,Object.keys(t.values),n,e.default];{const i=["color"===t.type?"to-color":t.type,n,Hg(e.default)];return"array"===t.type&&i.splice(1,0,t.value,t.length||null),i}}(e,t);const i=n&&"object"==typeof n[0][0],r=i||void 0!==e.property,o=i||!r;return n=n.map(e=>!r&&t.tokens&&"string"==typeof e[1]?[e[0],tm(e[1])]:[e[0],Hg(e[1])]),i?function(e,t,n){const i={},r={},o=[];for(let a=0;a<n.length;a++){const t=n[a],s=t[0].zoom;void 0===i[s]&&(i[s]={zoom:s,type:e.type,property:e.property,default:e.default},r[s]=[],o.push(s)),r[s].push([t[0].value,t[1]])}const s=em({},t);if("exponential"===s){const n=[Yg(e),["linear"],["zoom"]];for(const e of o){Qg(n,e,Kg(i[e],t,r[e]),!1)}return n}{const e=["step",["zoom"]];for(const n of o){Qg(e,n,Kg(i[n],t,r[n]),!0)}return Jg(e),e}}(e,t,n):o?function(e,t,n,i=["zoom"]){const r=em(e,t);let o,s=!1;if("interval"===r)o=["step",i],s=!0;else{if("exponential"!==r)throw new Error(`Unknown zoom function type "${r}"`);{const t=void 0!==e.base?e.base:1;o=[Yg(e),1===t?["linear"]:["exponential",t],i]}}for(const a of n)Qg(o,a[0],a[1],s);return Jg(o),o}(e,t,n):Kg(e,t,n)}function Yg(e){switch(e.colorSpace){case"hcl":return"interpolate-hcl";case"lab":return"interpolate-lab";default:return"interpolate"}}function Zg(e,t){const n=Hg((i=e.default,r=t.default,void 0!==i?i:void 0!==r?r:void 0));var i,r;return void 0===n&&"resolvedImage"===t.type?"":n}function Kg(e,t,n){const i=em(e,t),r=["get",e.property];if("categorical"===i&&"boolean"==typeof n[0][0]){const i=["case"];for(const e of n)i.push(["==",r,e[0]],e[1]);return i.push(Zg(e,t)),i}if("categorical"===i){const i=["match",r];for(const e of n)Qg(i,e[0],e[1],!1);return i.push(Zg(e,t)),i}if("interval"===i){const t=["step",["number",r]];for(const e of n)Qg(t,e[0],e[1],!0);return Jg(t),void 0===e.default?t:["case",["==",["typeof",r],"number"],t,Hg(e.default)]}if("exponential"===i){const t=void 0!==e.base?e.base:1,i=[Yg(e),1===t?["linear"]:["exponential",t],["number",r]];for(const e of n)Qg(i,e[0],e[1],!1);return void 0===e.default?i:["case",["==",["typeof",r],"number"],i,Hg(e.default)]}throw new Error(`Unknown property function type ${i}`)}function Jg(e){"step"===e[0]&&3===e.length&&(e.push(0),e.push(e[3]))}function Qg(e,t,n,i){e.length>3&&t===e[e.length-2]||(i&&2===e.length||e.push(t),e.push(n))}function em(e,t){return e.type?e.type:t.expression.interpolated?"exponential":"interval"}function tm(e){const t=["concat"],n=/{([^{}]+)}/g;let i=0;for(let r=n.exec(e);null!==r;r=n.exec(e)){const o=e.slice(i,n.lastIndex-r[0].length);i=n.lastIndex,o.length>0&&t.push(o),t.push(["get",r[1]])}if(1===t.length)return e;if(i<e.length)t.push(e.slice(i));else if(2===t.length)return["to-string",t[1]];return t}const nm=yd;var im={thin:100,hairline:100,"ultra-light":200,"extra-light":200,light:300,book:300,regular:400,normal:400,plain:400,roman:400,standard:400,medium:500,"semi-bold":600,"demi-bold":600,bold:700,"extra-bold":800,"ultra-bold":800,heavy:900,black:900,"heavy-black":900,fat:900,poster:900,"ultra-black":950,"extra-black":950},rm=" ",om=/(italic|oblique)$/i,sm={};function am(e,t,n){var i=sm[e];if(!i){Array.isArray(e)||(e=[e]);for(var r,o,s=400,a="normal",l=[],c=0,u=e.length;c<u;++c){var h=e[c].split(" "),d=h[h.length-1].toLowerCase();for(var p in"normal"==d||"italic"==d||"oblique"==d?(a=o?a:d,o=!0,h.pop(),d=h[h.length-1].toLowerCase()):om.test(d)&&(d=d.replace(om,""),a=o?a:h[h.length-1].replace(d,""),o=!0),im){var f=h.length>1?h[h.length-2].toLowerCase():"";if(d==p||d==p.replace("-","")||f+"-"+d==p){s=r?s:im[p],h.pop(),f&&p.startsWith(f)&&h.pop();break}}r||"number"!=typeof d||(s=d,r=!0);var g=h.join(rm).replace("Klokantech Noto Sans","Noto Sans").replace("DIN Pro","Barlow").replace("Arial Unicode MS","Arial");-1!==g.indexOf(rm)&&(g='"'+g+'"'),l.push(g)}i=sm[e]=[a,s,l]}return i[0]+rm+i[1]+rm+t+"px"+(n?"/"+n:"")+rm+i[2]}class lm extends $n{constructor(e,t,n){super(e),this.map=t,this.frameState=void 0!==n?n:null}}class cm extends lm{constructor(e,t,n,i,r,o){super(e,t,r),this.originalEvent=n,this.pixel_=null,this.coordinate_=null,this.dragging=void 0!==i&&i,this.activePointers=o}get pixel(){return this.pixel_||(this.pixel_=this.map.getEventPixel(this.originalEvent)),this.pixel_}set pixel(e){this.pixel_=e}get coordinate(){return this.coordinate_||(this.coordinate_=this.map.getCoordinateFromPixel(this.pixel)),this.coordinate_}set coordinate(e){this.coordinate_=e}preventDefault(){super.preventDefault(),"preventDefault"in this.originalEvent&&this.originalEvent.preventDefault()}stopPropagation(){super.stopPropagation(),"stopPropagation"in this.originalEvent&&this.originalEvent.stopPropagation()}}const um={SINGLECLICK:"singleclick",CLICK:un,DBLCLICK:hn,POINTERDRAG:"pointerdrag",POINTERMOVE:"pointermove",POINTERDOWN:"pointerdown",POINTERUP:"pointerup",POINTEROVER:"pointerover",POINTEROUT:"pointerout",POINTERENTER:"pointerenter",POINTERLEAVE:"pointerleave",POINTERCANCEL:"pointercancel"},hm="pointermove",dm="pointerdown";class pm extends Bn{constructor(e,t){super(e),this.map_=e,this.clickTimeoutId_,this.emulateClicks_=!1,this.dragging_=!1,this.dragListenerKeys_=[],this.moveTolerance_=void 0===t?1:t,this.down_=null;const n=this.map_.getViewport();this.activePointers_=[],this.trackedTouches_={},this.element_=n,this.pointerdownListenerKey_=yn(n,dm,this.handlePointerDown_,this),this.originalPointerMoveEvent_,this.relayedListenerKey_=yn(n,hm,this.relayMoveEvent_,this),this.boundHandleTouchMove_=this.handleTouchMove_.bind(this),this.element_.addEventListener(gn,this.boundHandleTouchMove_,!!en&&{passive:!1})}emulateClick_(e){let t=new cm(um.CLICK,this.map_,e);this.dispatchEvent(t),void 0!==this.clickTimeoutId_?(clearTimeout(this.clickTimeoutId_),this.clickTimeoutId_=void 0,t=new cm(um.DBLCLICK,this.map_,e),this.dispatchEvent(t)):this.clickTimeoutId_=setTimeout(()=>{this.clickTimeoutId_=void 0;const t=new cm(um.SINGLECLICK,this.map_,e);this.dispatchEvent(t)},250)}updateActivePointers_(e){const t=e,n=t.pointerId;if(t.type==um.POINTERUP||t.type==um.POINTERCANCEL){delete this.trackedTouches_[n];for(const e in this.trackedTouches_)if(this.trackedTouches_[e].target!==t.target){delete this.trackedTouches_[e];break}}else t.type!=um.POINTERDOWN&&t.type!=um.POINTERMOVE||(this.trackedTouches_[n]=t);this.activePointers_=Object.values(this.trackedTouches_)}handlePointerUp_(e){this.updateActivePointers_(e);const t=new cm(um.POINTERUP,this.map_,e,void 0,void 0,this.activePointers_);this.dispatchEvent(t),this.emulateClicks_&&!t.defaultPrevented&&!this.dragging_&&this.isMouseActionButton_(e)&&this.emulateClick_(this.down_),0===this.activePointers_.length&&(this.dragListenerKeys_.forEach(bn),this.dragListenerKeys_.length=0,this.dragging_=!1,this.down_=null)}isMouseActionButton_(e){return 0===e.button}handlePointerDown_(e){this.emulateClicks_=0===this.activePointers_.length,this.updateActivePointers_(e);const t=new cm(um.POINTERDOWN,this.map_,e,void 0,void 0,this.activePointers_);if(this.dispatchEvent(t),this.down_=new PointerEvent(e.type,e),Object.defineProperty(this.down_,"target",{writable:!1,value:e.target}),0===this.dragListenerKeys_.length){const e=this.map_.getOwnerDocument();this.dragListenerKeys_.push(yn(e,um.POINTERMOVE,this.handlePointerMove_,this),yn(e,um.POINTERUP,this.handlePointerUp_,this),yn(this.element_,um.POINTERCANCEL,this.handlePointerUp_,this)),this.element_.getRootNode&&this.element_.getRootNode()!==e&&this.dragListenerKeys_.push(yn(this.element_.getRootNode(),um.POINTERUP,this.handlePointerUp_,this))}}handlePointerMove_(e){if(this.isMoving_(e)){this.updateActivePointers_(e),this.dragging_=!0;const t=new cm(um.POINTERDRAG,this.map_,e,this.dragging_,void 0,this.activePointers_);this.dispatchEvent(t)}}relayMoveEvent_(e){this.originalPointerMoveEvent_=e;const t=!(!this.down_||!this.isMoving_(e));this.dispatchEvent(new cm(um.POINTERMOVE,this.map_,e,t))}handleTouchMove_(e){const t=this.originalPointerMoveEvent_;t&&!t.defaultPrevented||"boolean"==typeof e.cancelable&&!0!==e.cancelable||e.preventDefault()}isMoving_(e){return this.dragging_||Math.abs(e.clientX-this.down_.clientX)>this.moveTolerance_||Math.abs(e.clientY-this.down_.clientY)>this.moveTolerance_}disposeInternal(){this.relayedListenerKey_&&(bn(this.relayedListenerKey_),this.relayedListenerKey_=null),this.element_.removeEventListener(gn,this.boundHandleTouchMove_),this.pointerdownListenerKey_&&(bn(this.pointerdownListenerKey_),this.pointerdownListenerKey_=null),this.dragListenerKeys_.forEach(bn),this.dragListenerKeys_.length=0,this.element_=null,super.disposeInternal()}}const fm=0,gm=1,mm=2,vm=3,_m=4,ym=1/0;class xm{constructor(e,t){this.priorityFunction_=e,this.keyFunction_=t,this.elements_=[],this.priorities_=[],this.queuedElements_={}}clear(){this.elements_.length=0,this.priorities_.length=0,vn(this.queuedElements_)}dequeue(){const e=this.elements_,t=this.priorities_,n=e[0];1==e.length?(e.length=0,t.length=0):(e[0]=e.pop(),t[0]=t.pop(),this.siftUp_(0));const i=this.keyFunction_(n);return delete this.queuedElements_[i],n}enqueue(e){ai(!(this.keyFunction_(e)in this.queuedElements_),"Tried to enqueue an `element` that was already added to the queue");const t=this.priorityFunction_(e);return t!=ym&&(this.elements_.push(e),this.priorities_.push(t),this.queuedElements_[this.keyFunction_(e)]=!0,this.siftDown_(0,this.elements_.length-1),!0)}getCount(){return this.elements_.length}getLeftChildIndex_(e){return 2*e+1}getRightChildIndex_(e){return 2*e+2}getParentIndex_(e){return e-1>>1}heapify_(){let e;for(e=(this.elements_.length>>1)-1;e>=0;e--)this.siftUp_(e)}isEmpty(){return 0===this.elements_.length}isKeyQueued(e){return e in this.queuedElements_}isQueued(e){return this.isKeyQueued(this.keyFunction_(e))}siftUp_(e){const t=this.elements_,n=this.priorities_,i=t.length,r=t[e],o=n[e],s=e;for(;e<i>>1;){const r=this.getLeftChildIndex_(e),o=this.getRightChildIndex_(e),s=o<i&&n[o]<n[r]?o:r;t[e]=t[s],n[e]=n[s],e=s}t[e]=r,n[e]=o,this.siftDown_(s,e)}siftDown_(e,t){const n=this.elements_,i=this.priorities_,r=n[t],o=i[t];for(;t>e;){const e=this.getParentIndex_(t);if(!(i[e]>o))break;n[t]=n[e],i[t]=i[e],t=e}n[t]=r,i[t]=o}reprioritize(){const e=this.priorityFunction_,t=this.elements_,n=this.priorities_;let i=0;const r=t.length;let o,s,a;for(s=0;s<r;++s)o=t[s],a=e(o),a==ym?delete this.queuedElements_[this.keyFunction_(o)]:(n[i]=a,t[i++]=o);t.length=i,n.length=i,this.heapify_()}}class bm extends xm{constructor(e,t){super(t=>e.apply(null,t),e=>e[0].getKey()),this.boundHandleTileChange_=this.handleTileChange.bind(this),this.tileChangeCallback_=t,this.tilesLoading_=0,this.tilesLoadingKeys_={}}enqueue(e){const t=super.enqueue(e);if(t){e[0].addEventListener(an,this.boundHandleTileChange_)}return t}getTilesLoading(){return this.tilesLoading_}handleTileChange(e){const t=e.target,n=t.getState();if(n===mm||n===vm||n===_m){n!==vm&&t.removeEventListener(an,this.boundHandleTileChange_);const e=t.getKey();e in this.tilesLoadingKeys_&&(delete this.tilesLoadingKeys_[e],--this.tilesLoading_),this.tileChangeCallback_()}}loadMoreTiles(e,t){let n=0;for(;this.tilesLoading_<e&&n<t&&this.getCount()>0;){const e=this.dequeue()[0],t=e.getKey();e.getState()!==fm||t in this.tilesLoadingKeys_||(this.tilesLoadingKeys_[t]=!0,++this.tilesLoading_,++n,e.load())}}}class wm extends Vn{constructor(e){e=e||{},super({element:document.createElement("div"),render:e.render,target:e.target}),this.ulElement_=document.createElement("ul"),this.collapsed_=void 0===e.collapsed||e.collapsed,this.userCollapsed_=this.collapsed_,this.overrideCollapsible_=void 0!==e.collapsible,this.collapsible_=void 0===e.collapsible||e.collapsible,this.collapsible_||(this.collapsed_=!1),this.attributions_=e.attributions;const t=void 0!==e.className?e.className:"ol-attribution",n=void 0!==e.tipLabel?e.tipLabel:"Attributions",i=void 0!==e.expandClassName?e.expandClassName:t+"-expand",r=void 0!==e.collapseLabel?e.collapseLabel:"›",o=void 0!==e.collapseClassName?e.collapseClassName:t+"-collapse";"string"==typeof r?(this.collapseLabel_=document.createElement("span"),this.collapseLabel_.textContent=r,this.collapseLabel_.className=o):this.collapseLabel_=r;const s=void 0!==e.label?e.label:"i";"string"==typeof s?(this.label_=document.createElement("span"),this.label_.textContent=s,this.label_.className=i):this.label_=s;const a=this.collapsible_&&!this.collapsed_?this.collapseLabel_:this.label_;this.toggleButton_=document.createElement("button"),this.toggleButton_.setAttribute("type","button"),this.toggleButton_.setAttribute("aria-expanded",String(!this.collapsed_)),this.toggleButton_.title=n,this.toggleButton_.appendChild(a),this.toggleButton_.addEventListener(un,this.handleClick_.bind(this),!1);const l=t+" "+Nt+" "+Bt+(this.collapsed_&&this.collapsible_?" "+Gt:"")+(this.collapsible_?"":" ol-uncollapsible"),c=this.element;c.className=l,c.appendChild(this.toggleButton_),c.appendChild(this.ulElement_),this.renderedAttributions_=[],this.renderedVisible_=!0}collectSourceAttributions_(e){const t=this.getMap().getAllLayers(),n=new Set(t.flatMap(t=>t.getAttributions(e)));if(void 0!==this.attributions_&&(Array.isArray(this.attributions_)?this.attributions_.forEach(e=>n.add(e)):n.add(this.attributions_)),!this.overrideCollapsible_){const e=!t.some(e=>!1===e.getSource()?.getAttributionsCollapsible());this.setCollapsible(e)}return Array.from(n)}async updateElement_(e){if(!e)return void(this.renderedVisible_&&(this.element.style.display="none",this.renderedVisible_=!1));const t=await Promise.all(this.collectSourceAttributions_(e).map(e=>Nn(()=>e))),n=t.length>0;if(this.renderedVisible_!=n&&(this.element.style.display=n?"":"none",this.renderedVisible_=n),!Ln(t,this.renderedAttributions_)){!function(e){for(;e.lastChild;)e.lastChild.remove()}(this.ulElement_);for(let e=0,n=t.length;e<n;++e){const n=document.createElement("li");n.innerHTML=t[e],this.ulElement_.appendChild(n)}this.renderedAttributions_=t}}handleClick_(e){e.preventDefault(),this.handleToggle_(),this.userCollapsed_=this.collapsed_}handleToggle_(){this.element.classList.toggle(Gt),this.collapsed_?sn(this.collapseLabel_,this.label_):sn(this.label_,this.collapseLabel_),this.collapsed_=!this.collapsed_,this.toggleButton_.setAttribute("aria-expanded",String(!this.collapsed_))}getCollapsible(){return this.collapsible_}setCollapsible(e){this.collapsible_!==e&&(this.collapsible_=e,this.element.classList.toggle("ol-uncollapsible"),this.userCollapsed_&&this.handleToggle_())}setCollapsed(e){this.userCollapsed_=e,this.collapsible_&&this.collapsed_!==e&&this.handleToggle_()}getCollapsed(){return this.collapsed_}render(e){this.updateElement_(e.frameState)}}class km extends Vn{constructor(e){e=e||{},super({element:document.createElement("div"),render:e.render,target:e.target});const t=void 0!==e.className?e.className:"ol-rotate",n=void 0!==e.label?e.label:"⇧",i=void 0!==e.compassClassName?e.compassClassName:"ol-compass";this.label_=null,"string"==typeof n?(this.label_=document.createElement("span"),this.label_.className=i,this.label_.textContent=n):(this.label_=n,this.label_.classList.add(i));const r=e.tipLabel?e.tipLabel:"Reset rotation",o=document.createElement("button");o.className=t+"-reset",o.setAttribute("type","button"),o.title=r,o.appendChild(this.label_),o.addEventListener(un,this.handleClick_.bind(this),!1);const s=t+" "+Nt+" "+Bt,a=this.element;a.className=s,a.appendChild(o),this.callResetNorth_=e.resetNorth?e.resetNorth:void 0,this.duration_=void 0!==e.duration?e.duration:250,this.autoHide_=void 0===e.autoHide||e.autoHide,this.rotation_=void 0,this.autoHide_&&this.element.classList.add(jt)}handleClick_(e){e.preventDefault(),void 0!==this.callResetNorth_?this.callResetNorth_():this.resetNorth_()}resetNorth_(){const e=this.getMap().getView();if(!e)return;const t=e.getRotation();void 0!==t&&(this.duration_>0&&t%(2*Math.PI)!=0?e.animate({rotation:0,duration:this.duration_,easing:qh}):e.setRotation(0))}render(e){const t=e.frameState;if(!t)return;const n=t.viewState.rotation;if(n!=this.rotation_){const e="rotate("+n+"rad)";if(this.autoHide_){const e=this.element.classList.contains(jt);e||0!==n?e&&0!==n&&this.element.classList.remove(jt):this.element.classList.add(jt)}this.label_.style.transform=e}this.rotation_=n}}class Sm extends Vn{constructor(e){e=e||{},super({element:document.createElement("div"),target:e.target});const t=void 0!==e.className?e.className:"ol-zoom",n=void 0!==e.delta?e.delta:1,i=void 0!==e.zoomInClassName?e.zoomInClassName:t+"-in",r=void 0!==e.zoomOutClassName?e.zoomOutClassName:t+"-out",o=void 0!==e.zoomInLabel?e.zoomInLabel:"+",s=void 0!==e.zoomOutLabel?e.zoomOutLabel:"–",a=void 0!==e.zoomInTipLabel?e.zoomInTipLabel:"Zoom in",l=void 0!==e.zoomOutTipLabel?e.zoomOutTipLabel:"Zoom out",c=document.createElement("button");c.className=i,c.setAttribute("type","button"),c.title=a,c.appendChild("string"==typeof o?document.createTextNode(o):o),c.addEventListener(un,this.handleClick_.bind(this,n),!1);const u=document.createElement("button");u.className=r,u.setAttribute("type","button"),u.title=l,u.appendChild("string"==typeof s?document.createTextNode(s):s),u.addEventListener(un,this.handleClick_.bind(this,-n),!1);const h=t+" "+Nt+" "+Bt,d=this.element;d.className=h,d.appendChild(c),d.appendChild(u),this.duration_=void 0!==e.duration?e.duration:250}handleClick_(e,t){t.preventDefault(),this.zoomByDelta_(e)}zoomByDelta_(e){const t=this.getMap().getView();if(!t)return;const n=t.getZoom();if(void 0!==n){const i=t.getConstrainedZoom(n+e);this.duration_>0?(t.getAnimating()&&t.cancelAnimations(),t.animate({zoom:i,duration:this.duration_,easing:qh})):t.setZoom(i)}}}class Cm{constructor(e,t,n){this.decay_=e,this.minVelocity_=t,this.delay_=n,this.points_=[],this.angle_=0,this.initialVelocity_=0}begin(){this.points_.length=0,this.angle_=0,this.initialVelocity_=0}update(e,t){this.points_.push(e,t,Date.now())}end(){if(this.points_.length<6)return!1;const e=Date.now()-this.delay_,t=this.points_.length-3;if(this.points_[t+2]<e)return!1;let n=t-3;for(;n>0&&this.points_[n+2]>e;)n-=3;const i=this.points_[t+2]-this.points_[n+2];if(i<1e3/60)return!1;const r=this.points_[t]-this.points_[n],o=this.points_[t+1]-this.points_[n+1];return this.angle_=Math.atan2(o,r),this.initialVelocity_=Math.sqrt(r*r+o*o)/i,this.initialVelocity_>this.minVelocity_}getDistance(){return(this.minVelocity_-this.initialVelocity_)/this.decay_}getAngle(){return this.angle_}}const Em="active";class Tm extends Hn{constructor(e){super(),this.on,this.once,this.un,e&&e.handleEvent&&(this.handleEvent=e.handleEvent),this.map_=null,this.setActive(!0)}getActive(){return this.get(Em)}getMap(){return this.map_}handleEvent(e){return!0}setActive(e){this.set(Em,e)}setMap(e){this.map_=e}}function Rm(e,t,n,i){const r=e.getZoom();if(void 0===r)return;const o=e.getConstrainedZoom(r+t),s=e.getResolutionForZoom(o);e.getAnimating()&&e.cancelAnimations(),e.animate({resolution:s,anchor:n,duration:void 0!==i?i:250,easing:qh})}class Mm extends Tm{constructor(e){super(),e=e||{},this.delta_=e.delta?e.delta:1,this.duration_=void 0!==e.duration?e.duration:250}handleEvent(e){let t=!1;if(e.type==um.DBLCLICK){const n=e.originalEvent,i=e.map,r=e.coordinate,o=n.shiftKey?-this.delta_:this.delta_;Rm(i.getView(),o,r,this.duration_),n.preventDefault(),t=!0}return!t}}function Im(e){const t=arguments;return function(e){let n=!0;for(let i=0,r=t.length;i<r&&(n=n&&t[i](e),n);++i);return n}}const Am=function(e){const t=e.originalEvent;return t.altKey&&!(t.metaKey||t.ctrlKey)&&t.shiftKey},Pm=function(e){const t=e.map.getTargetElement(),n=t.getRootNode();return!(n instanceof ShadowRoot?n.host:t).hasAttribute("tabindex")||function(e){const t=e.map.getTargetElement(),n=t.getRootNode(),i=e.map.getOwnerDocument().activeElement;return n instanceof ShadowRoot?n.host.contains(i):t.contains(i)}(e)},Fm=zn,Lm=function(e){const t=e.originalEvent;return"pointerId"in t&&0==t.button&&!(Vt&&Yt&&t.ctrlKey)},zm=function(e){const t=e.originalEvent;return!t.altKey&&!(t.metaKey||t.ctrlKey)&&!t.shiftKey},Om=function(e){const t=e.originalEvent;return!t.altKey&&!(t.metaKey||t.ctrlKey)&&t.shiftKey},Dm=function(e){const t=e.originalEvent,n=t.target.tagName;return"INPUT"!==n&&"SELECT"!==n&&"TEXTAREA"!==n&&!t.target.isContentEditable},jm=function(e){const t=e.originalEvent;return"pointerId"in t&&"mouse"==t.pointerType},Nm=function(e){const t=e.originalEvent;return"pointerId"in t&&t.isPrimary&&0===t.button};class $m extends Tm{constructor(e){super(e=e||{}),e.handleDownEvent&&(this.handleDownEvent=e.handleDownEvent),e.handleDragEvent&&(this.handleDragEvent=e.handleDragEvent),e.handleMoveEvent&&(this.handleMoveEvent=e.handleMoveEvent),e.handleUpEvent&&(this.handleUpEvent=e.handleUpEvent),e.stopDown&&(this.stopDown=e.stopDown),this.handlingDownUpSequence=!1,this.targetPointers=[]}getPointerCount(){return this.targetPointers.length}handleDownEvent(e){return!1}handleDragEvent(e){}handleEvent(e){if(!e.originalEvent)return!0;let t=!1;if(this.updateTrackedPointers_(e),this.handlingDownUpSequence){if(e.type==um.POINTERDRAG)this.handleDragEvent(e),e.originalEvent.preventDefault();else if(e.type==um.POINTERUP){const t=this.handleUpEvent(e);this.handlingDownUpSequence=t&&this.targetPointers.length>0}}else if(e.type==um.POINTERDOWN){const n=this.handleDownEvent(e);this.handlingDownUpSequence=n,t=this.stopDown(n)}else e.type==um.POINTERMOVE&&this.handleMoveEvent(e);return!t}handleMoveEvent(e){}handleUpEvent(e){return!1}stopDown(e){return e}updateTrackedPointers_(e){e.activePointers&&(this.targetPointers=e.activePointers)}}function Bm(e){const t=e.length;let n=0,i=0;for(let r=0;r<t;r++)n+=e[r].clientX,i+=e[r].clientY;return{clientX:n/t,clientY:i/t}}class Gm extends $m{constructor(e){super({stopDown:On}),e=e||{},this.kinetic_=e.kinetic,this.lastCentroid=null,this.lastPointersCount_,this.panning_=!1;const t=e.condition?e.condition:Im(zm,Nm);this.condition_=e.onFocusOnly?Im(Pm,t):t,this.noKinetic_=!1}handleDragEvent(e){const t=e.map;this.panning_||(this.panning_=!0,t.getView().beginInteraction());const n=this.targetPointers,i=t.getEventPixel(Bm(n));if(n.length==this.lastPointersCount_){if(this.kinetic_&&this.kinetic_.update(i[0],i[1]),this.lastCentroid){const t=[this.lastCentroid[0]-i[0],i[1]-this.lastCentroid[1]],n=e.map.getView();r=t,o=n.getResolution(),r[0]*=o,r[1]*=o,ur(t,n.getRotation()),n.adjustCenterInternal(t)}}else this.kinetic_&&this.kinetic_.begin();var r,o;this.lastCentroid=i,this.lastPointersCount_=n.length,e.originalEvent.preventDefault()}handleUpEvent(e){const t=e.map,n=t.getView();if(0===this.targetPointers.length){if(!this.noKinetic_&&this.kinetic_&&this.kinetic_.end()){const e=this.kinetic_.getDistance(),i=this.kinetic_.getAngle(),r=n.getCenterInternal(),o=t.getPixelFromCoordinateInternal(r),s=t.getCoordinateFromPixelInternal([o[0]-e*Math.cos(i),o[1]-e*Math.sin(i)]);n.animateInternal({center:n.getConstrainedCenter(s),duration:500,easing:qh})}return this.panning_&&(this.panning_=!1,n.endInteraction()),!1}return this.kinetic_&&this.kinetic_.begin(),this.lastCentroid=null,!0}handleDownEvent(e){if(this.targetPointers.length>0&&this.condition_(e)){const t=e.map.getView();return this.lastCentroid=null,t.getAnimating()&&t.cancelAnimations(),this.kinetic_&&this.kinetic_.begin(),this.noKinetic_=this.targetPointers.length>1,!0}return!1}}class qm extends $m{constructor(e){e=e||{},super({stopDown:On}),this.condition_=e.condition?e.condition:Am,this.lastAngle_=void 0,this.duration_=void 0!==e.duration?e.duration:250}handleDragEvent(e){if(!jm(e))return;const t=e.map,n=t.getView();if(n.getConstraints().rotation===Yh)return;const i=t.getSize(),r=e.pixel,o=Math.atan2(i[1]/2-r[1],r[0]-i[0]/2);if(void 0!==this.lastAngle_){const e=o-this.lastAngle_;n.adjustRotationInternal(-e)}this.lastAngle_=o}handleUpEvent(e){if(!jm(e))return!0;return e.map.getView().endInteraction(this.duration_),!1}handleDownEvent(e){if(!jm(e))return!1;if(Lm(e)&&this.condition_(e)){return e.map.getView().beginInteraction(),this.lastAngle_=void 0,!0}return!1}}class Wm extends Rn{constructor(e){super(),this.geometry_=null,this.element_=document.createElement("div"),this.element_.style.position="absolute",this.element_.style.pointerEvents="auto",this.element_.className="ol-box "+e,this.map_=null,this.startPixel_=null,this.endPixel_=null}disposeInternal(){this.setMap(null)}render_(){const e=this.startPixel_,t=this.endPixel_,n="px",i=this.element_.style;i.left=Math.min(e[0],t[0])+n,i.top=Math.min(e[1],t[1])+n,i.width=Math.abs(t[0]-e[0])+n,i.height=Math.abs(t[1]-e[1])+n}setMap(e){if(this.map_){this.map_.getOverlayContainer().removeChild(this.element_);const e=this.element_.style;e.left="inherit",e.top="inherit",e.width="inherit",e.height="inherit"}this.map_=e,this.map_&&this.map_.getOverlayContainer().appendChild(this.element_)}setPixels(e,t){this.startPixel_=e,this.endPixel_=t,this.createOrUpdateGeometry(),this.render_()}createOrUpdateGeometry(){if(!this.map_)return;const e=this.startPixel_,t=this.endPixel_,n=[e,[e[0],t[1]],t,[t[0],e[1]]].map(this.map_.getCoordinateFromPixelInternal,this.map_);n[4]=n[0].slice(),this.geometry_?this.geometry_.setCoordinates([n]):this.geometry_=new Ns([n])}getGeometry(){return this.geometry_}}const Xm="boxstart",Um="boxdrag",Hm="boxend",Vm="boxcancel";class Ym extends $n{constructor(e,t,n){super(e),this.coordinate=t,this.mapBrowserEvent=n}}class Zm extends $m{constructor(e){super(),this.on,this.once,this.un,e=e??{},this.box_=new Wm(e.className||"ol-dragbox"),this.minArea_=e.minArea??64,e.onBoxEnd&&(this.onBoxEnd=e.onBoxEnd),this.startPixel_=null,this.condition_=e.condition??Lm,this.boxEndCondition_=e.boxEndCondition??this.defaultBoxEndCondition}defaultBoxEndCondition(e,t,n){const i=n[0]-t[0],r=n[1]-t[1];return i*i+r*r>=this.minArea_}getGeometry(){return this.box_.getGeometry()}handleDragEvent(e){this.startPixel_&&(this.box_.setPixels(this.startPixel_,e.pixel),this.dispatchEvent(new Ym(Um,e.coordinate,e)))}handleUpEvent(e){if(!this.startPixel_)return!1;const t=this.boxEndCondition_(e,this.startPixel_,e.pixel);return t&&this.onBoxEnd(e),this.dispatchEvent(new Ym(t?Hm:Vm,e.coordinate,e)),this.box_.setMap(null),this.startPixel_=null,!1}handleDownEvent(e){return!!this.condition_(e)&&(this.startPixel_=e.pixel,this.box_.setMap(e.map),this.box_.setPixels(this.startPixel_,this.startPixel_),this.dispatchEvent(new Ym(Xm,e.coordinate,e)),!0)}onBoxEnd(e){}setActive(e){e||(this.box_.setMap(null),this.startPixel_&&(this.dispatchEvent(new Ym(Vm,this.startPixel_,null)),this.startPixel_=null)),super.setActive(e)}setMap(e){this.getMap()&&(this.box_.setMap(null),this.startPixel_&&(this.dispatchEvent(new Ym(Vm,this.startPixel_,null)),this.startPixel_=null)),super.setMap(e)}}class Km extends Zm{constructor(e){super({condition:(e=e||{}).condition?e.condition:Om,className:e.className||"ol-dragzoom",minArea:e.minArea}),this.duration_=void 0!==e.duration?e.duration:200,this.out_=void 0!==e.out&&e.out}onBoxEnd(e){const t=this.getMap().getView();let n=this.getGeometry();if(this.out_){const e=t.rotatedExtentForGeometry(n),i=t.getResolutionForExtentInternal(e),r=t.getResolution()/i;n=n.clone(),n.scale(r*r)}t.fitInternal(n,{duration:this.duration_,easing:qh})}}const Jm="ArrowLeft",Qm="ArrowUp",ev="ArrowRight",tv="ArrowDown";class nv extends Tm{constructor(e){super(),e=e||{},this.defaultCondition_=function(e){return zm(e)&&Dm(e)},this.condition_=void 0!==e.condition?e.condition:this.defaultCondition_,this.duration_=void 0!==e.duration?e.duration:100,this.pixelDelta_=void 0!==e.pixelDelta?e.pixelDelta:128}handleEvent(e){let t=!1;if(e.type==dn){const n=e.originalEvent,i=n.key;if(this.condition_(e)&&(i==tv||i==Jm||i==ev||i==Qm)){const r=e.map.getView(),o=r.getResolution()*this.pixelDelta_;let s=0,a=0;i==tv?a=-o:i==Jm?s=-o:i==ev?s=o:a=o;const l=[s,a];ur(l,r.getRotation()),function(e,t,n){const i=e.getCenterInternal();if(i){const r=[i[0]+t[0],i[1]+t[1]];e.animateInternal({duration:void 0!==n?n:250,easing:Xh,center:e.getConstrainedCenter(r)})}}(r,l,this.duration_),n.preventDefault(),t=!0}}return!t}}class iv extends Tm{constructor(e){super(),e=e||{},this.condition_=e.condition?e.condition:function(e){return!function(e){const t=e.originalEvent;return Yt?t.metaKey:t.ctrlKey}(e)&&Dm(e)},this.delta_=e.delta?e.delta:1,this.duration_=void 0!==e.duration?e.duration:100}handleEvent(e){let t=!1;if(e.type==dn||e.type==pn){const n=e.originalEvent,i=n.key;if(this.condition_(e)&&("+"===i||"-"===i)){const r=e.map,o="+"===i?this.delta_:-this.delta_;Rm(r.getView(),o,void 0,this.duration_),n.preventDefault(),t=!0}}return!t}}class rv extends Tm{constructor(e){super(e=e||{}),this.totalDelta_=0,this.lastDelta_=0,this.maxDelta_=void 0!==e.maxDelta?e.maxDelta:1,this.duration_=void 0!==e.duration?e.duration:250,this.timeout_=void 0!==e.timeout?e.timeout:80,this.useAnchor_=void 0===e.useAnchor||e.useAnchor,this.constrainResolution_=void 0!==e.constrainResolution&&e.constrainResolution;const t=e.condition?e.condition:Fm;this.condition_=e.onFocusOnly?Im(Pm,t):t,this.lastAnchor_=null,this.startTime_=void 0,this.timeoutId_,this.mode_=void 0,this.trackpadEventGap_=400,this.trackpadTimeoutId_,this.deltaPerZoom_=300}endInteraction_(){this.trackpadTimeoutId_=void 0;const e=this.getMap();if(!e)return;e.getView().endInteraction(void 0,this.lastDelta_?this.lastDelta_>0?1:-1:0,this.lastAnchor_?e.getCoordinateFromPixel(this.lastAnchor_):null)}handleEvent(e){if(!this.condition_(e))return!0;if(e.type!==mn)return!0;const t=e.map,n=e.originalEvent;n.preventDefault(),this.useAnchor_&&(this.lastAnchor_=e.pixel);let i=n.deltaY;switch(n.deltaMode){case WheelEvent.DOM_DELTA_LINE:i*=40;break;case WheelEvent.DOM_DELTA_PAGE:i*=300}if(0===i)return!1;this.lastDelta_=i;const r=Date.now();void 0===this.startTime_&&(this.startTime_=r),(!this.mode_||r-this.startTime_>this.trackpadEventGap_)&&(this.mode_=Math.abs(i)<4?"trackpad":"wheel");const o=t.getView();if("trackpad"===this.mode_&&!o.getConstrainResolution()&&!this.constrainResolution_)return this.trackpadTimeoutId_?clearTimeout(this.trackpadTimeoutId_):(o.getAnimating()&&o.cancelAnimations(),o.beginInteraction()),this.trackpadTimeoutId_=setTimeout(this.endInteraction_.bind(this),this.timeout_),o.adjustZoom(-i/this.deltaPerZoom_,this.lastAnchor_?t.getCoordinateFromPixel(this.lastAnchor_):null),this.startTime_=r,!1;this.totalDelta_+=i;const s=Math.max(this.timeout_-(r-this.startTime_),0);return clearTimeout(this.timeoutId_),this.timeoutId_=setTimeout(this.handleWheelZoom_.bind(this,t),s),!1}handleWheelZoom_(e){const t=e.getView();t.getAnimating()&&t.cancelAnimations();let n=-Ji(this.totalDelta_,-this.maxDelta_*this.deltaPerZoom_,this.maxDelta_*this.deltaPerZoom_)/this.deltaPerZoom_;(t.getConstrainResolution()||this.constrainResolution_)&&(n=n?n>0?1:-1:0),Rm(t,n,this.lastAnchor_?e.getCoordinateFromPixel(this.lastAnchor_):null,this.duration_),this.mode_=void 0,this.totalDelta_=0,this.lastAnchor_=null,this.startTime_=void 0,this.timeoutId_=void 0}setMouseAnchor(e){this.useAnchor_=e,e||(this.lastAnchor_=null)}}class ov extends $m{constructor(e){const t=e=e||{};t.stopDown||(t.stopDown=On),super(t),this.anchor_=null,this.lastAngle_=void 0,this.rotating_=!1,this.rotationDelta_=0,this.threshold_=void 0!==e.threshold?e.threshold:.3,this.duration_=void 0!==e.duration?e.duration:250}handleDragEvent(e){let t=0;const n=this.targetPointers[0],i=this.targetPointers[1],r=Math.atan2(i.clientY-n.clientY,i.clientX-n.clientX);if(void 0!==this.lastAngle_){const e=r-this.lastAngle_;this.rotationDelta_+=e,!this.rotating_&&Math.abs(this.rotationDelta_)>this.threshold_&&(this.rotating_=!0),t=e}this.lastAngle_=r;const o=e.map,s=o.getView();s.getConstraints().rotation!==Yh&&(this.anchor_=o.getCoordinateFromPixelInternal(o.getEventPixel(Bm(this.targetPointers))),this.rotating_&&(o.render(),s.adjustRotationInternal(t,this.anchor_)))}handleUpEvent(e){if(this.targetPointers.length<2){return e.map.getView().endInteraction(this.duration_),!1}return!0}handleDownEvent(e){if(this.targetPointers.length>=2){const t=e.map;return this.anchor_=null,this.lastAngle_=void 0,this.rotating_=!1,this.rotationDelta_=0,this.handlingDownUpSequence||t.getView().beginInteraction(),!0}return!1}}class sv extends $m{constructor(e){const t=e=e||{};t.stopDown||(t.stopDown=On),super(t),this.anchor_=null,this.duration_=void 0!==e.duration?e.duration:400,this.lastDistance_=void 0,this.lastScaleDelta_=1}handleDragEvent(e){let t=1;const n=this.targetPointers[0],i=this.targetPointers[1],r=n.clientX-i.clientX,o=n.clientY-i.clientY,s=Math.sqrt(r*r+o*o);void 0!==this.lastDistance_&&(t=this.lastDistance_/s),this.lastDistance_=s;const a=e.map,l=a.getView();1!=t&&(this.lastScaleDelta_=t),this.anchor_=a.getCoordinateFromPixelInternal(a.getEventPixel(Bm(this.targetPointers))),a.render(),l.adjustResolutionInternal(t,this.anchor_)}handleUpEvent(e){if(this.targetPointers.length<2){const t=e.map.getView(),n=this.lastScaleDelta_>1?1:-1;return t.endInteraction(this.duration_,n),!1}return!0}handleDownEvent(e){if(this.targetPointers.length>=2){const t=e.map;return this.anchor_=null,this.lastDistance_=void 0,this.lastScaleDelta_=1,this.handlingDownUpSequence||t.getView().beginInteraction(),!0}return!1}}class av extends $n{constructor(e,t){super(e),this.layer=t}}const lv="layers";class cv extends dd{constructor(e){e=e||{};const t=Object.assign({},e);delete t.layers;let n=e.layers;super(t),this.on,this.once,this.un,this.layersListenerKeys_=[],this.listenerKeys_={},this.addChangeListener(lv,this.handleLayersChanged_),n?Array.isArray(n)?n=new si(n.slice(),{unique:!0}):ai("function"==typeof n.getArray,"Expected `layers` to be an array or a `Collection`"):n=new si(void 0,{unique:!0}),this.setLayers(n)}handleLayerChange_(){this.changed()}handleLayersChanged_(){this.layersListenerKeys_.forEach(bn),this.layersListenerKeys_.length=0;const e=this.getLayers();this.layersListenerKeys_.push(yn(e,ni,this.handleLayersAdd_,this),yn(e,ii,this.handleLayersRemove_,this));for(const n in this.listenerKeys_)this.listenerKeys_[n].forEach(bn);vn(this.listenerKeys_);const t=e.getArray();for(let n=0,i=t.length;n<i;n++){const e=t[n];this.registerLayerListeners_(e),this.dispatchEvent(new av("addlayer",e))}this.changed()}registerLayerListeners_(e){const t=[yn(e,Tn,this.handleLayerChange_,this),yn(e,an,this.handleLayerChange_,this)];e instanceof cv&&t.push(yn(e,"addlayer",this.handleLayerGroupAdd_,this),yn(e,"removelayer",this.handleLayerGroupRemove_,this)),this.listenerKeys_[Xn(e)]=t}handleLayerGroupAdd_(e){this.dispatchEvent(new av("addlayer",e.layer))}handleLayerGroupRemove_(e){this.dispatchEvent(new av("removelayer",e.layer))}handleLayersAdd_(e){const t=e.element;this.registerLayerListeners_(t),this.dispatchEvent(new av("addlayer",t)),this.changed()}handleLayersRemove_(e){const t=e.element,n=Xn(t);this.listenerKeys_[n].forEach(bn),delete this.listenerKeys_[n],this.dispatchEvent(new av("removelayer",t)),this.changed()}getLayers(){return this.get(lv)}setLayers(e){const t=this.getLayers();if(t){const e=t.getArray();for(let t=0,n=e.length;t<n;++t)this.dispatchEvent(new av("removelayer",e[t]))}this.set(lv,e)}getLayersArray(e){return e=void 0!==e?e:[],this.getLayers().forEach(function(t){t.getLayersArray(e)}),e}getLayerStatesArray(e){const t=void 0!==e?e:[],n=t.length;this.getLayers().forEach(function(e){e.getLayerStatesArray(t)});const i=this.getLayerState();let r=i.zIndex;e||void 0!==i.zIndex||(r=0);for(let o=n,s=t.length;o<s;o++){const e=t[o];e.opacity*=i.opacity,e.visible=e.visible&&i.visible,e.maxResolution=Math.min(e.maxResolution,i.maxResolution),e.minResolution=Math.max(e.minResolution,i.minResolution),e.minZoom=Math.max(e.minZoom,i.minZoom),e.maxZoom=Math.min(e.maxZoom,i.maxZoom),void 0!==i.extent&&(void 0!==e.extent?e.extent=Bi(e.extent,i.extent):e.extent=i.extent),void 0===e.zIndex&&(e.zIndex=r)}return t}getSourceState(){return"ready"}}class uv extends Rn{constructor(e){super(),this.map_=e}dispatchRenderEvent(e,t){qn()}calculateMatrices2D(e){const t=e.viewState,n=e.coordinateToPixelTransform,i=e.pixelToCoordinateTransform;rs(n,e.size[0]/2,e.size[1]/2,1/t.resolution,-1/t.resolution,-t.rotation,-t.center[0],-t.center[1]),os(i,n)}forEachFeatureAtCoordinate(e,t,n,i,r,o,s,a){let l;const c=t.viewState;function u(e,t,n,i){return r.call(o,t,e?n:null,i)}const h=c.projection,d=hr(e.slice(),h),p=[[0,0]];if(h.canWrapX()&&i){const e=Wi(h.getExtent());p.push([-e,0],[e,0])}const f=t.layerStatesArray,g=f.length,m=[],v=[];for(let y=0;y<p.length;y++)for(let i=g-1;i>=0;--i){const r=f[i],o=r.layer;if(o.hasRenderer()&&fd(r,c)&&s.call(a,o)){const i=o.getRenderer(),s=o.getSource();if(i&&s){const o=s.getWrapX()?d:e,a=u.bind(null,r.managed);v[0]=o[0]+p[y][0],v[1]=o[1]+p[y][1],l=i.forEachFeatureAtCoordinate(v,t,n,a,m)}if(l)return l}}if(0===m.length)return;const _=1/m.length;return m.forEach((e,t)=>e.distanceSq+=t*_),m.sort((e,t)=>e.distanceSq-t.distanceSq),m.some(e=>l=e.callback(e.feature,e.layer,e.geometry)),l}hasFeatureAtCoordinate(e,t,n,i,r,o){return void 0!==this.forEachFeatureAtCoordinate(e,t,n,i,zn,this,r,o)}getMap(){return this.map_}renderFrame(e){qn()}scheduleExpireIconCache(e){tl.canExpireCache()&&e.postRenderFunctions.push(hv)}}function hv(e,t){tl.expire()}class dv extends uv{constructor(e){super(e),this.fontChangeListenerKey_=yn(ml,Tn,e.redrawText,e),this.element_=document.createElement("div");const t=this.element_.style;t.position="absolute",t.width="100%",t.height="100%",t.zIndex="0",this.element_.className=Nt+" ol-layers";const n=e.getViewport();n.insertBefore(this.element_,n.firstChild||null),this.children_=[],this.renderedVisible_=!0}dispatchRenderEvent(e,t){const n=this.getMap();if(n.hasListener(e)){const i=new $c(e,void 0,t);n.dispatchEvent(i)}}disposeInternal(){bn(this.fontChangeListenerKey_),this.element_.remove(),super.disposeInternal()}renderFrame(e){if(!e)return void(this.renderedVisible_&&(this.element_.style.display="none",this.renderedVisible_=!1));this.calculateMatrices2D(e),this.dispatchRenderEvent(Sa,e);const t=e.layerStatesArray.sort((e,t)=>e.zIndex-t.zIndex);t.some(e=>e.layer instanceof md&&e.layer.getDeclutter())&&(e.declutter={});const n=e.viewState;this.children_.length=0;const i=[];let r=null;for(let o=0,s=t.length;o<s;++o){const s=t[o];e.layerIndex=o;const a=s.layer,l=a.getSourceState();if(!fd(s,n)||"ready"!=l&&"undefined"!=l){a.unrender();continue}const c=a.render(e,r);c&&(c!==r&&(this.children_.push(c),r=c),i.push(s))}this.declutter(e,i),function(e,t){const n=e.childNodes;for(let i=0;;++i){const r=n[i],o=t[i];if(!r&&!o)break;r!==o&&(r?o?e.insertBefore(o,r):(e.removeChild(r),--i):e.appendChild(o))}}(this.element_,this.children_),this.dispatchRenderEvent(Ca,e),this.renderedVisible_||(this.element_.style.display="",this.renderedVisible_=!0),this.scheduleExpireIconCache(e)}declutter(e,t){if(e.declutter){for(let n=t.length-1;n>=0;--n){const i=t[n],r=i.layer;r.getDeclutter()&&r.renderDeclutter(e,i)}t.forEach(t=>t.layer.renderDeferred(e))}}}function pv(e){e instanceof pd?e.setMapInternal(null):e instanceof cv&&e.getLayers().forEach(pv)}function fv(e,t){if(e instanceof pd)e.setMapInternal(t);else if(e instanceof cv){const n=e.getLayers().getArray();for(let e=0,i=n.length;e<i;++e)fv(n[e],t)}}let gv=class extends Hn{constructor(e){super(),e=e||{},this.on,this.once,this.un;const t=function(e){let t=null;void 0!==e.keyboardEventTarget&&(t="string"==typeof e.keyboardEventTarget?document.getElementById(e.keyboardEventTarget):e.keyboardEventTarget);const n={},i=e.layers&&"function"==typeof e.layers.getLayers?e.layers:new cv({layers:e.layers});let r,o,s;n[Lt]=i,n[Ot]=e.target,n[Dt]=e.view instanceof Jh?e.view:new Jh,void 0!==e.controls&&(Array.isArray(e.controls)?r=new si(e.controls.slice()):(ai("function"==typeof e.controls.getArray,"Expected `controls` to be an array or an `ol/Collection.js`"),r=e.controls));void 0!==e.interactions&&(Array.isArray(e.interactions)?o=new si(e.interactions.slice()):(ai("function"==typeof e.interactions.getArray,"Expected `interactions` to be an array or an `ol/Collection.js`"),o=e.interactions));void 0!==e.overlays?Array.isArray(e.overlays)?s=new si(e.overlays.slice()):(ai("function"==typeof e.overlays.getArray,"Expected `overlays` to be an array or an `ol/Collection.js`"),s=e.overlays):s=new si;return{controls:r,interactions:o,keyboardEventTarget:t,overlays:s,values:n}}(e);this.renderComplete_=!1,this.loaded_=!0,this.boundHandleBrowserEvent_=this.handleBrowserEvent.bind(this),this.maxTilesLoading_=void 0!==e.maxTilesLoading?e.maxTilesLoading:16,this.pixelRatio_=void 0!==e.pixelRatio?e.pixelRatio:Zt,this.postRenderTimeoutHandle_,this.animationDelayKey_,this.animationDelay_=this.animationDelay_.bind(this),this.coordinateToPixelTransform_=[1,0,0,1,0,0],this.pixelToCoordinateTransform_=[1,0,0,1,0,0],this.frameIndex_=0,this.frameState_=null,this.previousExtent_=null,this.viewPropertyListenerKey_=null,this.viewChangeListenerKey_=null,this.layerGroupPropertyListenerKeys_=null,this.viewport_=document.createElement("div"),this.viewport_.className="ol-viewport"+("ontouchstart"in window?" ol-touch":""),this.viewport_.style.position="relative",this.viewport_.style.overflow="hidden",this.viewport_.style.width="100%",this.viewport_.style.height="100%",this.overlayContainer_=document.createElement("div"),this.overlayContainer_.style.position="absolute",this.overlayContainer_.style.zIndex="0",this.overlayContainer_.style.width="100%",this.overlayContainer_.style.height="100%",this.overlayContainer_.style.pointerEvents="none",this.overlayContainer_.className="ol-overlaycontainer",this.viewport_.appendChild(this.overlayContainer_),this.overlayContainerStopEvent_=document.createElement("div"),this.overlayContainerStopEvent_.style.position="absolute",this.overlayContainerStopEvent_.style.zIndex="0",this.overlayContainerStopEvent_.style.width="100%",this.overlayContainerStopEvent_.style.height="100%",this.overlayContainerStopEvent_.style.pointerEvents="none",this.overlayContainerStopEvent_.className="ol-overlaycontainer-stopevent",this.viewport_.appendChild(this.overlayContainerStopEvent_),this.mapBrowserEventHandler_=null,this.moveTolerance_=e.moveTolerance,this.keyboardEventTarget_=t.keyboardEventTarget,this.targetChangeHandlerKeys_=null,this.targetElement_=null,this.resizeObserver_=new ResizeObserver(()=>this.updateSize()),this.controls=t.controls||function(e){e=e||{};const t=new si;return(void 0===e.zoom||e.zoom)&&t.push(new Sm(e.zoomOptions)),(void 0===e.rotate||e.rotate)&&t.push(new km(e.rotateOptions)),(void 0===e.attribution||e.attribution)&&t.push(new wm(e.attributionOptions)),t}(),this.interactions=t.interactions||function(e){e=e||{};const t=new si,n=new Cm(-.005,.05,100);return(void 0===e.altShiftDragRotate||e.altShiftDragRotate)&&t.push(new qm),(void 0===e.doubleClickZoom||e.doubleClickZoom)&&t.push(new Mm({delta:e.zoomDelta,duration:e.zoomDuration})),(void 0===e.dragPan||e.dragPan)&&t.push(new Gm({onFocusOnly:e.onFocusOnly,kinetic:n})),(void 0===e.pinchRotate||e.pinchRotate)&&t.push(new ov),(void 0===e.pinchZoom||e.pinchZoom)&&t.push(new sv({duration:e.zoomDuration})),(void 0===e.keyboard||e.keyboard)&&(t.push(new nv),t.push(new iv({delta:e.zoomDelta,duration:e.zoomDuration}))),(void 0===e.mouseWheelZoom||e.mouseWheelZoom)&&t.push(new rv({onFocusOnly:e.onFocusOnly,duration:e.zoomDuration})),(void 0===e.shiftDragZoom||e.shiftDragZoom)&&t.push(new Km({duration:e.zoomDuration})),t}({onFocusOnly:!0}),this.overlays_=t.overlays,this.overlayIdIndex_={},this.renderer_=null,this.postRenderFunctions_=[],this.tileQueue_=new bm(this.getTilePriority.bind(this),this.handleTileChange_.bind(this)),this.addChangeListener(Lt,this.handleLayerGroupChanged_),this.addChangeListener(Dt,this.handleViewChanged_),this.addChangeListener(zt,this.handleSizeChanged_),this.addChangeListener(Ot,this.handleTargetChanged_),this.setProperties(t.values);const n=this;!e.view||e.view instanceof Jh||e.view.then(function(e){n.setView(new Jh(e))}),this.controls.addEventListener(ni,e=>{e.element.setMap(this)}),this.controls.addEventListener(ii,e=>{e.element.setMap(null)}),this.interactions.addEventListener(ni,e=>{e.element.setMap(this)}),this.interactions.addEventListener(ii,e=>{e.element.setMap(null)}),this.overlays_.addEventListener(ni,e=>{this.addOverlayInternal_(e.element)}),this.overlays_.addEventListener(ii,e=>{const t=e.element.getId();void 0!==t&&delete this.overlayIdIndex_[t.toString()],e.element.setMap(null)}),this.controls.forEach(e=>{e.setMap(this)}),this.interactions.forEach(e=>{e.setMap(this)}),this.overlays_.forEach(this.addOverlayInternal_.bind(this))}addControl(e){this.getControls().push(e)}addInteraction(e){this.getInteractions().push(e)}addLayer(e){this.getLayerGroup().getLayers().push(e)}handleLayerAdd_(e){fv(e.layer,this)}addOverlay(e){this.getOverlays().push(e)}addOverlayInternal_(e){const t=e.getId();void 0!==t&&(this.overlayIdIndex_[t.toString()]=e),e.setMap(this)}disposeInternal(){this.controls.clear(),this.interactions.clear(),this.overlays_.clear(),this.resizeObserver_.disconnect(),this.setTarget(null),super.disposeInternal()}forEachFeatureAtPixel(e,t,n){if(!this.frameState_||!this.renderer_)return;const i=this.getCoordinateFromPixelInternal(e),r=void 0!==(n=void 0!==n?n:{}).hitTolerance?n.hitTolerance:0,o=void 0!==n.layerFilter?n.layerFilter:zn,s=!1!==n.checkWrapped;return this.renderer_.forEachFeatureAtCoordinate(i,this.frameState_,r,s,t,null,o,null)}getFeaturesAtPixel(e,t){const n=[];return this.forEachFeatureAtPixel(e,function(e){n.push(e)},t),n}getAllLayers(){const e=[];return function t(n){n.forEach(function(n){n instanceof cv?t(n.getLayers()):e.push(n)})}(this.getLayers()),e}hasFeatureAtPixel(e,t){if(!this.frameState_||!this.renderer_)return!1;const n=this.getCoordinateFromPixelInternal(e),i=void 0!==(t=void 0!==t?t:{}).layerFilter?t.layerFilter:zn,r=void 0!==t.hitTolerance?t.hitTolerance:0,o=!1!==t.checkWrapped;return this.renderer_.hasFeatureAtCoordinate(n,this.frameState_,r,o,i,null)}getEventCoordinate(e){return this.getCoordinateFromPixel(this.getEventPixel(e))}getEventCoordinateInternal(e){return this.getCoordinateFromPixelInternal(this.getEventPixel(e))}getEventPixel(e){const t=this.viewport_.getBoundingClientRect(),n=this.getSize(),i=t.width/n[0],r=t.height/n[1],o="changedTouches"in e?e.changedTouches[0]:e;return[(o.clientX-t.left)/i,(o.clientY-t.top)/r]}getTarget(){return this.get(Ot)}getTargetElement(){return this.targetElement_}getCoordinateFromPixel(e){return xo(this.getCoordinateFromPixelInternal(e),this.getView().getProjection())}getCoordinateFromPixelInternal(e){const t=this.frameState_;return t?ns(t.pixelToCoordinateTransform,e.slice()):null}getControls(){return this.controls}getOverlays(){return this.overlays_}getOverlayById(e){const t=this.overlayIdIndex_[e.toString()];return void 0!==t?t:null}getInteractions(){return this.interactions}getLayerGroup(){return this.get(Lt)}setLayers(e){const t=this.getLayerGroup();if(e instanceof si)return void t.setLayers(e);const n=t.getLayers();n.clear(),n.extend(e)}getLayers(){return this.getLayerGroup().getLayers()}getLoadingOrNotReady(){const e=this.getLayerGroup().getLayerStatesArray();for(let t=0,n=e.length;t<n;++t){const n=e[t];if(!n.visible)continue;const i=n.layer.getRenderer();if(i&&!i.ready)return!0;const r=n.layer.getSource();if(r&&r.loading)return!0}return!1}getPixelFromCoordinate(e){const t=bo(e,this.getView().getProjection());return this.getPixelFromCoordinateInternal(t)}getPixelFromCoordinateInternal(e){const t=this.frameState_;return t?ns(t.coordinateToPixelTransform,e.slice(0,2)):null}getRenderer(){return this.renderer_}getSize(){return this.get(zt)}getView(){return this.get(Dt)}getViewport(){return this.viewport_}getOverlayContainer(){return this.overlayContainer_}getOverlayContainerStopEvent(){return this.overlayContainerStopEvent_}getOwnerDocument(){const e=this.getTargetElement();return e?e.ownerDocument:document}getTilePriority(e,t,n,i){return function(e,t,n,i,r){if(!e||!(n in e.wantedTiles))return ym;if(!e.wantedTiles[n][t.getKey()])return ym;const o=e.viewState.center,s=i[0]-o[0],a=i[1]-o[1];return 65536*Math.log(r)+Math.sqrt(s*s+a*a)/r}(this.frameState_,e,t,n,i)}handleBrowserEvent(e,t){t=t||e.type;const n=new cm(t,this,e);this.handleMapBrowserEvent(n)}handleMapBrowserEvent(e){if(!this.frameState_)return;const t=e.originalEvent,n=t.type;if(n===dm||n===mn||n===dn){const e=this.getOwnerDocument(),n=this.viewport_.getRootNode?this.viewport_.getRootNode():e,i=t.target,r=n instanceof ShadowRoot?n.host===i?n.host.ownerDocument:n:n===e?e.documentElement:n;if(this.overlayContainerStopEvent_.contains(i)||!r.contains(i))return}if(e.frameState=this.frameState_,!1!==this.dispatchEvent(e)){const t=this.getInteractions().getArray().slice();for(let n=t.length-1;n>=0;n--){const i=t[n];if(i.getMap()!==this||!i.getActive()||!this.getTargetElement())continue;if(!i.handleEvent(e)||e.propagationStopped)break}}}handlePostRender(){const e=this.frameState_,t=this.tileQueue_;if(!t.isEmpty()){let n=this.maxTilesLoading_,i=n;if(e){const t=e.viewHints;if(t[xa]||t[ba]){const t=Date.now()-e.time>8;n=t?0:8,i=t?0:2}}t.getTilesLoading()<n&&(t.reprioritize(),t.loadMoreTiles(n,i))}e&&this.renderer_&&!e.animate&&(this.renderComplete_?(this.hasListener(Ea)&&this.renderer_.dispatchRenderEvent(Ea,e),!1===this.loaded_&&(this.loaded_=!0,this.dispatchEvent(new lm(En,this,e)))):!0===this.loaded_&&(this.loaded_=!1,this.dispatchEvent(new lm(Cn,this,e))));const n=this.postRenderFunctions_;if(e)for(let i=0,r=n.length;i<r;++i)n[i](this,e);n.length=0}handleSizeChanged_(){this.getView()&&!this.getView().getAnimating()&&this.getView().resolveConstraints(0),this.render()}handleTargetChanged_(){if(this.mapBrowserEventHandler_){for(let e=0,t=this.targetChangeHandlerKeys_.length;e<t;++e)bn(this.targetChangeHandlerKeys_[e]);this.targetChangeHandlerKeys_=null,this.viewport_.removeEventListener(cn,this.boundHandleBrowserEvent_),this.viewport_.removeEventListener(mn,this.boundHandleBrowserEvent_),this.mapBrowserEventHandler_.dispose(),this.mapBrowserEventHandler_=null,this.viewport_.remove()}if(this.targetElement_){this.resizeObserver_.unobserve(this.targetElement_);const e=this.targetElement_.getRootNode();e instanceof ShadowRoot&&this.resizeObserver_.unobserve(e.host),this.setSize(void 0)}const e=this.getTarget(),t="string"==typeof e?document.getElementById(e):e;if(this.targetElement_=t,t){t.appendChild(this.viewport_),this.renderer_||(this.renderer_=new dv(this)),this.mapBrowserEventHandler_=new pm(this,this.moveTolerance_);for(const t in um)this.mapBrowserEventHandler_.addEventListener(um[t],this.handleMapBrowserEvent.bind(this));let e;if(this.viewport_.addEventListener(cn,this.boundHandleBrowserEvent_,!1),this.viewport_.addEventListener(mn,this.boundHandleBrowserEvent_,!!en&&{passive:!1}),this.keyboardEventTarget_)e=this.keyboardEventTarget_;else{const n=t.getRootNode();e=n instanceof ShadowRoot?n.host:t}this.targetChangeHandlerKeys_=[yn(e,dn,this.handleBrowserEvent,this),yn(e,pn,this.handleBrowserEvent,this)];const n=t.getRootNode();n instanceof ShadowRoot&&this.resizeObserver_.observe(n.host),this.resizeObserver_.observe(t)}else this.renderer_&&(clearTimeout(this.postRenderTimeoutHandle_),this.postRenderTimeoutHandle_=void 0,this.postRenderFunctions_.length=0,this.renderer_.dispose(),this.renderer_=null),this.animationDelayKey_&&(cancelAnimationFrame(this.animationDelayKey_),this.animationDelayKey_=void 0);this.updateSize()}handleTileChange_(){this.render()}handleViewPropertyChanged_(){this.render()}handleViewChanged_(){this.viewPropertyListenerKey_&&(bn(this.viewPropertyListenerKey_),this.viewPropertyListenerKey_=null),this.viewChangeListenerKey_&&(bn(this.viewChangeListenerKey_),this.viewChangeListenerKey_=null);const e=this.getView();e&&(this.updateViewportSize_(this.getSize()),this.viewPropertyListenerKey_=yn(e,Tn,this.handleViewPropertyChanged_,this),this.viewChangeListenerKey_=yn(e,an,this.handleViewPropertyChanged_,this),e.resolveConstraints(0)),this.render()}handleLayerGroupChanged_(){this.layerGroupPropertyListenerKeys_&&(this.layerGroupPropertyListenerKeys_.forEach(bn),this.layerGroupPropertyListenerKeys_=null);const e=this.getLayerGroup();e&&(this.handleLayerAdd_(new av("addlayer",e)),this.layerGroupPropertyListenerKeys_=[yn(e,Tn,this.render,this),yn(e,an,this.render,this),yn(e,"addlayer",this.handleLayerAdd_,this),yn(e,"removelayer",this.handleLayerRemove_,this)]),this.render()}isRendered(){return!!this.frameState_}animationDelay_(){this.animationDelayKey_=void 0,this.renderFrame_(Date.now())}renderSync(){this.animationDelayKey_&&cancelAnimationFrame(this.animationDelayKey_),this.animationDelay_()}redrawText(){if(!this.frameState_)return;const e=this.frameState_.layerStatesArray;for(let t=0,n=e.length;t<n;++t){const n=e[t].layer;n.hasRenderer()&&n.getRenderer().handleFontsChanged()}}render(){this.renderer_&&void 0===this.animationDelayKey_&&(this.animationDelayKey_=requestAnimationFrame(this.animationDelay_))}removeControl(e){return this.getControls().remove(e)}removeInteraction(e){return this.getInteractions().remove(e)}removeLayer(e){return this.getLayerGroup().getLayers().remove(e)}handleLayerRemove_(e){pv(e.layer)}removeOverlay(e){return this.getOverlays().remove(e)}renderFrame_(e){const t=this.getSize(),n=this.getView(),i=this.frameState_;let r=null;if(void 0!==t&&mc(t)&&n&&n.isDef()){const i=n.getHints(this.frameState_?this.frameState_.viewHints:void 0),o=n.getState();if(r={animate:!1,coordinateToPixelTransform:this.coordinateToPixelTransform_,declutter:null,extent:ji(o.center,o.resolution,o.rotation,t),index:this.frameIndex_++,layerIndex:0,layerStatesArray:this.getLayerGroup().getLayerStatesArray(),pixelRatio:this.pixelRatio_,pixelToCoordinateTransform:this.pixelToCoordinateTransform_,postRenderFunctions:[],size:t,tileQueue:this.tileQueue_,time:e,usedTiles:{},viewState:o,viewHints:i,wantedTiles:{},mapId:Xn(this),renderTargets:{}},o.nextCenter&&o.nextResolution){const e=isNaN(o.nextRotation)?o.rotation:o.nextRotation;r.nextExtent=ji(o.nextCenter,o.nextResolution,e,t)}}if(this.frameState_=r,this.renderer_.renderFrame(r),r){if(r.animate&&this.render(),Array.prototype.push.apply(this.postRenderFunctions_,r.postRenderFunctions),i){(!this.previousExtent_||!Ui(this.previousExtent_)&&!Ti(r.extent,this.previousExtent_))&&(this.dispatchEvent(new lm(kn,this,i)),this.previousExtent_=Si(this.previousExtent_))}this.previousExtent_&&!r.viewHints[xa]&&!r.viewHints[ba]&&!Ti(r.extent,this.previousExtent_)&&(this.dispatchEvent(new lm(Sn,this,r)),mi(r.extent,this.previousExtent_))}this.dispatchEvent(new lm(wn,this,r)),this.renderComplete_=(this.hasListener(Cn)||this.hasListener(En)||this.hasListener(Ea))&&!this.tileQueue_.getTilesLoading()&&!this.tileQueue_.getCount()&&!this.getLoadingOrNotReady(),this.postRenderTimeoutHandle_||(this.postRenderTimeoutHandle_=setTimeout(()=>{this.postRenderTimeoutHandle_=void 0,this.handlePostRender()},0))}setLayerGroup(e){const t=this.getLayerGroup();t&&this.handleLayerRemove_(new av("removelayer",t)),this.set(Lt,e)}setSize(e){this.set(zt,e)}setTarget(e){this.set(Ot,e)}setView(e){if(!e||e instanceof Jh)return void this.set(Dt,e);this.set(Dt,new Jh);const t=this;e.then(function(e){t.setView(new Jh(e))})}updateSize(){const e=this.getTargetElement();let t;if(e){const n=getComputedStyle(e),i=e.offsetWidth-parseFloat(n.borderLeftWidth)-parseFloat(n.paddingLeft)-parseFloat(n.paddingRight)-parseFloat(n.borderRightWidth),r=e.offsetHeight-parseFloat(n.borderTopWidth)-parseFloat(n.paddingTop)-parseFloat(n.paddingBottom)-parseFloat(n.borderBottomWidth);isNaN(i)||isNaN(r)||(t=[Math.max(0,i),Math.max(0,r)],!mc(t)&&(e.offsetWidth||e.offsetHeight||e.getClientRects().length))}const n=this.getSize();!t||n&&Ln(t,n)||(this.setSize(t),this.updateViewportSize_(t))}updateViewportSize_(e){const t=this.getView();t&&t.setViewportSize(e)}};class mv extends Ja{constructor(e,t,n,i,r){super(e,t,n,void 0!==r?Ta:Ma),this.loader_=void 0!==r?r:null,this.canvas_=i,this.error_=null}getError(){return this.error_}handleLoad_(e){e?(this.error_=e,this.state=Ia):this.state=Ma,this.changed()}load(){this.state==Ta&&(this.state=Ra,this.changed(),this.loader_(this.handleLoad_.bind(this)))}getImage(){return this.canvas_}}class vv extends Bn{constructor(e,t,n){super(),n=n||{},this.tileCoord=e,this.state=t,this.key="",this.transition_=void 0===n.transition?250:n.transition,this.transitionStarts_={},this.interpolate=!!n.interpolate}changed(){this.dispatchEvent(an)}release(){this.setState(_m)}getKey(){return this.key+"/"+this.tileCoord}getTileCoord(){return this.tileCoord}getState(){return this.state}setState(e){if(this.state!==_m){if(this.state!==vm&&this.state>e)throw new Error("Tile load sequence violation");this.state=e,this.changed()}}load(){qn()}getAlpha(e,t){if(!this.transition_)return 1;let n=this.transitionStarts_[e];if(n){if(-1===n)return 1}else n=t,this.transitionStarts_[e]=n;const i=t-n+1e3/60;return i>=this.transition_?1:Gh(i/this.transition_)}inTransition(e){return!!this.transition_&&-1!==this.transitionStarts_[e]}endTransition(e){this.transition_&&(this.transitionStarts_[e]=-1)}disposeInternal(){this.release(),super.disposeInternal()}}class _v extends vv{constructor(e,t,n,i,r,o){super(e,t,o),this.crossOrigin_=i,this.src_=n,this.key=n,this.image_=new Image,null!==i&&(this.image_.crossOrigin=i),this.unlisten_=null,this.tileLoadFunction_=r}getImage(){return this.image_}setImage(e){this.image_=e,this.state=mm,this.unlistenImage_(),this.changed()}handleImageError_(){this.state=vm,this.unlistenImage_(),this.image_=function(){const e=tn(1,1);return e.fillStyle="rgba(0,0,0,0)",e.fillRect(0,0,1,1),e.canvas}(),this.changed()}handleImageLoad_(){const e=this.image_;e.naturalWidth&&e.naturalHeight?this.state=mm:this.state=_m,this.unlistenImage_(),this.changed()}load(){this.state==vm&&(this.state=fm,this.image_=new Image,null!==this.crossOrigin_&&(this.image_.crossOrigin=this.crossOrigin_)),this.state==fm&&(this.state=gm,this.changed(),this.tileLoadFunction_(this,this.src_),this.unlisten_=function(e,t,n){const i=e;let r=!0,o=!1,s=!1;const a=[xn(i,fn,function(){s=!0,o||t()})];return i.src&&Jt?(o=!0,i.decode().then(function(){r&&t()}).catch(function(e){r&&(s?t():n())})):a.push(xn(i,ln,n)),function(){r=!1,a.forEach(bn)}}(this.image_,this.handleImageLoad_.bind(this),this.handleImageError_.bind(this)))}unlistenImage_(){this.unlisten_&&(this.unlisten_(),this.unlisten_=null)}disposeInternal(){this.unlistenImage_(),this.image_=null,super.disposeInternal()}}class yv{constructor(e,t,n,i){this.minX=e,this.maxX=t,this.minY=n,this.maxY=i}contains(e){return this.containsXY(e[1],e[2])}containsTileRange(e){return this.minX<=e.minX&&e.maxX<=this.maxX&&this.minY<=e.minY&&e.maxY<=this.maxY}containsXY(e,t){return this.minX<=e&&e<=this.maxX&&this.minY<=t&&t<=this.maxY}equals(e){return this.minX==e.minX&&this.minY==e.minY&&this.maxX==e.maxX&&this.maxY==e.maxY}extend(e){e.minX<this.minX&&(this.minX=e.minX),e.maxX>this.maxX&&(this.maxX=e.maxX),e.minY<this.minY&&(this.minY=e.minY),e.maxY>this.maxY&&(this.maxY=e.maxY)}getHeight(){return this.maxY-this.minY+1}getSize(){return[this.getWidth(),this.getHeight()]}getWidth(){return this.maxX-this.minX+1}intersects(e){return this.minX<=e.maxX&&this.maxX>=e.minX&&this.minY<=e.maxY&&this.maxY>=e.minY}}function xv(e,t,n,i,r){return void 0!==r?(r.minX=e,r.maxX=t,r.minY=n,r.maxY=i,r):new yv(e,t,n,i)}const bv=[];class wv extends vv{constructor(e,t,n,i,r){super(e,t,{transition:0}),this.context_=null,this.executorGroups={},this.loadingSourceTiles=0,this.hitDetectionImageData={},this.replayState_={},this.sourceTiles=[],this.errorTileKeys={},this.wantedResolution,this.getSourceTiles=i.bind(void 0,this),this.removeSourceTiles_=r,this.wrappedTileCoord=n}getContext(){return this.context_||(this.context_=tn(1,1,bv)),this.context_}hasContext(){return!!this.context_}getImage(){return this.hasContext()?this.getContext().canvas:null}getReplayState(e){const t=Xn(e);return t in this.replayState_||(this.replayState_[t]={dirty:!1,renderedRenderOrder:null,renderedResolution:NaN,renderedRevision:-1,renderedTileResolution:NaN,renderedTileRevision:-1,renderedTileZ:-1}),this.replayState_[t]}load(){this.getSourceTiles()}release(){this.context_&&(on(this.context_),bv.push(this.context_.canvas),this.context_=null),this.removeSourceTiles_(this),this.sourceTiles.length=0,super.release()}}let kv=class extends vv{constructor(e,t,n,i,r,o){super(e,t,o),this.extent=null,this.format_=i,this.features_=null,this.loader_,this.projection=null,this.resolution,this.tileLoadFunction_=r,this.url_=n,this.key=n}getTileUrl(){return this.url_}getFormat(){return this.format_}getFeatures(){return this.features_}load(){this.state==fm&&(this.setState(gm),this.tileLoadFunction_(this,this.url_),this.loader_&&this.loader_(this.extent,this.resolution,this.projection))}onLoad(e,t){this.setFeatures(e)}onError(){this.setState(vm)}setFeatures(e){this.features_=e,this.setState(mm)}setLoader(e){this.loader_=e}};const Sv="https://api.mapbox.com";function Cv(e){const t="mapbox://";return 0!==e.indexOf(t)?"":e.slice(9)}function Ev(e,t,n){const i=Cv(e);if(!i)return decodeURI(new URL(e,n).href);const r="sprites/";if(0!==i.indexOf(r))throw new Error(`unexpected sprites url: ${e}`);const o=i.slice(8);return`${Sv}/styles/v1/${o}/sprite?access_token=${t}`}function Tv(e,t){const n=Cv(e);if(!n)return decodeURI(new URL(e,location.href).href);const i="styles/";if(0!==n.indexOf(i))throw new Error(`unexpected style url: ${e}`);const r=n.slice(7);return`${Sv}/styles/v1/${r}?&access_token=${t}`}const Rv=["a","b","c","d"];function Mv(e,t,n,i){const r=new URL(e,i||location.href),o=Cv(e);if(!o)return t?(r.searchParams.has(n)||r.searchParams.set(n,t),[decodeURI(r.href)]):[decodeURI(r.href)];if("mapbox.satellite"===o){const e=window.devicePixelRatio>=1.5?"@2x":"";return[`https://api.mapbox.com/v4/${o}/{z}/{x}/{y}${e}.webp?access_token=${t}`]}return Rv.map(e=>`https://${e}.tiles.mapbox.com/v4/${o}/{z}/{x}/{y}.vector.pbf?access_token=${t}`)}const Iv=Object.freeze({}),Av={},Pv={};let Fv=0;function Lv(e){return e.id||(e.id=Fv++),e.id}function zv(e){let t=Av[e.id];return t||(t={},Av[Lv(e)]=t),t}function Ov(e){return e*Math.PI/180}const Dv=function(){const e=[];for(let t=78271.51696402048;e.length<=24;t/=2)e.push(t);return e}();function jv(e,t){if("undefined"!=typeof WorkerGlobalScope&&self instanceof WorkerGlobalScope&&"undefined"!=typeof OffscreenCanvas)return new OffscreenCanvas(e,t);const n=document.createElement("canvas");return n.width=e,n.height=t,n}function Nv(e,t){let n=0;const i=t.length;for(;n<i;++n){if(t[n]<e&&n+1<i){const i=t[n]/t[n+1];return n+Math.log(t[n]/e)/Math.log(i)}}return i-1}function $v(e,t){const n=Math.floor(e),i=Math.pow(2,e-n);return t[n]/i}const Bv={};function Gv(e,t,n={},i){if(t in Bv)return i&&(i.url=Bv[t][0].url),Bv[t][1];const r=n.transformRequest&&n.transformRequest(t,e)||t,o=function(e){return delete Bv[t],Promise.reject(new Error("Error fetching source "+t))},s=function(e){return delete Bv[t],e.ok?e.json():Promise.reject(new Error("Error fetching source "+t))},a=Nn(()=>r).then(e=>e instanceof Response?(i&&(i.url=e.url),s(e)):(e instanceof Request||(e=new Request(e)),e.headers.get("Accept")||e.headers.set("Accept","application/json"),i&&(i.url=e.url),fetch(e).then(s).catch(o))).catch(o);return Bv[t]=[r,a],a}function qv(e,t){if("string"!=typeof e)return Promise.resolve(e);if(!e.trim().startsWith("{"))return Gv("Style",e=Tv(e,t.accessToken),t);try{const t=JSON.parse(e);return Promise.resolve(t)}catch(n){return Promise.reject(n)}}const Wv={};function Xv(e,t,n={}){const i=[t,JSON.stringify(e)].toString();let r=Wv[i];if(!r||n.transformRequest){let o;n.transformRequest&&(o=(e,t)=>{const i=n.transformRequest&&n.transformRequest(t,"Tiles")||t;if(e instanceof kv)e.setLoader((t,n,r)=>{const o=function(n){n.arrayBuffer().then(n=>{const i=e.getFormat().readFeatures(n,{extent:t,featureProjection:r});e.setFeatures(i)})};Nn(()=>i).then(t=>{if(t instanceof Response)return o(t);fetch(t).then(o).catch(t=>e.setState(vm))}).catch(t=>e.setState(vm))});else{const t=e.getImage();Nn(()=>i).then(n=>{if("string"==typeof n)return void(t.src=n);const i=e=>e.blob().then(e=>{const n=URL.createObjectURL(e);t.addEventListener("load",()=>URL.revokeObjectURL(n)),t.addEventListener("error",()=>URL.revokeObjectURL(n)),t.src=n});if(n instanceof Response)return i(n);fetch(n).then(i).catch(t=>e.setState(vm))}).catch(t=>e.setState(vm))}});const s=e.url;if(s&&!e.tiles){const i=Mv(s,n.accessToken,n.accessTokenParam||"access_token",t||location.href);if(s.startsWith("mapbox://"))r=Promise.resolve({tileJson:Object.assign({},e,{url:void 0,tiles:i}),tileLoadFunction:o});else{const e={};r=Gv("Source",i[0],n,e).then(function(t){return t.tiles=t.tiles.map(function(i){return"tms"===t.scheme&&(i=i.replace("{y}","{-y}")),Mv(i,n.accessToken,n.accessTokenParam||"access_token",e.url)[0]}),Promise.resolve({tileJson:t,tileLoadFunction:o})})}}else e.tiles?(e=Object.assign({},e,{tiles:e.tiles.map(function(i){return"tms"===e.scheme&&(i=i.replace("{y}","{-y}")),Mv(i,n.accessToken,n.accessTokenParam||"access_token",t||location.href)[0]})}),r=Promise.resolve({tileJson:Object.assign({},e),tileLoadFunction:o})):r=Promise.reject(new Error("source has no `tiles` nor `url`"));Wv[i]=r}return r}function Uv(e,t,n,i){const r=[2*n*t.pixelRatio+t.width,2*n*t.pixelRatio+t.height],o=jv(r[0],r[1]),s=o.getContext("2d");s.drawImage(e,t.x,t.y,t.width,t.height,n*t.pixelRatio,n*t.pixelRatio,t.width,t.height);const a=s.getImageData(0,0,r[0],r[1]);s.globalCompositeOperation="destination-over",s.fillStyle=`rgba(${255*i.r},${255*i.g},${255*i.b},${i.a})`;const l=a.data;for(let c=0,u=a.width;c<u;++c)for(let e=0,i=a.height;e<i;++e){l[4*(e*u+c)+3]>0&&s.arc(c,e,n*t.pixelRatio,0,2*Math.PI)}return s.fill(),o}function Hv(e,t,n){const i=Math.max(0,Math.min(1,(n-e)/(t-e)));return i*i*(3-2*i)}function Vv(e,t,n){const i=jv(t.width,t.height),r=i.getContext("2d");r.drawImage(e,t.x,t.y,t.width,t.height,0,0,t.width,t.height);const o=r.getImageData(0,0,t.width,t.height),s=o.data;for(let a=0,l=o.width;a<l;++a)for(let e=0,t=o.height;e<t;++e){const t=4*(e*l+a),i=.75,r=.1,o=Hv(i-r,i+r,s[t+3]/255);o>0?(s[t+0]=Math.round(255*n.r*o),s[t+1]=Math.round(255*n.g*o),s[t+2]=Math.round(255*n.b*o),s[t+3]=Math.round(255*o)):s[t+3]=0}return r.putImageData(o,0,0),i}const Yv=Array(256).join(" ");function Zv(e,t){if(t>=.05){let n="";const i=e.split("\n"),r=Yv.slice(0,Math.round(t/.1));for(let e=0,t=i.length;e<t;++e)e>0&&(n+="\n"),n+=i[e].split("").join(r);return n}return e}let Kv;function Jv(){return Kv||(Kv=jv(1,1).getContext("2d")),Kv}function Qv(e,t){return Jv().measureText(e).width+(e.length-1)*t}const e_={};function t_(e,t,n,i){if(-1!==e.indexOf("\n")){const r=e.split("\n"),o=[];for(let e=0,s=r.length;e<s;++e)o.push(t_(r[e],t,n,i));return o.join("\n")}const r=n+","+t+","+e+","+i;let o=e_[r];if(!o){const s=e.split(" ");if(s.length>1){const e=Jv();e.font=t;const r=e.measureText("M").width*n;let a="";const l=[];for(let t=0,n=s.length;t<n;++t){const e=s[t],n=a+(a?" ":"")+e;Qv(n,i)<=r?a=n:(a&&l.push(a),a=e)}a&&l.push(a);for(let t=0,n=l.length;t<n&&n>1;++t){const e=l[t];if(Qv(e,i)<.35*r){const r=t>0?Qv(l[t-1],i):1/0,o=t<n-1?Qv(l[t+1],i):1/0;l.splice(t,1),n-=1,r<o?(l[t-1]+=" "+e,t-=1):l[t]=e+" "+l[t]}}for(let t=0,n=l.length-1;t<n;++t){const e=l[t],o=l[t+1];if(Qv(e,i)>.7*r&&Qv(o,i)<.6*r){const s=e.split(" "),a=s.pop();Qv(a,i)<.2*r&&(l[t]=s.join(" "),l[t+1]=a+" "+o),n-=1}}o=l.join("\n")}else o=e;o=Zv(o,i),e_[r]=o}return o}ml.on("propertychange",()=>{for(const e in e_)delete e_[e]});const n_=["Arial","Courier New","Times New Roman","Verdana","sans-serif","serif","monospace","cursive","fantasy"],i_={};const r_={Point:1,MultiPoint:1,LineString:2,MultiLineString:2,Polygon:3,MultiPolygon:3},o_={center:[.5,.5],left:[0,.5],right:[1,.5],top:[.5,0],bottom:[.5,1],"top-left":[0,0],"top-right":[1,0],"bottom-left":[0,1],"bottom-right":[1,1]},s_={zoom:0,distanceFromCenter:0};let a_,l_;function c_(e,t,n,i,r,o){const s=e.id;r||(r={}),r[s]||(r[s]={});const a=r[s];if(!a[n]){let i=(e[t]||Iv)[n];const r=nm[`${t}_${e.type}`][n];void 0===i&&(i=r.default);let o=(l=i,Array.isArray(l)&&l.length>0&&"string"==typeof l[0]&&l[0]in vg);if(!o&&Mg(i)&&(i=Vg(i,r),o=!0),o){const e=function(e,t){const n=Lg(e,t);if("error"===n.result)throw new Error(n.value.map(e=>`${e.key}: ${e.message}`).join(", "));return n.value}(i,r);a[n]=e.evaluate.bind(e)}else"color"==r.type&&(i=_p.parse(i)),a[n]=function(){return i}}var l;return a[n](s_,i,o)}function u_(e,t,n,i){if(!c_(e,"layout",`${n}-allow-overlap`,t,i))return"declutter";return c_(e,"layout",`${n}-ignore-placement`,t,i)?"none":"obstacle"}function h_(e,t,n,i){if(!(e in i))try{i[e]=Ng(t).filter}catch(Ze){i[e]=function(){return!1}}return i[e](s_,n)}function d_(e,t){if(e){if(0===e.a||0===t)return;const n=e.a;return t=void 0===t?1:t,0===n?"transparent":"rgba("+Math.round(255*e.r/n)+","+Math.round(255*e.g/n)+","+Math.round(255*e.b/n)+","+n*t+")"}return e}_g.register(vg,{..._g.definitions,pitch:[{kind:"number"},[],e=>s_.pitch||90],"distance-from-center":[{kind:"number"},[],e=>s_.distanceFromCenter||0]});const p_=/\{[^{}}]*\}/g;function f_(e,t){return e.replace(p_,function(e){return t[e.slice(1,-1)]||""})}function g_(e,t){let n=e.split(":")[0];return n===e&&(n="default"),t[n]}const m_={};function v_(e,t,n,i=Dv,r=void 0,o=void 0,s=void 0,a=void 0){if("string"==typeof t&&(t=JSON.parse(t)),8!=t.version)throw new Error("glStyle version 8 required.");m_[function(e,t){return Lv(e)+"."+Xn(t)}(t,e)]=Array.from(arguments);const l={};("string"==typeof o||o instanceof Request||o instanceof Response||o instanceof Promise)&&(o={default:o});for(const b in o){const t=o[b];Nn(()=>t).then(async t=>{let n;if("undefined"!=typeof Image){const i=new Image;if("string"==typeof t)i.crossOrigin="anonymous",i.src=t;else{let e;t instanceof Request?e=await fetch(t):t instanceof Response&&(e=t);const r=await e.blob();n=URL.createObjectURL(r),i.src=n}i.addEventListener("load",function t(){i.removeEventListener("load",t),l[b]={image:i,size:[i.width,i.height]},e.changed(),n&&URL.revokeObjectURL(n)}),i.addEventListener("error",function e(){URL.revokeObjectURL(n),i.removeEventListener("error",e)})}else if("undefined"!=typeof WorkerGlobalScope&&self instanceof WorkerGlobalScope){const e=self;e.postMessage({action:"loadImage",src:t}),e.addEventListener("message",function(e){"imageLoaded"===e.data.action&&e.data.src===t&&(l[b]={image:e.data.image,size:[e.data.image.width,e.data.image.height]})})}})}const c=wd(t.layers),u={},h=[],d={},p={},f=zv(t),g=function(e){let t=Pv[e.id];return t||(t={},Pv[Lv(e)]=t),t}(t);let m;for(let b=0,w=c.length;b<w;++b){const e=c[b],i=e.id;if("string"==typeof n&&e.source==n||Array.isArray(n)&&-1!==n.indexOf(i)){const n=e["source-layer"];if(m){if(e.source!==m)throw new Error(`Layer "${i}" does not use source "${m}`)}else{m=e.source;const n=t.sources[m];if(!n)throw new Error(`Source "${m}" is not defined`);const i=n.type;if("vector"!==i&&"geojson"!==i)throw new Error(`Source "${m}" is not of type "vector" or "geojson", but "${i}"`)}let r=u[n];r||(r=[],u[n]=r),r.push({layer:e,index:b}),h.push(i)}}const v=new Sc,_=new bc,y=[],x=function(n,o,c){const h=e.getSource?.()?.format_?.layerName_??"mvt:layer",m=n.getProperties(),x=u[m[h]];if(!x)return;let b=i.indexOf(o);-1==b&&(b=Nv(o,i)),s_.zoom=b,s_.distanceFromCenter=0;const w=n.getGeometry(),k=r_[w.getType()],S=e.get("map");if(S&&S instanceof gv&&1===k){const e=S.getSize();if(e){const t=S.getView().getCenter(),n=Oi(w.getExtent());s_.distanceFromCenter=(C=t,E=n,Math.sqrt(function(e,t){const n=e[0]-t[0],i=e[1]-t[1];return n*n+i*i}(C,E))/o/e[1])}}var C,E;const T={id:n.getId(),properties:m,type:k},R=e.get("mapbox-featurestate")[n.getId()];let M=-1;for(let i=0,u=x.length;i<u;++i){const u=x[i],h=u.layer,w=h.id;if(void 0!==c&&c!==w)continue;const S=h.layout||Iv,C=h.paint||Iv;if("none"===S.visibility||"minzoom"in h&&b<h.minzoom||"maxzoom"in h&&b>=h.maxzoom)continue;const E=h.filter;if(!E||h_(w,E,T,g)){let i,c,g,x,b,w;const E=u.index;if(3==k&&("fill"==h.type||"fill-extrusion"==h.type))if(c=c_(h,"paint",h.type+"-opacity",T,f,R),h.type+"-pattern"in C){const e=c_(h,"paint",h.type+"-pattern",T,f,R);if(e){const t="string"==typeof e?f_(e,m):e.toString(),n=g_(t,l);if(r&&r[t]&&n){++M,w=y[M],w&&w.getFill()&&!w.getStroke()&&!w.getText()||(w=new Cc({fill:new bc}),y[M]=w),g=w.getFill(),w.setZIndex(E);const e=t+"."+c;let i=p[e];if(!i){const o=r[t],s=jv(o.width,o.height),a=s.getContext("2d");a.globalAlpha=c,a.drawImage(n.image,o.x,o.y,o.width,o.height,0,0,o.width,o.height),i=a.createPattern(s,"repeat"),p[e]=i}g.setColor(i)}}}else i=d_(c_(h,"paint",h.type+"-color",T,f,R),c),h.type+"-outline-color"in C&&(b=d_(c_(h,"paint",h.type+"-outline-color",T,f,R),c)),b||(b=i),(i||b)&&(++M,w=y[M],(!w||i&&!w.getFill()||!i&&w.getFill()||b&&!w.getStroke()||!b&&w.getStroke()||w.getText())&&(w=new Cc({fill:i?new bc:void 0,stroke:b?new Sc:void 0}),y[M]=w),i&&(g=w.getFill(),g.setColor(i)),b&&(x=w.getStroke(),x.setColor(b),x.setWidth(.5)),w.setZIndex(E));if(1!=k&&"line"==h.type){i="line-pattern"in C?void 0:d_(c_(h,"paint","line-color",T,f,R),c_(h,"paint","line-opacity",T,f,R));const e=c_(h,"paint","line-width",T,f,R);i&&e>0&&(++M,w=y[M],w&&w.getStroke()&&!w.getFill()&&!w.getText()||(w=new Cc({stroke:new Sc}),y[M]=w),x=w.getStroke(),x.setLineCap(c_(h,"layout","line-cap",T,f,R)),x.setLineJoin(c_(h,"layout","line-join",T,f,R)),x.setMiterLimit(c_(h,"layout","line-miter-limit",T,f,R)),x.setColor(i),x.setWidth(e),x.setLineDash(C["line-dasharray"]?c_(h,"paint","line-dasharray",T,f,R).map(function(t){return t*e}):null),w.setZIndex(E))}let I,A,P,F,L,z,O,D,j,N=!1,$=null,B=0;if((1==k||2==k)&&"icon-image"in S){const t=c_(h,"layout","icon-image",T,f,R);if(t){let i;I="string"==typeof t?f_(t,m):t.toString();const s=a?a(e,I):void 0,c=g_(I,l);if(r&&r[I]&&c||s){const e=c_(h,"layout","icon-rotation-alignment",T,f,R);if(2==k){const t=n.getGeometry();if(t.getFlatMidpoint||t.getFlatMidpoints){const n=t.getExtent();if(Math.sqrt(Math.max(Math.pow((n[2]-n[0])/o,2),Math.pow((n[3]-n[1])/o,2)))>150){const n="MultiLineString"===t.getType()?t.getFlatMidpoints():t.getFlatMidpoint();l_||(a_=[NaN,NaN],l_=new qs("Point",a_,[],2,{},void 0)),i=l_,a_[0]=n[0],a_[1]=n[1];if("line"===c_(h,"layout","symbol-placement",T,f,R)&&"map"===e){const e=t.getStride(),i=t.getFlatCoordinates();for(let t=0,r=i.length-e;t<r;t+=e){const r=i[t],o=i[t+1],s=i[t+e],a=i[t+e+1],l=Math.min(r,s),c=Math.max(r,s),u=n[0],h=(a-o)*(u-r)-(s-r)*(n[1]-o);if(Math.abs(h)<.001&&u<=c&&u>=l){B=Math.atan2(o-a,s-r);break}}}}}}if(2!==k||i){const t=c_(h,"layout","icon-size",T,f,R),n=void 0!==C["icon-color"]?c_(h,"paint","icon-color",T,f,R):null;if(!n||0!==n.a){const i=c_(h,"paint","icon-halo-color",T,f,R),o=c_(h,"paint","icon-halo-width",T,f,R);let a=`${I}.${t}.${o}.${i}`;if(null!==n&&(a+=`.${n}`),A=d[a],!A){const l=u_(h,T,"icon",f);let u;"icon-offset"in S&&(u=c_(h,"layout","icon-offset",T,f,R).slice(0),u[0]*=t,u[1]*=-t);let p=n?[255*n.r,255*n.g,255*n.b,n.a]:void 0;if(s){const n={color:p,rotateWithView:"map"===e,displacement:u,declutterMode:l,scale:t};"string"==typeof s?n.src=s:(n.img=s,n.imgSize=[s.width,s.height]),A=new kc(n)}else{const s=r[I];let a,h,d;if(o)s.sdf?(a=Uv(Vv(c.image,s,n||[0,0,0,1]),{x:0,y:0,width:s.width,height:s.height,pixelRatio:s.pixelRatio},o,i),p=void 0):a=Uv(c.image,s,o,i);else{if(s.sdf&&!c.unSDFed){const e=Vv(c.image,{x:0,y:0,width:c.size[0],height:c.size[1]},{r:1,g:1,b:1});c.image=e,c.unSDFed=!0}a=c.image,h=[s.width,s.height],d=[s.x,s.y]}A=new kc({color:p,img:a,imgSize:c.size,size:h,offset:d,rotateWithView:"map"===e,scale:t/s.pixelRatio,displacement:u,declutterMode:l})}d[a]=A}}A&&(++M,w=y[M],w&&w.getImage()&&!w.getFill()&&!w.getStroke()||(w=new Cc,y[M]=w),w.setGeometry(i),A.setRotation(B+Ov(c_(h,"layout","icon-rotate",T,f,R))),A.setOpacity(c_(h,"paint","icon-opacity",T,f,R)),A.setAnchor(o_[c_(h,"layout","icon-anchor",T,f,R)]),w.setImage(A),$=w.getText(),w.setText(void 0),w.setZIndex(E),N=!0,P=!1)}else P=!0}}}if(1==k&&"circle"===h.type){++M,w=y[M],w&&w.getImage()&&!w.getFill()&&!w.getStroke()||(w=new Cc,y[M]=w);const e="circle-radius"in C?c_(h,"paint","circle-radius",T,f,R):5,t=d_(c_(h,"paint","circle-stroke-color",T,f,R),c_(h,"paint","circle-stroke-opacity",T,f,R)),n=c_(h,"paint","circle-translate",T,f,R),i=d_(c_(h,"paint","circle-color",T,f,R),c_(h,"paint","circle-opacity",T,f,R)),r=c_(h,"paint","circle-stroke-width",T,f,R),o=e+"."+t+"."+i+"."+r+"."+n[0]+"."+n[1];A=d[o],A||(A=new xc({radius:e,displacement:[n[0],-n[1]],stroke:t&&r>0?new Sc({width:r,color:t}):void 0,fill:i?new bc({color:i}):void 0,declutterMode:"none"}),d[o]=A),w.setImage(A),$=w.getText(),w.setText(void 0),w.setGeometry(void 0),w.setZIndex(E),N=!0}if("text-field"in S){O=Math.round(c_(h,"layout","text-size",T,f,R));const e=c_(h,"layout","text-font",T,f,R);z=c_(h,"layout","text-line-height",T,f,R),L=am(s?s(e,t.metadata?t.metadata["ol:webfonts"]:void 0):e,O,z),L.includes("sans-serif")||(L+=",sans-serif"),D=c_(h,"layout","text-letter-spacing",T,f,R),j=c_(h,"layout","text-max-width",T,f,R);const n=c_(h,"layout","text-field",T,f,R);F="object"==typeof n&&n.sections?1===n.sections.length?n.toString():n.sections.reduce((t,n,i)=>{const r=n.fontStack?n.fontStack.split(","):e,o=am(s?s(r):r,O*(n.scale||1),z);let a=n.text;if("\n"===a)return t.push("\n",""),t;if(2==k)return t.push(Zv(a,D),o),t;a=t_(a,o,j,D).split("\n");for(let e=0,s=a.length;e<s;++e)e>0&&t.push("\n",""),t.push(a[e],o);return t},[]):f_(n,m).trim(),c=c_(h,"paint","text-opacity",T,f,R)}if(F&&c&&!P){N||(++M,w=y[M],w&&w.getText()&&!w.getFill()&&!w.getStroke()||(w=new Cc,y[M]=w),w.setImage(void 0),w.setGeometry(void 0));const e=u_(h,T,"text",f);w.getText()||w.setText($),$=w.getText(),(!$||"getDeclutterMode"in $&&$.getDeclutterMode()!==e)&&($=new Mc({padding:[2,2,2,2],declutterMode:e}),w.setText($));const t=c_(h,"layout","text-transform",T,f,R);"uppercase"==t?F=Array.isArray(F)?F.map((e,t)=>t%2?e:e.toUpperCase()):F.toUpperCase():"lowercase"==t&&(F=Array.isArray(F)?F.map((e,t)=>t%2?e:e.toLowerCase()):F.toLowerCase());const n=Array.isArray(F)?F:2==k?Zv(F,D):t_(F,L,j,D);if($.setText(n),$.setFont(L),$.setRotation(Ov(c_(h,"layout","text-rotate",T,f,R))),"function"==typeof $.setKeepUpright){const e=c_(h,"layout","text-keep-upright",T,f,R);$.setKeepUpright(e)}const i=c_(h,"layout","text-anchor",T,f,R),r=N||1==k?"point":c_(h,"layout","symbol-placement",T,f,R);let o;if("line-center"===r?($.setPlacement("line"),o="center"):$.setPlacement(r),"line"===r&&"function"==typeof $.setRepeat){const e=c_(h,"layout","symbol-spacing",T,f,R);$.setRepeat(2*e)}$.setOverflow("point"===r);let s=c_(h,"paint","text-halo-width",T,f,R);const a=c_(h,"layout","text-offset",T,f,R),l=c_(h,"paint","text-translate",T,f,R);let u=0,d=0;if("point"==r){o="center",-1!==i.indexOf("left")?(o="left",d=s):-1!==i.indexOf("right")&&(o="right",d=-s);const e=c_(h,"layout","text-rotation-alignment",T,f,R);$.setRotateWithView("map"==e)}else $.setMaxAngle(Ov(c_(h,"layout","text-max-angle",T,f,R))*F.length/n.length),$.setRotateWithView(!1);$.setTextAlign(o);let p="middle";0==i.indexOf("bottom")?(p="bottom",u=-s-.5*(z-1)*O):0==i.indexOf("top")&&(p="top",u=s+.5*(z-1)*O),$.setTextBaseline(p);const g=c_(h,"layout","text-justify",T,f,R);$.setJustify("auto"===g?void 0:g),$.setOffsetX(a[0]*O+d+l[0]),$.setOffsetY(a[1]*O+u+l[1]),_.setColor(d_(c_(h,"paint","text-color",T,f,R),c)),$.setFill(_);const m=d_(c_(h,"paint","text-halo-color",T,f,R),c);if(m&&s>0){v.setColor(m),s*=2;const e=.5*O;v.setWidth(s<=e?s:e),$.setStroke(v)}else $.setStroke(void 0);const x=c_(h,"layout","text-padding",T,f,R),b=$.getPadding();x!==b[0]&&(b[0]=x,b[1]=x,b[2]=x,b[3]=x),w.setZIndex(E)}}}return M>-1?(y.length=M+1,y):void 0};return e.setStyle(x),e.set("mapbox-layers",h),e.set("mapbox-source",m),e.set("mapbox-featurestate",e.get("mapbox-featurestate")||{}),x}class __{constructor(){this.dataProjection=void 0,this.defaultFeatureProjection=void 0,this.featureClass=Mo,this.supportedMediaTypes=null}getReadOptions(e,t){if(t){let n=t.dataProjection?co(t.dataProjection):this.readProjection(e);t.extent&&n&&"tile-pixels"===n.getUnits()&&(n=co(n),n.setWorldExtent(t.extent)),t={dataProjection:n,featureProjection:t.featureProjection}}return this.adaptOptions(t)}adaptOptions(e){return Object.assign({dataProjection:this.dataProjection,featureProjection:this.defaultFeatureProjection,featureClass:this.featureClass},e)}getType(){return qn()}readFeature(e,t){return qn()}readFeatures(e,t){return qn()}readGeometry(e,t){return qn()}readProjection(e){return qn()}writeFeature(e,t){return qn()}writeFeatures(e,t){return qn()}writeGeometry(e,t){return qn()}}function y_(e,t,n){const i=n?co(n.featureProjection):null,r=n?co(n.dataProjection):null;let o=e;if(i&&r&&!go(i,r)){t&&(o=e.clone());const n=t?i:r,s=t?r:i;"tile-pixels"===n.getUnits()?o.transform(n,s):o.applyTransform(_o(n,s))}if(t&&n&&void 0!==n.decimals){const t=Math.pow(10,n.decimals),i=function(e){for(let n=0,i=e.length;n<i;++n)e[n]=Math.round(e[n]*t)/t;return e};o===e&&(o=e.clone()),o.applyTransform(i)}return o}const x_={Point:Ds,LineString:zs,Polygon:Ns,MultiPoint:js,MultiLineString:Os,MultiPolygon:Bs};function b_(e,t){const n=e.geometry;if(!n)return[];if(Array.isArray(n))return n.map(t=>b_({...e,geometry:t})).flat();const i="MultiPolygon"===n.type?"Polygon":n.type;if("GeometryCollection"===i||"Circle"===i)throw new Error("Unsupported geometry type: "+i);const r=n.layout.length;return y_(new qs(i,"Polygon"===i?function(e,t,n){return Array.isArray(t[0])?(Bo(e,0,t,n)||qo(e=e.slice(),0,t,n),e):($o(e,0,t,n)||Go(e=e.slice(),0,t,n),e)}(n.flatCoordinates,n.ends,r):n.flatCoordinates,n.ends?.flat(),r,e.properties||{},e.id).enableSimplifyTransformed(),!1,t)}function w_(e,t){if(!e)return null;if(Array.isArray(e)){const n=e.map(e=>w_(e,t));return new vs(n)}return y_(new(0,x_[e.type])(e.flatCoordinates,e.layout||"XY",e.ends),!1,t)}class k_ extends __{constructor(){super()}getType(){return"json"}readFeature(e,t){return this.readFeatureFromObject(S_(e),this.getReadOptions(e,t))}readFeatures(e,t){return this.readFeaturesFromObject(S_(e),this.getReadOptions(e,t))}readFeatureFromObject(e,t){return qn()}readFeaturesFromObject(e,t){return qn()}readGeometry(e,t){return this.readGeometryFromObject(S_(e),this.getReadOptions(e,t))}readGeometryFromObject(e,t){return qn()}readProjection(e){return this.readProjectionFromObject(S_(e))}readProjectionFromObject(e){return qn()}writeFeature(e,t){return JSON.stringify(this.writeFeatureObject(e,t))}writeFeatureObject(e,t){return qn()}writeFeatures(e,t){return JSON.stringify(this.writeFeaturesObject(e,t))}writeFeaturesObject(e,t){return qn()}writeGeometry(e,t){return JSON.stringify(this.writeGeometryObject(e,t))}writeGeometryObject(e,t){return qn()}}function S_(e){if("string"==typeof e){const t=JSON.parse(e);return t||null}return null!==e?e:null}class C_ extends k_{constructor(e){e=e||{},super(),this.dataProjection=co(e.dataProjection?e.dataProjection:"EPSG:4326"),e.featureProjection&&(this.defaultFeatureProjection=co(e.featureProjection)),e.featureClass&&(this.featureClass=e.featureClass),this.geometryName_=e.geometryName,this.extractGeometryName_=e.extractGeometryName,this.supportedMediaTypes=["application/geo+json","application/vnd.geo+json"]}readFeatureFromObject(e,t){let n=null;n="Feature"===e.type?e:{type:"Feature",geometry:e,properties:null};const i=E_(n.geometry);if(this.featureClass===qs)return b_({geometry:i,id:n.id,properties:n.properties},t);const r=new Mo;return this.geometryName_?r.setGeometryName(this.geometryName_):this.extractGeometryName_&&n.geometry_name&&r.setGeometryName(n.geometry_name),r.setGeometry(w_(i,t)),"id"in n&&r.setId(n.id),n.properties&&r.setProperties(n.properties,!0),r}readFeaturesFromObject(e,t){let n=null;if("FeatureCollection"===e.type){n=[];const i=e.features;for(let e=0,r=i.length;e<r;++e){const r=this.readFeatureFromObject(i[e],t);r&&n.push(r)}}else n=[this.readFeatureFromObject(e,t)];return n.flat()}readGeometryFromObject(e,t){return function(e,t){const n=E_(e);return w_(n,t)}(e,t)}readProjectionFromObject(e){const t=e.crs;let n;if(t)if("name"==t.type)n=co(t.properties.name);else{if("EPSG"!==t.type)throw new Error("Unknown SRS type");n=co("EPSG:"+t.properties.code)}else n=this.dataProjection;return n}writeFeatureObject(e,t){t=this.adaptOptions(t);const n={type:"Feature",geometry:null,properties:null},i=e.getId();if(void 0!==i&&(n.id=i),!e.hasProperties())return n;const r=e.getProperties(),o=e.getGeometry();return o&&(n.geometry=T_(o,t),delete r[e.getGeometryName()]),_n(r)||(n.properties=r),n}writeFeaturesObject(e,t){t=this.adaptOptions(t);const n=[];for(let i=0,r=e.length;i<r;++i)n.push(this.writeFeatureObject(e[i],t));return{type:"FeatureCollection",features:n}}writeGeometryObject(e,t){return T_(e,this.adaptOptions(t))}}function E_(e,t){if(!e)return null;let n;switch(e.type){case"Point":n=function(e){const t=e.coordinates;return{type:"Point",flatCoordinates:t,layout:ds(t.length)}}(e);break;case"LineString":n=function(e){const t=e.coordinates,n=t.flat();return{type:"LineString",flatCoordinates:n,ends:[n.length],layout:ds(t[0]?.length||2)}}(e);break;case"Polygon":n=function(e){const t=e.coordinates,n=[],i=t[0]?.[0]?.length,r=gs(n,0,t,i);return{type:"Polygon",flatCoordinates:n,ends:r,layout:ds(i)}}(e);break;case"MultiPoint":n=function(e){const t=e.coordinates;return{type:"MultiPoint",flatCoordinates:t.flat(),layout:ds(t[0]?.length||2)}}(e);break;case"MultiLineString":n=function(e){const t=e.coordinates,n=t[0]?.[0]?.length||2,i=[],r=gs(i,0,t,n);return{type:"MultiLineString",flatCoordinates:i,ends:r,layout:ds(n)}}(e);break;case"MultiPolygon":n=function(e){const t=e.coordinates,n=[],i=t[0]?.[0]?.[0].length||2,r=ms(n,0,t,i);return{type:"MultiPolygon",flatCoordinates:n,ends:r,layout:ds(i)}}(e);break;case"GeometryCollection":n=function(e){const t=e.geometries.map(function(e){return E_(e)});return t}(e);break;default:throw new Error("Unsupported GeoJSON type: "+e.type)}return n}function T_(e,t){const n=(e=y_(e,!0,t)).getType();let i;switch(n){case"Point":i=function(e){return{type:"Point",coordinates:e.getCoordinates()}}(e);break;case"LineString":i=function(e){return{type:"LineString",coordinates:e.getCoordinates()}}(e);break;case"Polygon":i=function(e,t){let n;t&&(n=t.rightHanded);return{type:"Polygon",coordinates:e.getCoordinates(n)}}(e,t);break;case"MultiPoint":i=function(e){return{type:"MultiPoint",coordinates:e.getCoordinates()}}(e);break;case"MultiLineString":i=function(e){return{type:"MultiLineString",coordinates:e.getCoordinates()}}(e);break;case"MultiPolygon":i=function(e,t){let n;t&&(n=t.rightHanded);return{type:"MultiPolygon",coordinates:e.getCoordinates(n)}}(e,t);break;case"GeometryCollection":i=function(e,t){t=Object.assign({},t),delete t.featureProjection;const n=e.getGeometriesArray().map(function(e){return T_(e,t)});return{type:"GeometryCollection",geometries:n}}(e,t);break;case"Circle":i={type:"GeometryCollection",geometries:[]};break;default:throw new Error("Unsupported geometry type: "+n)}return i}const R_=4294967296,M_=1/R_,I_="undefined"==typeof TextDecoder?null:new TextDecoder("utf-8");class A_{constructor(e=new Uint8Array(16)){this.buf=ArrayBuffer.isView(e)?e:new Uint8Array(e),this.dataView=new DataView(this.buf.buffer),this.pos=0,this.type=0,this.length=this.buf.length}readFields(e,t,n=this.length){for(;this.pos<n;){const n=this.readVarint(),i=n>>3,r=this.pos;this.type=7&n,e(i,t,this),this.pos===r&&this.skip(n)}return t}readMessage(e,t){return this.readFields(e,t,this.readVarint()+this.pos)}readFixed32(){const e=this.dataView.getUint32(this.pos,!0);return this.pos+=4,e}readSFixed32(){const e=this.dataView.getInt32(this.pos,!0);return this.pos+=4,e}readFixed64(){const e=this.dataView.getUint32(this.pos,!0)+this.dataView.getUint32(this.pos+4,!0)*R_;return this.pos+=8,e}readSFixed64(){const e=this.dataView.getUint32(this.pos,!0)+this.dataView.getInt32(this.pos+4,!0)*R_;return this.pos+=8,e}readFloat(){const e=this.dataView.getFloat32(this.pos,!0);return this.pos+=4,e}readDouble(){const e=this.dataView.getFloat64(this.pos,!0);return this.pos+=8,e}readVarint(e){const t=this.buf;let n,i;return i=t[this.pos++],n=127&i,i<128?n:(i=t[this.pos++],n|=(127&i)<<7,i<128?n:(i=t[this.pos++],n|=(127&i)<<14,i<128?n:(i=t[this.pos++],n|=(127&i)<<21,i<128?n:(i=t[this.pos],n|=(15&i)<<28,function(e,t,n){const i=n.buf;let r,o;if(o=i[n.pos++],r=(112&o)>>4,o<128)return P_(e,r,t);if(o=i[n.pos++],r|=(127&o)<<3,o<128)return P_(e,r,t);if(o=i[n.pos++],r|=(127&o)<<10,o<128)return P_(e,r,t);if(o=i[n.pos++],r|=(127&o)<<17,o<128)return P_(e,r,t);if(o=i[n.pos++],r|=(127&o)<<24,o<128)return P_(e,r,t);if(o=i[n.pos++],r|=(1&o)<<31,o<128)return P_(e,r,t);throw new Error("Expected varint not more than 10 bytes")}(n,e,this)))))}readVarint64(){return this.readVarint(!0)}readSVarint(){const e=this.readVarint();return e%2==1?(e+1)/-2:e/2}readBoolean(){return Boolean(this.readVarint())}readString(){const e=this.readVarint()+this.pos,t=this.pos;return this.pos=e,e-t>=12&&I_?I_.decode(this.buf.subarray(t,e)):function(e,t,n){let i="",r=t;for(;r<n;){const t=e[r];let o,s,a,l=null,c=t>239?4:t>223?3:t>191?2:1;if(r+c>n)break;1===c?t<128&&(l=t):2===c?(o=e[r+1],128==(192&o)&&(l=(31&t)<<6|63&o,l<=127&&(l=null))):3===c?(o=e[r+1],s=e[r+2],128==(192&o)&&128==(192&s)&&(l=(15&t)<<12|(63&o)<<6|63&s,(l<=2047||l>=55296&&l<=57343)&&(l=null))):4===c&&(o=e[r+1],s=e[r+2],a=e[r+3],128==(192&o)&&128==(192&s)&&128==(192&a)&&(l=(15&t)<<18|(63&o)<<12|(63&s)<<6|63&a,(l<=65535||l>=1114112)&&(l=null))),null===l?(l=65533,c=1):l>65535&&(l-=65536,i+=String.fromCharCode(l>>>10&1023|55296),l=56320|1023&l),i+=String.fromCharCode(l),r+=c}return i}(this.buf,t,e)}readBytes(){const e=this.readVarint()+this.pos,t=this.buf.subarray(this.pos,e);return this.pos=e,t}readPackedVarint(e=[],t){const n=this.readPackedEnd();for(;this.pos<n;)e.push(this.readVarint(t));return e}readPackedSVarint(e=[]){const t=this.readPackedEnd();for(;this.pos<t;)e.push(this.readSVarint());return e}readPackedBoolean(e=[]){const t=this.readPackedEnd();for(;this.pos<t;)e.push(this.readBoolean());return e}readPackedFloat(e=[]){const t=this.readPackedEnd();for(;this.pos<t;)e.push(this.readFloat());return e}readPackedDouble(e=[]){const t=this.readPackedEnd();for(;this.pos<t;)e.push(this.readDouble());return e}readPackedFixed32(e=[]){const t=this.readPackedEnd();for(;this.pos<t;)e.push(this.readFixed32());return e}readPackedSFixed32(e=[]){const t=this.readPackedEnd();for(;this.pos<t;)e.push(this.readSFixed32());return e}readPackedFixed64(e=[]){const t=this.readPackedEnd();for(;this.pos<t;)e.push(this.readFixed64());return e}readPackedSFixed64(e=[]){const t=this.readPackedEnd();for(;this.pos<t;)e.push(this.readSFixed64());return e}readPackedEnd(){return 2===this.type?this.readVarint()+this.pos:this.pos+1}skip(e){const t=7&e;if(0===t)for(;this.buf[this.pos++]>127;);else if(2===t)this.pos=this.readVarint()+this.pos;else if(5===t)this.pos+=4;else{if(1!==t)throw new Error(`Unimplemented type: ${t}`);this.pos+=8}}writeTag(e,t){this.writeVarint(e<<3|t)}realloc(e){let t=this.length||16;for(;t<this.pos+e;)t*=2;if(t!==this.length){const e=new Uint8Array(t);e.set(this.buf),this.buf=e,this.dataView=new DataView(e.buffer),this.length=t}}finish(){return this.length=this.pos,this.pos=0,this.buf.subarray(0,this.length)}writeFixed32(e){this.realloc(4),this.dataView.setInt32(this.pos,e,!0),this.pos+=4}writeSFixed32(e){this.realloc(4),this.dataView.setInt32(this.pos,e,!0),this.pos+=4}writeFixed64(e){this.realloc(8),this.dataView.setInt32(this.pos,-1&e,!0),this.dataView.setInt32(this.pos+4,Math.floor(e*M_),!0),this.pos+=8}writeSFixed64(e){this.realloc(8),this.dataView.setInt32(this.pos,-1&e,!0),this.dataView.setInt32(this.pos+4,Math.floor(e*M_),!0),this.pos+=8}writeVarint(e){(e=+e||0)>268435455||e<0?function(e,t){let n,i;e>=0?(n=e%4294967296|0,i=e/4294967296|0):(n=~(-e%4294967296),i=~(-e/4294967296),4294967295^n?n=n+1|0:(n=0,i=i+1|0));if(e>=0x10000000000000000||e<-0x10000000000000000)throw new Error("Given varint doesn't fit into 10 bytes");t.realloc(10),function(e,t,n){n.buf[n.pos++]=127&e|128,e>>>=7,n.buf[n.pos++]=127&e|128,e>>>=7,n.buf[n.pos++]=127&e|128,e>>>=7,n.buf[n.pos++]=127&e|128,e>>>=7,n.buf[n.pos]=127&e}(n,0,t),function(e,t){const n=(7&e)<<4;if(t.buf[t.pos++]|=n|((e>>>=3)?128:0),!e)return;if(t.buf[t.pos++]=127&e|((e>>>=7)?128:0),!e)return;if(t.buf[t.pos++]=127&e|((e>>>=7)?128:0),!e)return;if(t.buf[t.pos++]=127&e|((e>>>=7)?128:0),!e)return;if(t.buf[t.pos++]=127&e|((e>>>=7)?128:0),!e)return;t.buf[t.pos++]=127&e}(i,t)}(e,this):(this.realloc(4),this.buf[this.pos++]=127&e|(e>127?128:0),e<=127||(this.buf[this.pos++]=127&(e>>>=7)|(e>127?128:0),e<=127||(this.buf[this.pos++]=127&(e>>>=7)|(e>127?128:0),e<=127||(this.buf[this.pos++]=e>>>7&127))))}writeSVarint(e){this.writeVarint(e<0?2*-e-1:2*e)}writeBoolean(e){this.writeVarint(+e)}writeString(e){e=String(e),this.realloc(4*e.length),this.pos++;const t=this.pos;this.pos=function(e,t,n){for(let i,r,o=0;o<t.length;o++){if(i=t.charCodeAt(o),i>55295&&i<57344){if(!r){i>56319||o+1===t.length?(e[n++]=239,e[n++]=191,e[n++]=189):r=i;continue}if(i<56320){e[n++]=239,e[n++]=191,e[n++]=189,r=i;continue}i=r-55296<<10|i-56320|65536,r=null}else r&&(e[n++]=239,e[n++]=191,e[n++]=189,r=null);i<128?e[n++]=i:(i<2048?e[n++]=i>>6|192:(i<65536?e[n++]=i>>12|224:(e[n++]=i>>18|240,e[n++]=i>>12&63|128),e[n++]=i>>6&63|128),e[n++]=63&i|128)}return n}(this.buf,e,this.pos);const n=this.pos-t;n>=128&&F_(t,n,this),this.pos=t-1,this.writeVarint(n),this.pos+=n}writeFloat(e){this.realloc(4),this.dataView.setFloat32(this.pos,e,!0),this.pos+=4}writeDouble(e){this.realloc(8),this.dataView.setFloat64(this.pos,e,!0),this.pos+=8}writeBytes(e){const t=e.length;this.writeVarint(t),this.realloc(t);for(let n=0;n<t;n++)this.buf[this.pos++]=e[n]}writeRawMessage(e,t){this.pos++;const n=this.pos;e(t,this);const i=this.pos-n;i>=128&&F_(n,i,this),this.pos=n-1,this.writeVarint(i),this.pos+=i}writeMessage(e,t,n){this.writeTag(e,2),this.writeRawMessage(t,n)}writePackedVarint(e,t){t.length&&this.writeMessage(e,L_,t)}writePackedSVarint(e,t){t.length&&this.writeMessage(e,z_,t)}writePackedBoolean(e,t){t.length&&this.writeMessage(e,j_,t)}writePackedFloat(e,t){t.length&&this.writeMessage(e,O_,t)}writePackedDouble(e,t){t.length&&this.writeMessage(e,D_,t)}writePackedFixed32(e,t){t.length&&this.writeMessage(e,N_,t)}writePackedSFixed32(e,t){t.length&&this.writeMessage(e,$_,t)}writePackedFixed64(e,t){t.length&&this.writeMessage(e,B_,t)}writePackedSFixed64(e,t){t.length&&this.writeMessage(e,G_,t)}writeBytesField(e,t){this.writeTag(e,2),this.writeBytes(t)}writeFixed32Field(e,t){this.writeTag(e,5),this.writeFixed32(t)}writeSFixed32Field(e,t){this.writeTag(e,5),this.writeSFixed32(t)}writeFixed64Field(e,t){this.writeTag(e,1),this.writeFixed64(t)}writeSFixed64Field(e,t){this.writeTag(e,1),this.writeSFixed64(t)}writeVarintField(e,t){this.writeTag(e,0),this.writeVarint(t)}writeSVarintField(e,t){this.writeTag(e,0),this.writeSVarint(t)}writeStringField(e,t){this.writeTag(e,2),this.writeString(t)}writeFloatField(e,t){this.writeTag(e,5),this.writeFloat(t)}writeDoubleField(e,t){this.writeTag(e,1),this.writeDouble(t)}writeBooleanField(e,t){this.writeVarintField(e,+t)}}function P_(e,t,n){return n?4294967296*t+(e>>>0):4294967296*(t>>>0)+(e>>>0)}function F_(e,t,n){const i=t<=16383?1:t<=2097151?2:t<=268435455?3:Math.floor(Math.log(t)/(7*Math.LN2));n.realloc(i);for(let r=n.pos-1;r>=e;r--)n.buf[r+i]=n.buf[r]}function L_(e,t){for(let n=0;n<e.length;n++)t.writeVarint(e[n])}function z_(e,t){for(let n=0;n<e.length;n++)t.writeSVarint(e[n])}function O_(e,t){for(let n=0;n<e.length;n++)t.writeFloat(e[n])}function D_(e,t){for(let n=0;n<e.length;n++)t.writeDouble(e[n])}function j_(e,t){for(let n=0;n<e.length;n++)t.writeBoolean(e[n])}function N_(e,t){for(let n=0;n<e.length;n++)t.writeFixed32(e[n])}function $_(e,t){for(let n=0;n<e.length;n++)t.writeSFixed32(e[n])}function B_(e,t){for(let n=0;n<e.length;n++)t.writeFixed64(e[n])}function G_(e,t){for(let n=0;n<e.length;n++)t.writeSFixed64(e[n])}class q_ extends __{constructor(e){super(),e=e||{},this.dataProjection=new pr({code:"",units:"tile-pixels"}),this.featureClass=e.featureClass?e.featureClass:qs,this.geometryName_=e.geometryName,this.layerName_=e.layerName?e.layerName:"layer",this.layers_=e.layers?e.layers:null,this.idProperty_=e.idProperty,this.supportedMediaTypes=["application/vnd.mapbox-vector-tile","application/x-protobuf"]}readRawGeometry_(e,t,n,i){e.pos=t.geometry;const r=e.readVarint()+e.pos;let o=1,s=0,a=0,l=0,c=0,u=0;for(;e.pos<r;){if(!s){const t=e.readVarint();o=7&t,s=t>>3}if(s--,1===o||2===o)a+=e.readSVarint(),l+=e.readSVarint(),1===o&&c>u&&(i.push(c),u=c),n.push(a,l),c+=2;else{if(7!==o)throw new Error("Invalid command found in the PBF");c>u&&(n.push(n[u],n[u+1]),c+=2)}}c>u&&(i.push(c),u=c)}createFeature_(e,t,n){const i=t.type;if(0===i)return null;let r;const o=t.properties;let s;this.idProperty_?(s=o[this.idProperty_],delete o[this.idProperty_]):s=t.id,o[this.layerName_]=t.layer.name;const a=[],l=[];this.readRawGeometry_(e,t,a,l);const c=function(e,t){let n;1===e?n=1===t?"Point":"MultiPoint":2===e?n=1===t?"LineString":"MultiLineString":3===e&&(n="Polygon");return n}(i,l.length);if(this.featureClass===qs)r=new this.featureClass(c,a,l,2,o,s),r.transform(n.dataProjection);else{let e;if("Polygon"==c){const t=Wo(a,l);e=t.length>1?new Bs(a,"XY",t):new Ns(a,"XY",l)}else e="Point"===c?new Ds(a,"XY"):"LineString"===c?new zs(a,"XY"):"MultiPoint"===c?new js(a,"XY"):"MultiLineString"===c?new Os(a,"XY",l):null;r=new(0,this.featureClass),this.geometryName_&&r.setGeometryName(this.geometryName_);const t=y_(e,!1,n);r.setGeometry(t),void 0!==s&&r.setId(s),r.setProperties(o,!0)}return r}getType(){return"arraybuffer"}readFeatures(e,t){const n=this.layers_,i=co((t=this.adaptOptions(t)).dataProjection);i.setWorldExtent(t.extent),t.dataProjection=i;const r=new A_(e),o=r.readFields(W_,{}),s=[];for(const a in o){if(n&&!n.includes(a))continue;const e=o[a],l=e?[0,0,e.extent,e.extent]:null;i.setExtent(l);for(let n=0,i=e.length;n<i;++n){const i=H_(r,e,n),o=this.createFeature_(r,i,t);null!==o&&s.push(o)}}return s}readProjection(e){return this.dataProjection}setLayers(e){this.layers_=e}}function W_(e,t,n){if(3===e){const e={keys:[],values:[],features:[]},i=n.readVarint()+n.pos;n.readFields(X_,e,i),e.length=e.features.length,e.length&&(t[e.name]=e)}}function X_(e,t,n){if(15===e)t.version=n.readVarint();else if(1===e)t.name=n.readString();else if(5===e)t.extent=n.readVarint();else if(2===e)t.features.push(n.pos);else if(3===e)t.keys.push(n.readString());else if(4===e){let i=null;const r=n.readVarint()+n.pos;for(;n.pos<r;)i=1===(e=n.readVarint()>>3)?n.readString():2===e?n.readFloat():3===e?n.readDouble():4===e?n.readVarint64():5===e?n.readVarint():6===e?n.readSVarint():7===e?n.readBoolean():null;t.values.push(i)}}function U_(e,t,n){if(1==e)t.id=n.readVarint();else if(2==e){const e=n.readVarint()+n.pos;for(;n.pos<e;){const e=t.layer.keys[n.readVarint()],i=t.layer.values[n.readVarint()];t.properties[e]=i}}else 3==e?t.type=n.readVarint():4==e&&(t.geometry=n.pos)}function H_(e,t,n){e.pos=t.features[n];const i=e.readVarint()+e.pos,r={layer:t,type:0,properties:{}};return e.readFields(U_,r,i),r}class V_ extends Wc{constructor(e){super(e),this.image=null}getImage(){return this.image?this.image.getImage():null}prepareFrame(e){const t=e.layerStatesArray[e.layerIndex],n=e.pixelRatio,i=e.viewState,r=i.resolution,o=this.getLayer().getSource(),s=e.viewHints;let a=e.extent;if(void 0!==t.extent&&(a=Bi(a,ko(t.extent,i.projection))),!s[xa]&&!s[ba]&&!Ui(a))if(o){const e=i.projection,t=o.getImage(a,r,n,e);t&&(this.loadImage(t)?this.image=t:t.getState()===Aa&&(this.image=null))}else this.image=null;return!!this.image}getData(e){const t=this.frameState;if(!t)return null;const n=this.getLayer(),i=ns(t.pixelToCoordinateTransform,e.slice()),r=n.getExtent();if(r&&!_i(r,i))return null;const o=this.image.getExtent(),s=this.image.getImage(),a=Wi(o),l=Math.floor(s.width*((i[0]-o[0])/a));if(l<0||l>=s.width)return null;const c=$i(o),u=Math.floor(s.height*((o[3]-i[1])/c));return u<0||u>=s.height?null:this.getImageData(s,l,u)}renderFrame(e,t){const n=this.image,i=n.getExtent(),r=n.getResolution(),[o,s]=Array.isArray(r)?r:[r,r],a=n.getPixelRatio(),l=e.layerStatesArray[e.layerIndex],c=e.pixelRatio,u=e.viewState,h=u.center,d=u.resolution,p=c*o/(d*a),f=c*s/(d*a);this.prepareContainer(e,t);const g=this.context.canvas.width,m=this.context.canvas.height,v=this.getRenderContext(e);let _=!1,y=!0;if(l.extent){const t=ko(l.extent,u.projection);y=Xi(t,e.extent),_=y&&!yi(t,e.extent),_&&this.clipUnrotated(v,e,t)}const x=n.getImage(),b=rs(this.tempTransform,g/2,m/2,p,f,0,a*(i[0]-h[0])/o,a*(h[1]-i[3])/s);this.renderedResolution=s*c/a;const w=x.width*b[0],k=x.height*b[3];if(this.getLayer().getSource().getInterpolate()||(v.imageSmoothingEnabled=!1),this.preRender(v,e),y&&w>=.5&&k>=.5){const e=b[4],t=b[5],n=l.opacity;1!==n&&(v.save(),v.globalAlpha=n),v.drawImage(x,0,0,+x.width,+x.height,e,t,w,k),1!==n&&v.restore()}return this.postRender(this.context,e),_&&v.restore(),v.imageSmoothingEnabled=!0,this.container}}class Y_ extends pd{constructor(e){super(e=e||{})}}class Z_ extends Y_{constructor(e){super(e)}createRenderer(){return new V_(this)}getData(e){return super.getData(e)}}function K_(e){return e instanceof Image||e instanceof HTMLCanvasElement||e instanceof HTMLVideoElement||e instanceof ImageBitmap?e:null}const J_=new Error("disposed"),Q_=[256,256];class ey extends vv{constructor(e){const t=fm;super(e.tileCoord,t,{transition:e.transition,interpolate:e.interpolate}),this.loader_=e.loader,this.data_=null,this.error_=null,this.size_=e.size||null,this.controller_=e.controller||null}getSize(){if(this.size_)return this.size_;const e=K_(this.data_);return e?[e.width,e.height]:Q_}getData(){return this.data_}getError(){return this.error_}load(){if(this.state!==fm&&this.state!==vm)return;this.state=gm,this.changed();const e=this;this.loader_().then(function(t){e.data_=t,e.state=mm,e.changed()}).catch(function(t){e.error_=t,e.state=vm,e.changed()})}disposeInternal(){this.controller_&&(this.controller_.abort(J_),this.controller_=null),super.disposeInternal()}}let ty;const ny=[];function iy(e,t,n,i,r){e.beginPath(),e.moveTo(0,0),e.lineTo(t,n),e.lineTo(i,r),e.closePath(),e.save(),e.clip(),e.fillRect(0,0,Math.max(t,i)+1,Math.max(n,r)),e.restore()}function ry(e,t){return Math.abs(e[4*t]-210)>2||Math.abs(e[4*t+3]-191.25)>2}function oy(e,t,n,i){const r=yo(n,t,e);let o=uo(t,i,n);const s=t.getMetersPerUnit();void 0!==s&&(o*=s);const a=e.getMetersPerUnit();void 0!==a&&(o/=a);const l=e.getExtent();if(!l||_i(l,r)){const t=uo(e,o,r)/o;isFinite(t)&&t>0&&(o/=t)}return o}function sy(e,t,n,i,r,o,s,a,l,c,u,h,d,p){const f=tn(Math.round(n*e),Math.round(n*t),ny);if(h||(f.imageSmoothingEnabled=!1),0===l.length)return f.canvas;function g(e){return Math.round(e*n)/n}f.scale(n,n),f.globalCompositeOperation="lighter";const m=[1/0,1/0,-1/0,-1/0];let v;l.forEach(function(e,t,n){Ri(m,e.extent)});const _=n/i,y=(h?1:1+Math.pow(2,-24))/_;d&&1===l.length&&0===c||(v=tn(Math.round(Wi(m)*_),Math.round($i(m)*_),ny),h||(v.imageSmoothingEnabled=!1),l.forEach(function(e,t,n){if(e.image.width>0&&e.image.height>0){if(e.clipExtent){v.save();const t=(e.clipExtent[0]-m[0])*_,n=-(e.clipExtent[3]-m[3])*_,i=Wi(e.clipExtent)*_,r=$i(e.clipExtent)*_;v.rect(h?t:Math.round(t),h?n:Math.round(n),h?i:Math.round(t+i)-Math.round(t),h?r:Math.round(n+r)-Math.round(n)),v.clip()}const t=(e.extent[0]-m[0])*_,n=-(e.extent[3]-m[3])*_,i=Wi(e.extent)*_,r=$i(e.extent)*_;v.drawImage(e.image,c,c,e.image.width-2*c,e.image.height-2*c,h?t:Math.round(t),h?n:Math.round(n),h?i:Math.round(t+i)-Math.round(t),h?r:Math.round(n+r)-Math.round(n)),e.clipExtent&&v.restore()}}));const x=Gi(s);return a.getTriangles().forEach(function(e,t,n){const i=e.source,r=e.target;let s=i[0][0],a=i[0][1],c=i[1][0],u=i[1][1],d=i[2][0],p=i[2][1];const _=g((r[0][0]-x[0])/o),b=g(-(r[0][1]-x[1])/o),w=g((r[1][0]-x[0])/o),k=g(-(r[1][1]-x[1])/o),S=g((r[2][0]-x[0])/o),C=g(-(r[2][1]-x[1])/o),E=s,T=a;s=0,a=0,c-=E,u-=T,d-=E,p-=T;const R=function(e){const t=e.length;for(let i=0;i<t;i++){let n=i,r=Math.abs(e[i][i]);for(let s=i+1;s<t;s++){const t=Math.abs(e[s][i]);t>r&&(r=t,n=s)}if(0===r)return null;const o=e[n];e[n]=e[i],e[i]=o;for(let s=i+1;s<t;s++){const n=-e[s][i]/e[i][i];for(let r=i;r<t+1;r++)i==r?e[s][r]=0:e[s][r]+=n*e[i][r]}}const n=new Array(t);for(let i=t-1;i>=0;i--){n[i]=e[i][t]/e[i][i];for(let r=i-1;r>=0;r--)e[r][t]-=e[r][i]*n[i]}return n}([[c,u,0,0,w-_],[d,p,0,0,S-_],[0,0,c,u,k-b],[0,0,d,p,C-b]]);if(!R)return;if(f.save(),f.beginPath(),function(){if(void 0===ty){const e=tn(6,6,ny);e.globalCompositeOperation="lighter",e.fillStyle="rgba(210, 0, 0, 0.75)",iy(e,4,5,4,0),iy(e,4,5,0,5);const t=e.getImageData(0,0,3,3).data;ty=ry(t,0)||ry(t,4)||ry(t,8),on(e),ny.push(e.canvas)}return ty}()||!h){f.moveTo(w,k);const e=4,t=_-w,n=b-k;for(let i=0;i<e;i++)f.lineTo(w+g((i+1)*t/e),k+g(i*n/(e-1))),i!=e-1&&f.lineTo(w+g((i+1)*t/e),k+g((i+1)*n/(e-1)));f.lineTo(S,C)}else f.moveTo(w,k),f.lineTo(_,b),f.lineTo(S,C);let M;if(f.clip(),f.transform(R[0],R[2],R[1],R[3],_,b),f.translate(m[0]-E,m[3]-T),v)M=v.canvas,f.scale(y,-y);else{const e=l[0],t=e.extent;M=e.image,f.scale(Wi(t)/M.width,-$i(t)/M.height)}f.drawImage(M,0,0),f.restore()}),v&&(on(v),ny.push(v.canvas)),u&&(f.save(),f.globalCompositeOperation="source-over",f.strokeStyle="black",f.lineWidth=1,a.getTriangles().forEach(function(e,t,n){const i=e.target,r=(i[0][0]-x[0])/o,s=-(i[0][1]-x[1])/o,a=(i[1][0]-x[0])/o,l=-(i[1][1]-x[1])/o,c=(i[2][0]-x[0])/o,u=-(i[2][1]-x[1])/o;f.beginPath(),f.moveTo(a,l),f.lineTo(r,s),f.lineTo(c,u),f.closePath(),f.stroke()}),f.restore()),f.canvas}class ay{constructor(e,t,n,i,r,o,s){this.sourceProj_=e,this.targetProj_=t;let a={};const l=s?(c=e=>ns(s,yo(e,this.targetProj_,this.sourceProj_)),function(e,t,n,i){const r=e.length;n=void 0!==n?n:2,i=i??n,t=void 0!==t?t:new Array(r);for(let o=0;o<r;o+=i){const r=c(e.slice(o,o+n)),s=r.length;for(let n=0,a=i;n<a;++n)t[o+n]=n>=s?e[o+n]:r[n]}return t}):_o(this.targetProj_,this.sourceProj_);var c;this.transformInv_=function(e){const t=e[0]+"/"+e[1];return a[t]||(a[t]=l(e)),a[t]},this.maxSourceExtent_=i,this.errorThresholdSquared_=r*r,this.triangles_=[],this.wrapsXInSource_=!1,this.canWrapXInSource_=this.sourceProj_.canWrapX()&&!!i&&!!this.sourceProj_.getExtent()&&Wi(i)>=Wi(this.sourceProj_.getExtent()),this.sourceWorldWidth_=this.sourceProj_.getExtent()?Wi(this.sourceProj_.getExtent()):null,this.targetWorldWidth_=this.targetProj_.getExtent()?Wi(this.targetProj_.getExtent()):null;const u=Gi(n),h=qi(n),d=zi(n),p=Li(n),f=this.transformInv_(u),g=this.transformInv_(h),m=this.transformInv_(d),v=this.transformInv_(p),_=10+(o?Math.max(0,Math.ceil(Math.log2(Fi(n)/(o*o*256*256)))):0);if(this.addQuad_(u,h,d,p,f,g,m,v,_),this.wrapsXInSource_){let e=1/0;this.triangles_.forEach(function(t,n,i){e=Math.min(e,t.source[0][0],t.source[1][0],t.source[2][0])}),this.triangles_.forEach(t=>{if(Math.max(t.source[0][0],t.source[1][0],t.source[2][0])-e>this.sourceWorldWidth_/2){const n=[[t.source[0][0],t.source[0][1]],[t.source[1][0],t.source[1][1]],[t.source[2][0],t.source[2][1]]];n[0][0]-e>this.sourceWorldWidth_/2&&(n[0][0]-=this.sourceWorldWidth_),n[1][0]-e>this.sourceWorldWidth_/2&&(n[1][0]-=this.sourceWorldWidth_),n[2][0]-e>this.sourceWorldWidth_/2&&(n[2][0]-=this.sourceWorldWidth_);const i=Math.min(n[0][0],n[1][0],n[2][0]);Math.max(n[0][0],n[1][0],n[2][0])-i<this.sourceWorldWidth_/2&&(t.source=n)}})}a={}}addTriangle_(e,t,n,i,r,o){this.triangles_.push({source:[i,r,o],target:[e,t,n]})}addQuad_(e,t,n,i,r,o,s,a,l){const c=fi([r,o,s,a]),u=this.sourceWorldWidth_?Wi(c)/this.sourceWorldWidth_:null,h=this.sourceWorldWidth_,d=this.sourceProj_.canWrapX()&&u>.5&&u<1;let p=!1;if(l>0){if(this.targetProj_.isGlobal()&&this.targetWorldWidth_){p=Wi(fi([e,t,n,i]))/this.targetWorldWidth_>.25||p}!d&&this.sourceProj_.isGlobal()&&u&&(p=u>.25||p)}if(!p&&this.maxSourceExtent_&&isFinite(c[0])&&isFinite(c[1])&&isFinite(c[2])&&isFinite(c[3])&&!Xi(c,this.maxSourceExtent_))return;let f=0;if(!(p||isFinite(r[0])&&isFinite(r[1])&&isFinite(o[0])&&isFinite(o[1])&&isFinite(s[0])&&isFinite(s[1])&&isFinite(a[0])&&isFinite(a[1])))if(l>0)p=!0;else if(f=(isFinite(r[0])&&isFinite(r[1])?0:8)+(isFinite(o[0])&&isFinite(o[1])?0:4)+(isFinite(s[0])&&isFinite(s[1])?0:2)+(isFinite(a[0])&&isFinite(a[1])?0:1),1!=f&&2!=f&&4!=f&&8!=f)return;if(l>0){if(!p){const t=[(e[0]+n[0])/2,(e[1]+n[1])/2],i=this.transformInv_(t);let o;if(d){o=(ir(r[0],h)+ir(s[0],h))/2-ir(i[0],h)}else o=(r[0]+s[0])/2-i[0];const a=(r[1]+s[1])/2-i[1];p=o*o+a*a>this.errorThresholdSquared_}if(p){if(Math.abs(e[0]-n[0])<=Math.abs(e[1]-n[1])){const c=[(t[0]+n[0])/2,(t[1]+n[1])/2],u=this.transformInv_(c),h=[(i[0]+e[0])/2,(i[1]+e[1])/2],d=this.transformInv_(h);this.addQuad_(e,t,c,h,r,o,u,d,l-1),this.addQuad_(h,c,n,i,d,u,s,a,l-1)}else{const c=[(e[0]+t[0])/2,(e[1]+t[1])/2],u=this.transformInv_(c),h=[(n[0]+i[0])/2,(n[1]+i[1])/2],d=this.transformInv_(h);this.addQuad_(e,c,h,i,r,u,d,a,l-1),this.addQuad_(c,t,n,h,u,o,s,d,l-1)}return}}if(d){if(!this.canWrapXInSource_)return;this.wrapsXInSource_=!0}11&f||this.addTriangle_(e,n,i,r,s,a),14&f||this.addTriangle_(e,n,t,r,s,o),f&&(13&f||this.addTriangle_(t,i,e,o,a,r),7&f||this.addTriangle_(t,i,n,o,a,s))}calculateSourceExtent(){const e=[1/0,1/0,-1/0,-1/0];return this.triangles_.forEach(function(t,n,i){const r=t.source;Mi(e,r[0]),Mi(e,r[1]),Mi(e,r[2])}),e}getTriangles(){return this.triangles_}}class ly extends vv{constructor(e,t,n,i,r,o,s,a,l,c,u,h){super(r,fm,h),this.renderEdges_=void 0!==u&&u,this.pixelRatio_=s,this.gutter_=a,this.canvas_=null,this.sourceTileGrid_=t,this.targetTileGrid_=i,this.wrappedTileCoord_=o||r,this.sourceTiles_=[],this.sourcesListenerKeys_=null,this.sourceZ_=0,this.clipExtent_=e.canWrapX()?e.getExtent():void 0;const d=i.getTileCoordExtent(this.wrappedTileCoord_),p=this.targetTileGrid_.getExtent();let f=this.sourceTileGrid_.getExtent();const g=p?Bi(d,p):d;if(0===Fi(g))return void(this.state=_m);const m=e.getExtent();m&&(f=f?Bi(f,m):m);const v=i.getResolution(this.wrappedTileCoord_[0]),_=function(e,t,n,i){const r=Oi(n);let o=oy(e,t,r,i);return(!isFinite(o)||o<=0)&&Pi(n,function(n){return o=oy(e,t,n,i),isFinite(o)&&o>0}),o}(e,n,g,v);if(!isFinite(_)||_<=0)return void(this.state=_m);const y=void 0!==c?c:.5;if(this.triangulation_=new ay(e,n,g,f,_*y,v),0===this.triangulation_.getTriangles().length)return void(this.state=_m);this.sourceZ_=t.getZForResolution(_);let x=this.triangulation_.calculateSourceExtent();if(f&&(e.canWrapX()?(x[1]=Ji(x[1],f[1],f[3]),x[3]=Ji(x[3],f[1],f[3])):x=Bi(x,f)),Fi(x)){let n=0,i=0;e.canWrapX()&&(n=Wi(m),i=Math.floor((x[0]-m[0])/n));Yi(x.slice(),e,!0).forEach(e=>{const r=t.getTileRangeForExtentAndZ(e,this.sourceZ_);for(let t=r.minX;t<=r.maxX;t++)for(let e=r.minY;e<=r.maxY;e++){const r=l(this.sourceZ_,t,e,s);if(r){const e=i*n;this.sourceTiles_.push({tile:r,offset:e})}}++i}),0===this.sourceTiles_.length&&(this.state=_m)}else this.state=_m}getImage(){return this.canvas_}reproject_(){const e=[];if(this.sourceTiles_.forEach(t=>{const n=t.tile;if(n&&n.getState()==mm){const i=this.sourceTileGrid_.getTileCoordExtent(n.tileCoord);i[0]+=t.offset,i[2]+=t.offset;const r=this.clipExtent_?.slice();r&&(r[0]+=t.offset,r[2]+=t.offset),e.push({extent:i,clipExtent:r,image:n.getImage()})}}),this.sourceTiles_.length=0,0===e.length)this.state=vm;else{const t=this.wrappedTileCoord_[0],n=this.targetTileGrid_.getTileSize(t),i="number"==typeof n?n:n[0],r="number"==typeof n?n:n[1],o=this.targetTileGrid_.getResolution(t),s=this.sourceTileGrid_.getResolution(this.sourceZ_),a=this.targetTileGrid_.getTileCoordExtent(this.wrappedTileCoord_);this.canvas_=sy(i,r,this.pixelRatio_,s,this.sourceTileGrid_.getExtent(),o,a,this.triangulation_,e,this.gutter_,this.renderEdges_,this.interpolate),this.state=mm}this.changed()}load(){if(this.state==fm){this.state=gm,this.changed();let e=0;this.sourcesListenerKeys_=[],this.sourceTiles_.forEach(({tile:t})=>{const n=t.getState();if(n==fm||n==gm){e++;const n=yn(t,an,i=>{const r=t.getState();r!=mm&&r!=vm&&r!=_m||(bn(n),e--,0===e&&(this.unlistenSources_(),this.reproject_()))});this.sourcesListenerKeys_.push(n)}}),0===e?setTimeout(this.reproject_.bind(this),0):this.sourceTiles_.forEach(function({tile:e},t,n){e.getState()==fm&&e.load()})}}unlistenSources_(){this.sourcesListenerKeys_.forEach(bn),this.sourcesListenerKeys_=null}release(){this.canvas_&&(on(this.canvas_.getContext("2d")),ny.push(this.canvas_),this.canvas_=null),super.release()}}class cy{constructor(e){this.highWaterMark=void 0!==e?e:2048,this.count_=0,this.entries_={},this.oldest_=null,this.newest_=null}deleteOldest(){const e=this.pop();e instanceof Rn&&e.dispose()}canExpireCache(){return this.highWaterMark>0&&this.getCount()>this.highWaterMark}expireCache(e){for(;this.canExpireCache();)this.deleteOldest()}clear(){for(;this.oldest_;)this.deleteOldest()}containsKey(e){return this.entries_.hasOwnProperty(e)}forEach(e){let t=this.oldest_;for(;t;)e(t.value_,t.key_,this),t=t.newer}get(e,t){const n=this.entries_[e];return ai(void 0!==n,"Tried to get a value for a key that does not exist in the cache"),n===this.newest_||(n===this.oldest_?(this.oldest_=this.oldest_.newer,this.oldest_.older=null):(n.newer.older=n.older,n.older.newer=n.newer),n.newer=null,n.older=this.newest_,this.newest_.newer=n,this.newest_=n),n.value_}remove(e){const t=this.entries_[e];return ai(void 0!==t,"Tried to get a value for a key that does not exist in the cache"),t===this.newest_?(this.newest_=t.older,this.newest_&&(this.newest_.newer=null)):t===this.oldest_?(this.oldest_=t.newer,this.oldest_&&(this.oldest_.older=null)):(t.newer.older=t.older,t.older.newer=t.newer),delete this.entries_[e],--this.count_,t.value_}getCount(){return this.count_}getKeys(){const e=new Array(this.count_);let t,n=0;for(t=this.newest_;t;t=t.older)e[n++]=t.key_;return e}getValues(){const e=new Array(this.count_);let t,n=0;for(t=this.newest_;t;t=t.older)e[n++]=t.value_;return e}peekLast(){return this.oldest_.value_}peekLastKey(){return this.oldest_.key_}peekFirstKey(){return this.newest_.key_}peek(e){return this.entries_[e]?.value_}pop(){const e=this.oldest_;return delete this.entries_[e.key_],e.newer&&(e.newer.older=null),this.oldest_=e.newer,this.oldest_||(this.newest_=null),--this.count_,e.value_}replace(e,t){this.get(e),this.entries_[e].value_=t}set(e,t){ai(!(e in this.entries_),"Tried to set a value for a key that is used already");const n={key_:e,newer:null,older:this.newest_,value_:t};this.newest_?this.newest_.newer=n:this.oldest_=n,this.newest_=n,this.entries_[e]=n,++this.count_}setSize(e){this.highWaterMark=e}}function uy(e,t,n,i){return void 0!==i?(i[0]=e,i[1]=t,i[2]=n,i):[e,t,n]}function hy(e,t,n,i,r){return`${Xn(e)},${t},${function(e,t,n){return e+"/"+t+"/"+n}(n,i,r)}`}function dy(e,t,n){if(!(n in e))return e[n]=new Set([t]),!0;const i=e[n],r=i.has(t);return r||i.add(t),!r}function py(e,t,n){const i=e[n];return!!i&&i.delete(t)}function fy(e,t){const n=e.layerStatesArray[e.layerIndex];n.extent&&(t=Bi(t,ko(n.extent,e.viewState.projection)));const i=n.layer.getRenderSource();if(!i.getWrapX()){const n=i.getTileGridForProjection(e.viewState.projection).getExtent();n&&(t=Bi(t,n))}return t}class gy extends Wc{constructor(e,t){super(e),t=t||{},this.extentChanged=!0,this.renderComplete=!1,this.renderedExtent_=null,this.renderedPixelRatio,this.renderedProjection=null,this.renderedTiles=[],this.renderedSourceKey_,this.renderedSourceRevision_,this.tempExtent=[1/0,1/0,-1/0,-1/0],this.tempTileRange_=new yv(0,0,0,0),this.tempTileCoord_=uy(0,0,0);const n=void 0!==t.cacheSize?t.cacheSize:512;this.tileCache_=new cy(n),this.maxStaleKeys=.5*n}getTileCache(){return this.tileCache_}getOrCreateTile(e,t,n,i){const r=this.tileCache_,o=this.getLayer().getSource(),s=hy(o,o.getKey(),e,t,n);let a;if(r.containsKey(s))a=r.get(s);else{if(a=o.getTile(e,t,n,i.pixelRatio,i.viewState.projection),!a)return null;r.set(s,a)}return a}getTile(e,t,n,i){const r=this.getOrCreateTile(e,t,n,i);return r||null}getData(e){const t=this.frameState;if(!t)return null;const n=this.getLayer(),i=ns(t.pixelToCoordinateTransform,e.slice()),r=n.getExtent();if(r&&!_i(r,i))return null;const o=t.viewState,s=n.getRenderSource(),a=s.getTileGridForProjection(o.projection),l=s.getTilePixelRatio(t.pixelRatio);for(let c=a.getZForResolution(o.resolution);c>=a.getMinZoom();--c){const e=a.getTileCoordForCoordAndZ(i,c),n=this.getTile(c,e[1],e[2],t);if(!n||n.getState()!==mm)continue;const r=a.getOrigin(c),u=vc(a.getTileSize(c)),h=a.getResolution(c);let d;if(n instanceof _v||n instanceof ly)d=n.getImage();else{if(!(n instanceof ey))continue;if(d=K_(n.getData()),!d)continue}const p=Math.floor(l*((i[0]-r[0])/h-e[1]*u[0])),f=Math.floor(l*((r[1]-i[1])/h-e[2]*u[1])),g=Math.round(l*s.getGutterForProjection(o.projection));return this.getImageData(d,p+g,f+g)}return null}prepareFrame(e){this.renderedProjection?e.viewState.projection!==this.renderedProjection&&(this.tileCache_.clear(),this.renderedProjection=e.viewState.projection):this.renderedProjection=e.viewState.projection;const t=this.getLayer().getSource();if(!t)return!1;const n=t.getRevision();return this.renderedSourceRevision_?this.renderedSourceRevision_!==n&&(this.renderedSourceRevision_=n,this.renderedSourceKey_===t.getKey()&&this.tileCache_.clear()):this.renderedSourceRevision_=n,!0}enqueueTiles(e,t,n,i,r){const o=e.viewState,s=this.getLayer(),a=s.getRenderSource(),l=a.getTileGridForProjection(o.projection),c=Xn(a);c in e.wantedTiles||(e.wantedTiles[c]={});const u=e.wantedTiles[c],h=s.getMapInternal(),d=Math.max(n-r,l.getMinZoom(),l.getZForResolution(Math.min(s.getMaxResolution(),h?h.getView().getResolutionForZoom(Math.max(s.getMinZoom(),0)):l.getResolution(0)),a.zDirection)),p=o.rotation,f=p?Ni(o.center,o.resolution,p,e.size):void 0;for(let g=n;g>=d;--g){const n=l.getTileRangeForExtentAndZ(t,g,this.tempTileRange_),r=l.getResolution(g);for(let t=n.minX;t<=n.maxX;++t)for(let o=n.minY;o<=n.maxY;++o){if(p&&!l.tileCoordIntersectsViewport([g,t,o],f))continue;const n=this.getTile(g,t,o,e);if(!n)continue;if(!dy(i,n,g))continue;const s=n.getKey();if(u[s]=!0,n.getState()===fm&&!e.tileQueue.isKeyQueued(s)){const i=uy(g,t,o,this.tempTileCoord_);e.tileQueue.enqueue([n,c,l.getTileCoordCenter(i),r])}}}}findStaleTile_(e,t){const n=this.tileCache_,i=e[0],r=e[1],o=e[2],s=this.getStaleKeys();for(let a=0;a<s.length;++a){const e=hy(this.getLayer().getSource(),s[a],i,r,o);if(n.containsKey(e)){const r=n.peek(e);if(r.getState()===mm)return r.endTransition(Xn(this)),dy(t,r,i),!0}}return!1}findAltTiles_(e,t,n,i){const r=e.getTileRangeForTileCoordAndZ(t,n,this.tempTileRange_);if(!r)return!1;let o=!0;const s=this.tileCache_,a=this.getLayer().getRenderSource(),l=a.getKey();for(let c=r.minX;c<=r.maxX;++c)for(let e=r.minY;e<=r.maxY;++e){const t=hy(a,l,n,c,e);let r=!1;if(s.containsKey(t)){const e=s.peek(t);e.getState()===mm&&(dy(i,e,n),r=!0)}r||(o=!1)}return o}renderFrame(e,t){this.renderComplete=!0;const n=e.layerStatesArray[e.layerIndex],i=e.viewState,r=i.projection,o=i.resolution,s=i.center,a=e.pixelRatio,l=this.getLayer(),c=l.getSource(),u=c.getTileGridForProjection(r),h=u.getZForResolution(o,c.zDirection),d=u.getResolution(h),p=c.getKey();this.renderedSourceKey_?this.renderedSourceKey_!==p&&(this.prependStaleKey(this.renderedSourceKey_),this.renderedSourceKey_=p):this.renderedSourceKey_=p;let f=e.extent;const g=c.getTilePixelRatio(a);this.prepareContainer(e,t);const m=this.context.canvas.width,v=this.context.canvas.height,_=n.extent&&ko(n.extent);_&&(f=Bi(f,ko(n.extent)));const y=d*m/2/g,x=d*v/2/g,b=[s[0]-y,s[1]-x,s[0]+y,s[1]+x],w={};this.renderedTiles.length=0;const k=l.getPreload();if(e.nextExtent){const t=u.getZForResolution(i.nextResolution,c.zDirection),n=fy(e,e.nextExtent);this.enqueueTiles(e,n,t,w,k)}const S=fy(e,f);if(this.enqueueTiles(e,S,h,w,0),k>0&&setTimeout(()=>{this.enqueueTiles(e,S,h-1,w,k-1)},0),!(h in w))return this.container;const C=Xn(this),E=e.time;for(const F of w[h]){const t=F.getState();if(t===_m)continue;const n=F.tileCoord;if(t===mm){if(1===F.getAlpha(C,E)){F.endTransition(C);continue}}t!==vm&&(this.renderComplete=!1);if(this.findStaleTile_(n,w)){py(w,F,h),e.animate=!0;continue}if(this.findAltTiles_(u,n,h+1,w))continue;const i=u.getMinZoom();for(let e=h-1;e>=i;--e){if(this.findAltTiles_(u,n,e,w))break}}const T=d/o*a/g,R=this.getRenderContext(e);rs(this.tempTransform,m/2,v/2,T,T,0,-m/2,-v/2),n.extent&&this.clipUnrotated(R,e,_),c.getInterpolate()||(R.imageSmoothingEnabled=!1),this.preRender(R,e);const M=Object.keys(w).map(Number);let I;M.sort(Mn);const A=[],P=[];for(let F=M.length-1;F>=0;--F){const t=M[F],n=c.getTilePixelSize(t,a,r),i=u.getResolution(t)/d,o=n[0]*i*T,s=n[1]*i*T,l=u.getTileCoordForCoordAndZ(Gi(b),t),h=u.getTileCoordExtent(l),p=ns(this.tempTransform,[g*(h[0]-b[0])/d,g*(b[3]-h[3])/d]),f=g*c.getGutterForProjection(r);for(const r of w[t]){if(r.getState()!==mm)continue;const n=r.tileCoord,i=l[1]-n[1],a=Math.round(p[0]-(i-1)*o),u=l[2]-n[2],h=Math.round(p[1]-(u-1)*s),d=Math.round(p[0]-i*o),g=Math.round(p[1]-u*s),m=a-d,v=h-g,_=1===M.length;let y=!1;I=[d,g,d+m,g,d+m,g+v,d,g+v];for(let e=0,r=A.length;e<r;++e)if(!_&&t<P[e]){const t=A[e];Xi([d,g,d+m,g+v],[t[0],t[3],t[4],t[7]])&&(y||(R.save(),y=!0),R.beginPath(),R.moveTo(I[0],I[1]),R.lineTo(I[2],I[3]),R.lineTo(I[4],I[5]),R.lineTo(I[6],I[7]),R.moveTo(t[6],t[7]),R.lineTo(t[4],t[5]),R.lineTo(t[2],t[3]),R.lineTo(t[0],t[1]),R.clip())}A.push(I),P.push(t),this.drawTile(r,e,d,g,m,v,f,_),y&&R.restore(),this.renderedTiles.unshift(r),this.updateUsedTiles(e.usedTiles,c,r)}}if(this.renderedResolution=d,this.extentChanged=!this.renderedExtent_||!Ti(this.renderedExtent_,b),this.renderedExtent_=b,this.renderedPixelRatio=a,this.postRender(this.context,e),n.extent&&R.restore(),R.imageSmoothingEnabled=!0,this.renderComplete){const t=(e,t)=>{const n=Xn(c),i=t.wantedTiles[n],r=i?Object.keys(i).length:0;this.updateCacheSize(r),this.tileCache_.expireCache()};e.postRenderFunctions.push(t)}return this.container}updateCacheSize(e){this.tileCache_.highWaterMark=Math.max(this.tileCache_.highWaterMark,2*e)}drawTile(e,t,n,i,r,o,s,a){let l;if(e instanceof ey){if(l=K_(e.getData()),!l)throw new Error("Rendering array data is not yet supported")}else l=this.getTileImage(e);if(!l)return;const c=this.getRenderContext(t),u=Xn(this),h=t.layerStatesArray[t.layerIndex],d=h.opacity*(a?e.getAlpha(u,t.time):1),p=d!==c.globalAlpha;p&&(c.save(),c.globalAlpha=d),c.drawImage(l,s,s,l.width-2*s,l.height-2*s,n,i,r,o),p&&c.restore(),d!==h.opacity?t.animate=!0:a&&e.endTransition(u)}getImage(){const e=this.context;return e?e.canvas:null}getTileImage(e){return e.getImage()}updateUsedTiles(e,t,n){const i=Xn(t);i in e||(e[i]={}),e[i][n.getKey()]=!0}}const my="preload",vy="useInterimTilesOnError";class _y extends pd{constructor(e){e=e||{};const t=Object.assign({},e),n=e.cacheSize;delete e.cacheSize,delete t.preload,delete t.useInterimTilesOnError,super(t),this.on,this.once,this.un,this.cacheSize_=n,this.setPreload(void 0!==e.preload?e.preload:0),this.setUseInterimTilesOnError(void 0===e.useInterimTilesOnError||e.useInterimTilesOnError)}getCacheSize(){return this.cacheSize_}getPreload(){return this.get(my)}setPreload(e){this.set(my,e)}getUseInterimTilesOnError(){return this.get(vy)}setUseInterimTilesOnError(e){this.set(vy,e)}getData(e){return super.getData(e)}}class yy extends _y{constructor(e){super(e)}createRenderer(){return new gy(this,{cacheSize:this.getCacheSize()})}}const xy={image:["Polygon","Circle","LineString","Image","Text"],hybrid:["Polygon","LineString"],vector:[]},by={hybrid:["Image","Text","Default"],vector:["Polygon","Circle","LineString","Image","Text","Default"]};class wy extends gy{constructor(e,t){super(e,t),this.boundHandleStyleImageChange_=this.handleStyleImageChange_.bind(this),this.renderedLayerRevision_,this.renderedPixelToCoordinateTransform_=null,this.renderedRotation_,this.renderedOpacity_=1,this.tmpTransform_=[1,0,0,1,0,0],this.tileClipContexts_=null}drawTile(e,t,n,i,r,o,s,a){this.updateExecutorGroup_(e,t.pixelRatio,t.viewState.projection),this.tileImageNeedsRender_(e)&&this.renderTileImage_(e,t),super.drawTile(e,t,n,i,r,o,s,a)}getTile(e,t,n,i){const r=this.getOrCreateTile(e,t,n,i);if(!r)return null;const o=i.viewState.resolution,s=i.viewHints;return!!(s[xa]||s[ba])&&r.wantedResolution||(r.wantedResolution=o),r}prepareFrame(e){const t=this.getLayer().getRevision();return this.renderedLayerRevision_!==t&&(this.renderedLayerRevision_=t,this.renderedTiles.length=0),super.prepareFrame(e)}updateExecutorGroup_(e,t,n){const i=this.getLayer(),r=i.getRevision(),o=i.getRenderOrder()||null,s=e.wantedResolution,a=e.getReplayState(i);if(!a.dirty&&a.renderedResolution===s&&a.renderedRevision==r&&a.renderedRenderOrder==o)return;const l=i.getSource(),c=!!i.getDeclutter(),u=l.getTileGrid(),h=l.getTileGridForProjection(n).getTileCoordExtent(e.wrappedTileCoord),d=l.getSourceTiles(t,n,e),p=Xn(i);delete e.hitDetectionImageData[p],e.executorGroups[p]=[],a.dirty=!1;for(let f=0,g=d.length;f<g;++f){const n=d[f];if(n.getState()!=mm)continue;const r=n.tileCoord,g=u.getTileCoordExtent(r),m=Bi(h,g),v=gi(m,i.getRenderBuffer()*s,this.tempExtent),_=Ti(g,m)?null:v,y=new Kl(0,m,s,t),x=Oc(s,t),b=function(e,t){let n;const r=e.getStyleFunction()||i.getStyleFunction();if(r&&(n=r(e,s)),n){const i=this.renderFeature(e,x,n,y,c,t);a.dirty=a.dirty||i}},w=n.getFeatures();o&&o!==a.renderedRenderOrder&&w.sort(o);for(let e=0,t=w.length;e<t;++e){const t=w[e];_&&!Xi(_,t.getGeometry().getExtent())||b.call(this,t,e)}const k=y.finish(),S="vector"!==i.getRenderMode()&&c&&1===d.length?null:m,C=new fc(S,s,t,l.getOverlaps(),k,i.getRenderBuffer(),!0);e.executorGroups[p].push(C)}a.renderedRevision=r,a.renderedRenderOrder=o,a.renderedResolution=s}forEachFeatureAtCoordinate(e,t,n,i,r){const o=t.viewState.resolution,s=t.viewState.rotation;n=null==n?0:n;const a=this.getLayer(),l=a.getSource().getTileGridForProjection(t.viewState.projection),c=fi([e]);gi(c,o*n,c);const u={},h=function(e,t,n){let o=e.getId();void 0===o&&(o=Xn(e));const s=u[o];if(s){if(!0!==s&&n<s.distanceSq){if(0===n)return u[o]=!0,r.splice(r.lastIndexOf(s),1),i(e,a,t);s.geometry=t,s.distanceSq=n}}else{if(0===n)return u[o]=!0,i(e,a,t);r.push(u[o]={feature:e,layer:a,geometry:t,distanceSq:n,callback:i})}},d=this.renderedTiles,p=Xn(a),f=a.getDeclutter(),g=f?t.declutter?.[f]?.all().map(e=>e.value):null;let m;e:for(let v=0,_=d.length;v<_;++v){const t=d[v];if(!Xi(l.getTileCoordExtent(t.wrappedTileCoord),c))continue;const i=t.executorGroups[p];for(let r=0,a=i.length;r<a;++r)if(m=i[r].forEachFeatureAtCoordinate(e,o,s,n,h,g),m)break e}return m}getFeatures(e){return 0===this.renderedTiles.length?Promise.resolve([]):new Promise((t,n)=>{const i=this.getLayer(),r=i.getSource(),o=this.renderedProjection,s=o.getExtent(),a=this.renderedResolution,l=r.getTileGridForProjection(o),c=ns(this.renderedPixelToCoordinateTransform_,e.slice()),u=l.getTileCoordForCoordAndResolution(c,a).toString(),h=this.renderedTiles.find(e=>e.tileCoord.toString()===u&&e.getState()===mm);if(!h||h.loadingSourceTiles>0)return void t([]);r.getWrapX()&&o.canWrapX()&&!yi(s,l.getTileCoordExtent(h.tileCoord))&&hr(c,o);const d=Xn(i),p=Gi(l.getTileCoordExtent(h.wrappedTileCoord)),f=[(c[0]-p[0])/a,(p[1]-c[1])/a],g=h.getSourceTiles().reduce((e,t)=>e.concat(t.getFeatures()),[]);let m=h.hitDetectionImageData[d];if(!m){const e=vc(l.getTileSize(l.getZForResolution(a,r.zDirection))),t=this.renderedRotation_;m=Pc(e,[this.getRenderTransform(l.getTileCoordCenter(h.wrappedTileCoord),a,0,Ac,e[0]*Ac,e[1]*Ac,0)],g,i.getStyleFunction(),l.getTileCoordExtent(h.wrappedTileCoord),h.getReplayState(i).renderedResolution,t),h.hitDetectionImageData[d]=m}t(Fc(f,g,m))})}getFeaturesInExtent(e){const t=[],n=this.getTileCache();if(0===n.getCount())return t;const i=this.getLayer().getSource().getTileGridForProjection(this.frameState.viewState.projection),r=i.getZForResolution(this.renderedResolution),o={};return n.forEach(n=>{if(n.tileCoord[0]!==r||n.getState()!==mm)return;const s=n.getSourceTiles();for(let r=0,a=s.length;r<a;++r){const n=s[r],a=n.getKey();if(a in o)continue;o[a]=!0;const l=n.tileCoord;if(Xi(e,i.getTileCoordExtent(l))){const i=n.getFeatures();if(i)for(let n=0,r=i.length;n<r;++n){const r=i[n],o=r.getGeometry();Xi(e,o.getExtent())&&t.push(r)}}}}),t}handleFontsChanged(){const e=this.getLayer();e.getVisible()&&void 0!==this.renderedLayerRevision_&&e.changed()}handleStyleImageChange_(e){this.renderIfReadyAndVisible()}renderDeclutter(e,t){const n=this.context,i=n.globalAlpha;n.globalAlpha=t.opacity;const r=e.viewHints,o=!(r[xa]||r[ba]),s=[this.context.canvas.width,this.context.canvas.height],a=this.getLayer().getDeclutter(),l=a?e.declutter?.[a]:void 0,c=Xn(this.getLayer()),u=this.renderedTiles;for(let h=0,d=u.length;h<d;++h){const t=u[h],n=t.executorGroups[c];if(n)for(let i=n.length-1;i>=0;--i)n[i].execute(this.context,s,this.getTileRenderTransform(t,e),e.viewState.rotation,o,dc,l)}n.globalAlpha=i}renderDeferredInternal(e){const t=this.renderedTiles,n=Xn(this.getLayer()),i=t.reduce((e,t,i)=>(t.executorGroups[n].forEach(t=>e.push({executorGroup:t,index:i})),e),[]),r=i.map(({executorGroup:e})=>e.getDeferredZIndexContexts()),o={};for(let s=0,a=i.length;s<a;++s){const e=i[s].executorGroup.getDeferredZIndexContexts();for(const t in e)o[t]=!0}Object.keys(o).map(Number).sort(Mn).forEach(e=>{r.forEach((t,n)=>{t[e]&&(t[e].forEach(e=>{const{executorGroup:t,index:r}=i[n],o=t.getRenderedContext(),s=o.globalAlpha;o.globalAlpha=this.renderedOpacity_;const a=this.tileClipContexts_[r];a&&a.draw(o),e.draw(o),a&&o.restore(),o.globalAlpha=s,e.clear()}),t[e].length=0)})})}getTileRenderTransform(e,t){const n=t.pixelRatio,i=t.viewState,r=i.center,o=i.resolution,s=i.rotation,a=t.size,l=Math.round(a[0]*n),c=Math.round(a[1]*n),u=this.getLayer().getSource().getTileGridForProjection(t.viewState.projection),h=e.tileCoord,d=u.getTileCoordExtent(e.wrappedTileCoord),p=u.getTileCoordExtent(h,this.tempExtent)[0]-d[0];return es(is(this.inversePixelTransform.slice(),1/n,1/n),this.getRenderTransform(r,o,s,n,l,c,p))}postRender(e,t){const n=t.viewHints,i=!(n[xa]||n[ba]);this.renderedPixelToCoordinateTransform_=t.pixelToCoordinateTransform.slice(),this.renderedRotation_=t.viewState.rotation,this.renderedOpacity_=t.layerStatesArray[t.layerIndex].opacity;const r=this.getLayer(),o=r.getRenderMode(),s=e.globalAlpha;e.globalAlpha=this.renderedOpacity_;const a=r.getDeclutter(),l=a?by[o].filter(e=>!dc.includes(e)):by[o],c=t.viewState,u=c.rotation,h=r.getSource(),d=h.getTileGridForProjection(c.projection).getZForResolution(c.resolution,h.zDirection),p=this.renderedTiles,f=[],g=[],m=[],v=Xn(r);let _=!0;for(let y=p.length-1;y>=0;--y){const n=p[y];_=_&&!n.getReplayState(r).dirty;const o=n.executorGroups[v].filter(e=>e.hasExecutors(l));if(0===o.length)continue;const s=this.getTileRenderTransform(n,t),c=n.tileCoord[0];let h=!1;const x=o[0].getClipCoords(s);let b,w=e;if(x){b=new Ql,w=b.getContext();for(let e=0,t=f.length;e<t;++e)if(d!==c&&c<g[e]){const t=f[e];Xi([x[0],x[3],x[4],x[7]],[t[0],t[3],t[4],t[7]])&&(h||(w.save(),h=!0),w.beginPath(),w.moveTo(x[0],x[1]),w.lineTo(x[2],x[3]),w.lineTo(x[4],x[5]),w.lineTo(x[6],x[7]),w.moveTo(t[6],t[7]),w.lineTo(t[4],t[5]),w.lineTo(t[2],t[3]),w.lineTo(t[0],t[1]),w.clip())}f.push(x),g.push(c)}for(let r=0,d=o.length;r<d;++r){o[r].execute(e,[e.canvas.width,e.canvas.height],s,u,i,l,t.declutter?.[a])}h&&(w===e?w.restore():m[y]=b)}e.globalAlpha=s,this.ready=_,this.tileClipContexts_=m,t.declutter||this.renderDeferredInternal(t),super.postRender(e,t)}renderFeature(e,t,n,i,r,o){if(!n)return!1;let s=!1;if(Array.isArray(n))for(let a=0,l=n.length;a<l;++a)s=jc(i,e,n[a],t,this.boundHandleStyleImageChange_,void 0,r,o)||s;else s=jc(i,e,n,t,this.boundHandleStyleImageChange_,void 0,r,o);return s}tileImageNeedsRender_(e){const t=this.getLayer();if("vector"===t.getRenderMode())return!1;const n=e.getReplayState(t),i=t.getRevision(),r=e.wantedResolution;return n.renderedTileResolution!==r||n.renderedTileRevision!==i}renderTileImage_(e,t){const n=this.getLayer(),i=e.getReplayState(n),r=n.getRevision(),o=e.executorGroups[Xn(n)];i.renderedTileRevision=r;const s=e.wrappedTileCoord,a=s[0],l=n.getSource();let c=t.pixelRatio;const u=t.viewState.projection,h=l.getTileGridForProjection(u),d=h.getResolution(e.tileCoord[0]),p=t.pixelRatio/e.wantedResolution*d,f=h.getResolution(a),g=e.getContext();c=Math.round(Math.max(c,p/c));const m=l.getTilePixelSize(a,c,u);g.canvas.width=m[0],g.canvas.height=m[1];const v=c/p;if(1!==v){const e=Qo(this.tmpTransform_);is(e,v,v),g.setTransform.apply(g,e)}const _=h.getTileCoordExtent(s,this.tempExtent),y=p/f,x=Qo(this.tmpTransform_);is(x,y,-y),function(e,t,n){es(e,ts(Jo,1,0,0,1,t,n))}(x,-_[0],-_[3]);for(let b=0,w=o.length;b<w;++b){o[b].execute(g,[g.canvas.width*v,g.canvas.height*v],x,0,!0,xy[n.getRenderMode()],null)}i.renderedTileResolution=e.wantedResolution}}class ky extends md{constructor(e){e=e||{};const t=Object.assign({},e);delete t.preload;const n=void 0===e.cacheSize?0:e.cacheSize;delete e.cacheSize,delete t.useInterimTilesOnError,super(t),this.on,this.once,this.un,this.cacheSize_=n;const i=e.renderMode||"hybrid";ai("hybrid"==i||"vector"==i,"`renderMode` must be `'hybrid'` or `'vector'`"),this.renderMode_=i,this.setPreload(e.preload?e.preload:0),this.setUseInterimTilesOnError(void 0===e.useInterimTilesOnError||e.useInterimTilesOnError),this.getBackground,this.setBackground}createRenderer(){return new wy(this,{cacheSize:this.cacheSize_})}getFeatures(e){return super.getFeatures(e)}getFeaturesInExtent(e){return this.getRenderer().getFeaturesInExtent(e)}getRenderMode(){return this.renderMode_}getPreload(){return this.get(my)}getUseInterimTilesOnError(){return this.get(vy)}setPreload(e){this.set(my,e)}setUseInterimTilesOnError(e){this.set(vy,e)}}function Sy(e){return Array.isArray(e)?Math.min(...e):e}class Cy extends Ja{constructor(e,t,n,i,r,o,s){let a=e.getExtent();a&&e.canWrapX()&&(a=a.slice(),a[0]=-1/0,a[2]=1/0);let l=t.getExtent();l&&t.canWrapX()&&(l=l.slice(),l[0]=-1/0,l[2]=1/0);const c=l?Bi(n,l):n,u=oy(e,t,Oi(c),i),h=new ay(e,t,c,a,.5*u,i),d=h.calculateSourceExtent(),p=Ui(d)?null:o(d,u,r),f=p?Ta:Aa,g=p?p.getPixelRatio():1;super(n,i,g,f),this.targetProj_=t,this.maxSourceExtent_=a,this.triangulation_=h,this.targetResolution_=i,this.targetExtent_=n,this.sourceImage_=p,this.sourcePixelRatio_=g,this.interpolate_=s,this.canvas_=null,this.sourceListenerKey_=null}disposeInternal(){this.state==Ra&&this.unlistenSource_(),super.disposeInternal()}getImage(){return this.canvas_}getProjection(){return this.targetProj_}reproject_(){const e=this.sourceImage_.getState();if(e==Ma){const e=Wi(this.targetExtent_)/this.targetResolution_,t=$i(this.targetExtent_)/this.targetResolution_;this.canvas_=sy(e,t,this.sourcePixelRatio_,Sy(this.sourceImage_.getResolution()),this.maxSourceExtent_,this.targetResolution_,this.targetExtent_,this.triangulation_,[{extent:this.sourceImage_.getExtent(),image:this.sourceImage_.getImage()}],0,void 0,this.interpolate_,!0)}this.state=e,this.changed()}load(){if(this.state==Ta){this.state=Ra,this.changed();const e=this.sourceImage_.getState();e==Ma||e==Ia?this.reproject_():(this.sourceListenerKey_=yn(this.sourceImage_,an,e=>{const t=this.sourceImage_.getState();t!=Ma&&t!=Ia||(this.unlistenSource_(),this.reproject_())}),this.sourceImage_.load())}}unlistenSource_(){bn(this.sourceListenerKey_),this.sourceListenerKey_=null}}const Ey="imageloadstart",Ty="imageloadend",Ry="imageloaderror";class My extends $n{constructor(e,t){super(e),this.image=t}}class Iy extends ca{constructor(e){super({attributions:e.attributions,projection:e.projection,state:e.state,interpolate:void 0===e.interpolate||e.interpolate}),this.on,this.once,this.un,this.loader=e.loader||null,this.resolutions_=void 0!==e.resolutions?e.resolutions:null,this.reprojectedImage_=null,this.reprojectedRevision_=0,this.image=null,this.wantedExtent_,this.wantedResolution_,this.static_=!!e.loader&&0===e.loader.length,this.wantedProjection_=null}getResolutions(){return this.resolutions_}setResolutions(e){this.resolutions_=e}findNearestResolution(e){const t=this.getResolutions();if(t){e=t[An(t,e,0)]}return e}getImage(e,t,n,i){const r=this.getProjection();if(!r||!i||go(r,i))return r&&(i=r),this.getImageInternal(e,t,n,i);if(this.reprojectedImage_){if(this.reprojectedRevision_==this.getRevision()&&go(this.reprojectedImage_.getProjection(),i)&&this.reprojectedImage_.getResolution()==t&&Ti(this.reprojectedImage_.getExtent(),e))return this.reprojectedImage_;this.reprojectedImage_.dispose(),this.reprojectedImage_=null}return this.reprojectedImage_=new Cy(r,i,e,t,n,(e,t,n)=>this.getImageInternal(e,t,n,r),this.getInterpolate()),this.reprojectedRevision_=this.getRevision(),this.reprojectedImage_}getImageInternal(e,t,n,i){if(this.loader){const r=function(e,t,n,i){const r=t/n,o=Oi(e),s=ar(Wi(e)/r,4),a=ar($i(e)/r,4),l=ar((i-1)*s/2,4),c=s+2*l,u=ar((i-1)*a/2,4);return ji(o,r,0,[c,a+2*u])}(e,t,n,1),o=this.findNearestResolution(t);if(this.image&&(this.static_||this.wantedProjection_===i&&(this.wantedExtent_&&yi(this.wantedExtent_,r)||yi(this.image.getExtent(),r))&&(this.wantedResolution_&&Sy(this.wantedResolution_)===o||Sy(this.image.getResolution())===o)))return this.image;this.wantedProjection_=i,this.wantedExtent_=r,this.wantedResolution_=o,this.image=new Ja(r,o,n,this.loader),this.image.addEventListener(an,this.handleImageChange.bind(this))}return this.image}handleImageChange(e){const t=e.target;let n;switch(t.getState()){case Ra:this.loading=!0,n=Ey;break;case Ma:this.loading=!1,n=Ty;break;case Ia:this.loading=!1,n=Ry;break;default:return}this.hasListener(n)&&this.dispatchEvent(new My(n,t))}}const Ay=[0,0,0];class Py{constructor(e){let t;if(this.minZoom=void 0!==e.minZoom?e.minZoom:0,this.resolutions_=e.resolutions,ai(function(e,t){const n=t||Mn;return e.every(function(t,i){if(0===i)return!0;const r=n(e[i-1],t);return!(r>0||0===r)})}(this.resolutions_,(e,t)=>t-e),"`resolutions` must be sorted in descending order"),!e.origins)for(let i=0,r=this.resolutions_.length-1;i<r;++i)if(t){if(this.resolutions_[i]/this.resolutions_[i+1]!==t){t=void 0;break}}else t=this.resolutions_[i]/this.resolutions_[i+1];this.zoomFactor_=t,this.maxZoom=this.resolutions_.length-1,this.origin_=void 0!==e.origin?e.origin:null,this.origins_=null,void 0!==e.origins&&(this.origins_=e.origins,ai(this.origins_.length==this.resolutions_.length,"Number of `origins` and `resolutions` must be equal"));const n=e.extent;void 0===n||this.origin_||this.origins_||(this.origin_=Gi(n)),ai(!this.origin_&&this.origins_||this.origin_&&!this.origins_,"Either `origin` or `origins` must be configured, never both"),this.tileSizes_=null,void 0!==e.tileSizes&&(this.tileSizes_=e.tileSizes,ai(this.tileSizes_.length==this.resolutions_.length,"Number of `tileSizes` and `resolutions` must be equal")),this.tileSize_=void 0!==e.tileSize?e.tileSize:this.tileSizes_?null:Kh,ai(!this.tileSize_&&this.tileSizes_||this.tileSize_&&!this.tileSizes_,"Either `tileSize` or `tileSizes` must be configured, never both"),this.extent_=void 0!==n?n:null,this.fullTileRanges_=null,this.tmpSize_=[0,0],this.tmpExtent_=[0,0,0,0],void 0!==e.sizes?this.fullTileRanges_=e.sizes.map((e,t)=>{const i=new yv(Math.min(0,e[0]),Math.max(e[0]-1,-1),Math.min(0,e[1]),Math.max(e[1]-1,-1));if(n){const e=this.getTileRangeForExtentAndZ(n,t);i.minX=Math.max(e.minX,i.minX),i.maxX=Math.min(e.maxX,i.maxX),i.minY=Math.max(e.minY,i.minY),i.maxY=Math.min(e.maxY,i.maxY)}return i}):n&&this.calculateTileRanges_(n)}forEachTileCoord(e,t,n){const i=this.getTileRangeForExtentAndZ(e,t);for(let r=i.minX,o=i.maxX;r<=o;++r)for(let e=i.minY,s=i.maxY;e<=s;++e)n([t,r,e])}forEachTileCoordParentTileRange(e,t,n,i){let r,o,s,a=null,l=e[0]-1;for(2===this.zoomFactor_?(o=e[1],s=e[2]):a=this.getTileCoordExtent(e,i);l>=this.minZoom;){if(void 0!==o&&void 0!==s?(o=Math.floor(o/2),s=Math.floor(s/2),r=xv(o,o,s,s,n)):r=this.getTileRangeForExtentAndZ(a,l,n),t(l,r))return!0;--l}return!1}getExtent(){return this.extent_}getMaxZoom(){return this.maxZoom}getMinZoom(){return this.minZoom}getOrigin(e){return this.origin_?this.origin_:this.origins_[e]}getResolution(e){return this.resolutions_[e]}getResolutions(){return this.resolutions_}getTileCoordChildTileRange(e,t,n){if(e[0]<this.maxZoom){if(2===this.zoomFactor_){const n=2*e[1],i=2*e[2];return xv(n,n+1,i,i+1,t)}const i=this.getTileCoordExtent(e,n||this.tmpExtent_);return this.getTileRangeForExtentAndZ(i,e[0]+1,t)}return null}getTileRangeForTileCoordAndZ(e,t,n){if(t>this.maxZoom||t<this.minZoom)return null;const i=e[0],r=e[1],o=e[2];if(t===i)return xv(r,o,r,o,n);if(this.zoomFactor_){const e=Math.pow(this.zoomFactor_,t-i),s=Math.floor(r*e),a=Math.floor(o*e);if(t<i)return xv(s,s,a,a,n);return xv(s,Math.floor(e*(r+1))-1,a,Math.floor(e*(o+1))-1,n)}const s=this.getTileCoordExtent(e,this.tmpExtent_);return this.getTileRangeForExtentAndZ(s,t,n)}getTileRangeForExtentAndZ(e,t,n){this.getTileCoordForXYAndZ_(e[0],e[3],t,!1,Ay);const i=Ay[1],r=Ay[2];this.getTileCoordForXYAndZ_(e[2],e[1],t,!0,Ay);return xv(i,Ay[1],r,Ay[2],n)}getTileCoordCenter(e){const t=this.getOrigin(e[0]),n=this.getResolution(e[0]),i=vc(this.getTileSize(e[0]),this.tmpSize_);return[t[0]+(e[1]+.5)*i[0]*n,t[1]-(e[2]+.5)*i[1]*n]}getTileCoordExtent(e,t){const n=this.getOrigin(e[0]),i=this.getResolution(e[0]),r=vc(this.getTileSize(e[0]),this.tmpSize_),o=n[0]+e[1]*r[0]*i,s=n[1]-(e[2]+1)*r[1]*i;return ki(o,s,o+r[0]*i,s+r[1]*i,t)}getTileCoordForCoordAndResolution(e,t,n){return this.getTileCoordForXYAndResolution_(e[0],e[1],t,!1,n)}getTileCoordForXYAndResolution_(e,t,n,i,r){const o=this.getZForResolution(n),s=n/this.getResolution(o),a=this.getOrigin(o),l=vc(this.getTileSize(o),this.tmpSize_);let c=s*(e-a[0])/n/l[0],u=s*(a[1]-t)/n/l[1];return i?(c=ar(c,5)-1,u=ar(u,5)-1):(c=sr(c,5),u=sr(u,5)),uy(o,c,u,r)}getTileCoordForXYAndZ_(e,t,n,i,r){const o=this.getOrigin(n),s=this.getResolution(n),a=vc(this.getTileSize(n),this.tmpSize_);let l=(e-o[0])/s/a[0],c=(o[1]-t)/s/a[1];return i?(l=ar(l,5)-1,c=ar(c,5)-1):(l=sr(l,5),c=sr(c,5)),uy(n,l,c,r)}getTileCoordForCoordAndZ(e,t,n){return this.getTileCoordForXYAndZ_(e[0],e[1],t,!1,n)}getTileCoordResolution(e){return this.resolutions_[e[0]]}getTileSize(e){return this.tileSize_?this.tileSize_:this.tileSizes_[e]}getFullTileRange(e){return this.fullTileRanges_?this.fullTileRanges_[e]:this.extent_?this.getTileRangeForExtentAndZ(this.extent_,e):null}getZForResolution(e,t){return Ji(An(this.resolutions_,e,t||0),this.minZoom,this.maxZoom)}tileCoordIntersectsViewport(e,t){return Ps(t,0,t.length,2,this.getTileCoordExtent(e))}calculateTileRanges_(e){const t=this.resolutions_.length,n=new Array(t);for(let i=this.minZoom;i<t;++i)n[i]=this.getTileRangeForExtentAndZ(e,i);this.fullTileRanges_=n}}function Fy(e){let t=e.getDefaultTileGrid();return t||(t=function(e,t,n,i){const r=Oy(e);return function(e,t,n,i){i=void 0!==i?i:"top-left";const r=zy(e,t,n);return new Py({extent:e,origin:Di(e,i),resolutions:r,tileSize:n})}(r,t,n,i)}(e),e.setDefaultTileGrid(t)),t}function Ly(e){const t=e||{},n=t.extent||co("EPSG:3857").getExtent(),i={extent:n,minZoom:t.minZoom,tileSize:t.tileSize,resolutions:zy(n,t.maxZoom,t.tileSize,t.maxResolution)};return new Py(i)}function zy(e,t,n,i){t=void 0!==t?t:42,n=vc(void 0!==n?n:Kh);const r=$i(e),o=Wi(e);i=i>0?i:Math.max(o/n[0],r/n[1]);const s=t+1,a=new Array(s);for(let l=0;l<s;++l)a[l]=i/Math.pow(2,l);return a}function Oy(e){let t=(e=co(e)).getExtent();if(!t){const n=180*dr.degrees/e.getMetersPerUnit();t=ki(-n,-n,n,n)}return t}class Dy extends ca{constructor(e){super({attributions:e.attributions,attributionsCollapsible:e.attributionsCollapsible,projection:e.projection,state:e.state,wrapX:e.wrapX,interpolate:e.interpolate}),this.on,this.once,this.un,this.tilePixelRatio_=void 0!==e.tilePixelRatio?e.tilePixelRatio:1,this.tileGrid=void 0!==e.tileGrid?e.tileGrid:null;const t=[256,256];this.tileGrid&&vc(this.tileGrid.getTileSize(this.tileGrid.getMinZoom()),t),this.tmpSize=[0,0],this.key_=e.key||Xn(this),this.tileOptions={transition:e.transition,interpolate:e.interpolate},this.zDirection=e.zDirection?e.zDirection:0}getGutterForProjection(e){return 0}getKey(){return this.key_}setKey(e){this.key_!==e&&(this.key_=e,this.changed())}getResolutions(e){const t=e?this.getTileGridForProjection(e):this.tileGrid;return t?t.getResolutions():null}getTile(e,t,n,i,r){return qn()}getTileGrid(){return this.tileGrid}getTileGridForProjection(e){return this.tileGrid?this.tileGrid:Fy(e)}getTilePixelRatio(e){return this.tilePixelRatio_}getTilePixelSize(e,t,n){const i=this.getTileGridForProjection(n),r=this.getTilePixelRatio(t),o=vc(i.getTileSize(e),this.tmpSize);return 1==r?o:(s=o,a=r,void 0===(l=this.tmpSize)&&(l=[0,0]),l[0]=s[0]*a+.5|0,l[1]=s[1]*a+.5|0,l);var s,a,l}getTileCoordForTileUrlFunction(e,t){const n=void 0!==t?t:this.getProjection(),i=void 0!==t?this.getTileGridForProjection(n):this.tileGrid||this.getTileGridForProjection(n);return this.getWrapX()&&n.isGlobal()&&(e=function(e,t,n){const i=t[0],r=e.getTileCoordCenter(t),o=Oy(n);if(!_i(o,r)){const t=Wi(o),n=Math.ceil((o[0]-r[0])/t);return r[0]+=t*n,e.getTileCoordForCoordAndZ(r,i)}return t}(i,e,n)),function(e,t){const n=e[0],i=e[1],r=e[2];if(t.getMinZoom()>n||n>t.getMaxZoom())return!1;const o=t.getFullTileRange(n);return!o||o.containsXY(i,r)}(e,i)?e:null}clear(){}refresh(){this.clear(),super.refresh()}}class jy extends $n{constructor(e,t){super(e),this.tile=t}}function Ny(e){return function(t){const n=t.buffers,i=t.meta,r=t.imageOps,o=t.width,s=t.height,a=n.length,l=n[0].byteLength;if(r){const t=new Array(a);for(let e=0;e<a;++e)t[e]=new ImageData(new Uint8ClampedArray(n[e]),o,s);return e(t,i).data.buffer}const c=new Uint8ClampedArray(l),u=new Array(a),h=new Array(a);for(let e=0;e<a;++e)u[e]=new Uint8ClampedArray(n[e]),h[e]=[0,0,0,0];for(let d=0;d<l;d+=4){for(let e=0;e<a;++e){const t=u[e];h[e][0]=t[d],h[e][1]=t[d+1],h[e][2]=t[d+2],h[e][3]=t[d+3]}const t=e(h,i);c[d]=t[0],c[d+1]=t[1],c[d+2]=t[2],c[d+3]=t[3]}return c.buffer}}function $y(e,t){const n=Object.keys(e.lib||{}).map(function(t){return"const "+t+" = "+e.lib[t].toString()+";"}).concat(["const __minion__ = ("+Ny.toString()+")(",e.operation.toString(),");",'self.addEventListener("message", function(event) {',"  const buffer = __minion__(event.data);","  self.postMessage({buffer: buffer, meta: event.data.meta}, [buffer]);","});"]),i=new Worker("undefined"==typeof Blob?"data:text/javascript;base64,"+Buffer.from(n.join("\n"),"binary").toString("base64"):URL.createObjectURL(new Blob(n,{type:"text/javascript"})));return i.addEventListener("message",t),i}class By extends Rn{constructor(e){let t;super(),this.imageOps_=!!e.imageOps,t=0===e.threads?0:this.imageOps_?1:e.threads||1;const n=new Array(t);if(t)for(let i=0;i<t;++i)n[i]=$y(e,this.onWorkerMessage_.bind(this,i));else n[0]=function(e,t){const n=Ny(e.operation);let i=!1;return{postMessage:function(e){setTimeout(function(){i||t({data:{buffer:n(e),meta:e.meta}})},0)},terminate:function(){i=!0}}}(e,this.onWorkerMessage_.bind(this,0));this.workers_=n,this.queue_=[],this.maxQueueLength_=e.queue||1/0,this.running_=0,this.dataLookup_={},this.job_=null}process(e,t,n){this.enqueue_({inputs:e,meta:t,callback:n}),this.dispatch_()}enqueue_(e){for(this.queue_.push(e);this.queue_.length>this.maxQueueLength_;)this.queue_.shift().callback(null,null)}dispatch_(){if(this.running_||0===this.queue_.length)return;const e=this.queue_.shift();this.job_=e;const t=e.inputs[0].width,n=e.inputs[0].height,i=e.inputs.map(function(e){return e.data.buffer}),r=this.workers_.length;if(this.running_=r,1===r)return void this.workers_[0].postMessage({buffers:i,meta:e.meta,imageOps:this.imageOps_,width:t,height:n},i);const o=e.inputs[0].data.length,s=4*Math.ceil(o/4/r);for(let a=0;a<r;++a){const r=a*s,o=[];for(let e=0,t=i.length;e<t;++e)o.push(i[e].slice(r,r+s));this.workers_[a].postMessage({buffers:o,meta:e.meta,imageOps:this.imageOps_,width:t,height:n},o)}}onWorkerMessage_(e,t){this.disposed||(this.dataLookup_[e]=t.data,--this.running_,0===this.running_&&this.resolveJob_())}resolveJob_(){const e=this.job_,t=this.workers_.length;let n,i;if(1===t)n=new Uint8ClampedArray(this.dataLookup_[0].buffer),i=this.dataLookup_[0].meta;else{const r=e.inputs[0].data.length;n=new Uint8ClampedArray(r),i=new Array(t);const o=4*Math.ceil(r/4/t);for(let e=0;e<t;++e){const t=this.dataLookup_[e].buffer,r=e*o;n.set(new Uint8ClampedArray(t),r),i[e]=this.dataLookup_[e].meta}}this.job_=null,this.dataLookup_={},e.callback(null,new ImageData(n,e.inputs[0].width,e.inputs[0].height),i),this.dispatch_()}disposeInternal(){for(let e=0;e<this.workers_.length;++e)this.workers_[e].terminate();this.workers_.length=0}}const Gy="beforeoperations",qy="afteroperations";class Wy extends $n{constructor(e,t,n){super(e),this.extent=t.extent,this.resolution=t.viewState.resolution/t.pixelRatio,this.data=n}}class Xy extends Iy{constructor(e){super({projection:null}),this.on,this.once,this.un,this.processor_=null,this.operationType_=void 0!==e.operationType?e.operationType:"pixel",this.threads_=void 0!==e.threads?e.threads:1,this.layers_=function(e){const t=e.length,n=new Array(t);for(let i=0;i<t;++i)n[i]=Vy(e[i]);return n}(e.sources);const t=this.changed.bind(this);for(let i=0,r=this.layers_.length;i<r;++i)this.layers_[i].addEventListener(an,t);var n;this.useResolutions_=null!==e.resolutions,this.tileQueue_=new bm(function(){return 1},this.processSources_.bind(this)),this.requestedFrameState_,this.renderedImageCanvas_=null,this.renderedRevision_,this.frameState_={animate:!1,coordinateToPixelTransform:[1,0,0,1,0,0],declutter:null,extent:null,index:0,layerIndex:0,layerStatesArray:(n=this.layers_,n.map(function(e){return e.getLayerState()})),pixelRatio:1,pixelToCoordinateTransform:[1,0,0,1,0,0],postRenderFunctions:[],size:[0,0],tileQueue:this.tileQueue_,time:Date.now(),usedTiles:{},viewState:{rotation:0},viewHints:[],wantedTiles:{},mapId:Xn(this),renderTargets:{}},this.setAttributions(function(t){const n=[];for(let i=0,r=e.sources.length;i<r;++i){const r=e.sources[i],o=r instanceof ca?r:r.getSource();if(!o)continue;const s=o.getAttributions()?.(t);"string"==typeof s?n.push(s):void 0!==s&&n.push(...s)}return n}),void 0!==e.operation&&this.setOperation(e.operation,e.lib)}setOperation(e,t){this.processor_&&this.processor_.dispose(),this.processor_=new By({operation:e,imageOps:"image"===this.operationType_,queue:1,lib:t,threads:this.threads_}),this.changed()}updateFrameState_(e,t,n){const i=Object.assign({},this.frameState_);i.viewState=Object.assign({},i.viewState);const r=Oi(e);i.size[0]=Math.ceil(Wi(e)/t),i.size[1]=Math.ceil($i(e)/t),i.extent=[r[0]-i.size[0]*t/2,r[1]-i.size[1]*t/2,r[0]+i.size[0]*t/2,r[1]+i.size[1]*t/2],i.time=Date.now();const o=i.viewState;return o.center=r,o.projection=n,o.resolution=t,i}allSourcesReady_(){let e,t=!0;for(let n=0,i=this.layers_.length;n<i;++n)if(e=this.layers_[n].getSource(),!e||"ready"!==e.getState()){t=!1;break}return t}getImage(e,t,n,i){if(!this.allSourcesReady_())return null;this.tileQueue_.loadMoreTiles(16,16),t=this.findNearestResolution(t);const r=this.updateFrameState_(e,t,i);if(this.requestedFrameState_=r,this.renderedImageCanvas_){const e=this.renderedImageCanvas_.getResolution(),n=this.renderedImageCanvas_.getExtent();t===e&&Ti(r.extent,n)||(this.renderedImageCanvas_=null)}return this.renderedImageCanvas_&&this.getRevision()===this.renderedRevision_||this.processSources_(),r.animate&&requestAnimationFrame(this.changed.bind(this)),this.renderedImageCanvas_}processSources_(){const e=this.requestedFrameState_,t=this.layers_.length,n=new Array(t);for(let r=0;r<t;++r){e.layerIndex=r,e.renderTargets={};const t=Hy(this.layers_[r],e);if(!t)return;n[r]=t}const i={};this.dispatchEvent(new Wy(Gy,e,i)),this.processor_.process(n,i,this.onWorkerComplete_.bind(this,e))}onWorkerComplete_(e,t,n,i){if(t||!n)return;const r=e.extent,o=e.viewState.resolution;if(o!==this.requestedFrameState_.viewState.resolution||!Ti(r,this.requestedFrameState_.extent))return;let s;if(this.renderedImageCanvas_)s=this.renderedImageCanvas_.getImage().getContext("2d");else{s=tn(Math.round(Wi(r)/o),Math.round($i(r)/o)),this.renderedImageCanvas_=new mv(r,o,1,s.canvas)}s.putImageData(n,0,0),e.animate?requestAnimationFrame(this.changed.bind(this)):this.changed(),this.renderedRevision_=this.getRevision(),this.dispatchEvent(new Wy(qy,e,i))}getResolutions(e){if(!this.useResolutions_)return null;let t=super.getResolutions();if(!t)for(let n=0,i=this.layers_.length;n<i;++n){if(t=this.layers_[n].getSource().getResolutions(e),t)break}return t}disposeInternal(){this.processor_&&this.processor_.dispose(),super.disposeInternal()}}Xy.prototype.dispose;let Uy=null;function Hy(e,t){const n=e.getRenderer();if(!n)throw new Error("Unsupported layer type: "+e);if(!n.prepareFrame(t))return null;const i=t.size[0],r=t.size[1];if(0===i||0===r)return null;const o=n.renderFrame(t,null);let s;if(o instanceof HTMLCanvasElement)s=o;else{if(o&&(s=o.firstElementChild),!(s instanceof HTMLCanvasElement))throw new Error("Unsupported rendered element: "+s);if(s.width===i&&s.height===r){return s.getContext("2d").getImageData(0,0,i,r)}}if(Uy){const e=Uy.canvas;e.width!==i||e.height!==r?Uy=tn(i,r,void 0,{willReadFrequently:!0}):Uy.clearRect(0,0,i,r)}else Uy=tn(i,r,void 0,{willReadFrequently:!0});return Uy.drawImage(s,0,0,i,r),Uy.getImageData(0,0,i,r)}function Vy(e){let t;return e instanceof ca?e instanceof Dy?t=new yy({source:e}):e instanceof Iy&&(t=new Z_({source:e})):t=e,t}const Yy=/\{z\}/g,Zy=/\{x\}/g,Ky=/\{y\}/g,Jy=/\{-y\}/g;function Qy(e,t){return function(n,i,r){if(!n)return;let o;const s=n[0];if(t){const e=t.getFullTileRange(s);e&&(o=e.getHeight()-1)}return function(e,t,n,i,r){return e.replace(Yy,t.toString()).replace(Zy,n.toString()).replace(Ky,i.toString()).replace(Jy,function(){if(void 0===r)throw new Error("If the URL template has a {-y} placeholder, the grid extent must be known");return(r-i).toString()})}(e,s,n[1],n[2],o)}}function ex(e,t){const n=e.length,i=new Array(n);for(let r=0;r<n;++r)i[r]=Qy(e[r],t);return function(e){if(1===e.length)return e[0];return function(t,n,i){if(!t)return;const r=function(e){return t=e[0],n=e[1],i=e[2],(n<<t)+i;var t,n,i}(t),o=ir(r,e.length);return e[o](t,n,i)}}(i)}const tx="tileloadstart",nx="tileloadend",ix="tileloaderror";class rx extends Dy{constructor(e){super({attributions:e.attributions,cacheSize:e.cacheSize,projection:e.projection,state:e.state,tileGrid:e.tileGrid,tilePixelRatio:e.tilePixelRatio,wrapX:e.wrapX,transition:e.transition,interpolate:e.interpolate,key:e.key,attributionsCollapsible:e.attributionsCollapsible,zDirection:e.zDirection}),this.generateTileUrlFunction_=this.tileUrlFunction===rx.prototype.tileUrlFunction,this.tileLoadFunction=e.tileLoadFunction,e.tileUrlFunction&&(this.tileUrlFunction=e.tileUrlFunction),this.urls=null,e.urls?this.setUrls(e.urls):e.url&&this.setUrl(e.url),this.tileLoadingKeys_={}}getTileLoadFunction(){return this.tileLoadFunction}getTileUrlFunction(){return Object.getPrototypeOf(this).tileUrlFunction===this.tileUrlFunction?this.tileUrlFunction.bind(this):this.tileUrlFunction}getUrls(){return this.urls}handleTileChange(e){const t=e.target,n=Xn(t),i=t.getState();let r;i==gm?(this.tileLoadingKeys_[n]=!0,r=tx):n in this.tileLoadingKeys_&&(delete this.tileLoadingKeys_[n],r=i==vm?ix:i==mm?nx:void 0),null!=r&&this.dispatchEvent(new jy(r,t))}setTileLoadFunction(e){this.tileLoadFunction=e,this.changed()}setTileUrlFunction(e,t){this.tileUrlFunction=e,void 0!==t?this.setKey(t):this.changed()}setUrl(e){const t=function(e){const t=[];let n=/\{([a-z])-([a-z])\}/.exec(e);if(n){const i=n[1].charCodeAt(0),r=n[2].charCodeAt(0);let o;for(o=i;o<=r;++o)t.push(e.replace(n[0],String.fromCharCode(o)));return t}if(n=/\{(\d+)-(\d+)\}/.exec(e),n){const i=parseInt(n[2],10);for(let r=parseInt(n[1],10);r<=i;r++)t.push(e.replace(n[0],r.toString()));return t}return t.push(e),t}(e);this.urls=t,this.setUrls(t)}setUrls(e){this.urls=e;const t=e.join("\n");this.generateTileUrlFunction_?this.setTileUrlFunction(ex(e,this.tileGrid),t):this.setKey(t)}tileUrlFunction(e,t,n){}}class ox extends rx{constructor(e){super({attributions:e.attributions,cacheSize:e.cacheSize,projection:e.projection,state:e.state,tileGrid:e.tileGrid,tileLoadFunction:e.tileLoadFunction?e.tileLoadFunction:sx,tilePixelRatio:e.tilePixelRatio,tileUrlFunction:e.tileUrlFunction,url:e.url,urls:e.urls,wrapX:e.wrapX,transition:e.transition,interpolate:void 0===e.interpolate||e.interpolate,key:e.key,attributionsCollapsible:e.attributionsCollapsible,zDirection:e.zDirection}),this.crossOrigin=void 0!==e.crossOrigin?e.crossOrigin:null,this.tileClass=void 0!==e.tileClass?e.tileClass:_v,this.tileGridForProjection={},this.reprojectionErrorThreshold_=e.reprojectionErrorThreshold,this.renderReprojectionEdges_=!1}getGutterForProjection(e){return this.getProjection()&&e&&!go(this.getProjection(),e)?0:this.getGutter()}getGutter(){return 0}getKey(){let e=super.getKey();return this.getInterpolate()||(e+=":disable-interpolation"),e}getTileGridForProjection(e){const t=this.getProjection();if(this.tileGrid&&(!t||go(t,e)))return this.tileGrid;const n=Xn(e);return n in this.tileGridForProjection||(this.tileGridForProjection[n]=Fy(e)),this.tileGridForProjection[n]}createTile_(e,t,n,i,r,o){const s=[e,t,n],a=this.getTileCoordForTileUrlFunction(s,r),l=a?this.tileUrlFunction(a,i,r):void 0,c=new this.tileClass(s,void 0!==l?fm:_m,void 0!==l?l:"",this.crossOrigin,this.tileLoadFunction,this.tileOptions);return c.key=o,c.addEventListener(an,this.handleTileChange.bind(this)),c}getTile(e,t,n,i,r){const o=this.getProjection();if(!o||!r||go(o,r))return this.getTileInternal(e,t,n,i,o||r);const s=[e,t,n],a=this.getKey(),l=this.getTileGridForProjection(o),c=this.getTileGridForProjection(r),u=this.getTileCoordForTileUrlFunction(s,r),h=new ly(o,l,r,c,s,u,this.getTilePixelRatio(i),this.getGutter(),(e,t,n,i)=>this.getTileInternal(e,t,n,i,o),this.reprojectionErrorThreshold_,this.renderReprojectionEdges_,this.tileOptions);return h.key=a,h}getTileInternal(e,t,n,i,r){const o=this.getKey();return this.createTile_(e,t,n,i,r,o)}setRenderReprojectionEdges(e){this.renderReprojectionEdges_!=e&&(this.renderReprojectionEdges_=e,this.changed())}setTileGridForProjection(e,t){const n=co(e);if(n){const e=Xn(n);e in this.tileGridForProjection||(this.tileGridForProjection[e]=t)}}}function sx(e,t){e.getImage().src=t}class ax extends ox{constructor(e){if(super({attributions:e.attributions,cacheSize:e.cacheSize,crossOrigin:e.crossOrigin,interpolate:e.interpolate,projection:co("EPSG:3857"),reprojectionErrorThreshold:e.reprojectionErrorThreshold,state:"loading",tileLoadFunction:e.tileLoadFunction,wrapX:void 0===e.wrapX||e.wrapX,transition:e.transition,zDirection:e.zDirection}),this.tileJSON_=null,this.tileSize_=e.tileSize,e.url)if(e.jsonp)!function(e,t,n){const i=document.createElement("script"),r="olc_"+Xn(t);function o(){delete window[r],i.parentNode.removeChild(i)}i.async=!0,i.src=e+(e.includes("?")?"&":"?")+"callback="+r;const s=setTimeout(function(){o(),n&&n()},1e4);window[r]=function(e){clearTimeout(s),o(),t(e)},document.head.appendChild(i)}(e.url,this.handleTileJSONResponse.bind(this),this.handleTileJSONError.bind(this));else{const t=new XMLHttpRequest;t.addEventListener("load",this.onXHRLoad_.bind(this)),t.addEventListener("error",this.onXHRError_.bind(this)),t.open("GET",e.url),t.send()}else{if(!e.tileJSON)throw new Error("Either `url` or `tileJSON` options must be provided");this.handleTileJSONResponse(e.tileJSON)}}onXHRLoad_(e){const t=e.target;if(!t.status||t.status>=200&&t.status<300){let e;try{e=JSON.parse(t.responseText)}catch{return void this.handleTileJSONError()}this.handleTileJSONResponse(e)}else this.handleTileJSONError()}onXHRError_(e){this.handleTileJSONError()}getTileJSON(){return this.tileJSON_}handleTileJSONResponse(e){const t=co("EPSG:4326"),n=this.getProjection();let i;if(void 0!==e.bounds){const r=mo(t,n);i=Hi(e.bounds,r)}const r=Oy(n),o=e.minzoom||0,s=Ly({extent:r,maxZoom:e.maxzoom||22,minZoom:o,tileSize:this.tileSize_});if(this.tileGrid=s,this.tileUrlFunction=ex(e.tiles,s),e.attribution&&!this.getAttributions()){const t=void 0!==i?i:r;this.setAttributions(function(n){return Xi(t,n.extent)?[e.attribution]:null})}this.tileJSON_=e,this.setState("ready")}handleTileJSONError(){this.setState("error")}}class lx extends rx{constructor(e){const t=e.projection||"EPSG:3857",n=e.extent||Oy(t),i=e.tileGrid||Ly({extent:n,maxResolution:e.maxResolution,maxZoom:void 0!==e.maxZoom?e.maxZoom:22,minZoom:e.minZoom,tileSize:e.tileSize||512});super({attributions:e.attributions,attributionsCollapsible:e.attributionsCollapsible,cacheSize:e.cacheSize,interpolate:!0,projection:t,state:e.state,tileGrid:i,tileLoadFunction:e.tileLoadFunction?e.tileLoadFunction:cx,tileUrlFunction:e.tileUrlFunction,url:e.url,urls:e.urls,wrapX:void 0===e.wrapX||e.wrapX,transition:e.transition,zDirection:void 0===e.zDirection?1:e.zDirection}),this.format_=e.format?e.format:null,this.tileKeysBySourceTileUrl_={},this.sourceTiles_={},this.overlaps_=null==e.overlaps||e.overlaps,this.tileClass=e.tileClass?e.tileClass:kv,this.tileGrids_={}}getOverlaps(){return this.overlaps_}getSourceTiles(e,t,n){if(n.getState()===fm){n.setState(gm);const i=n.wrappedTileCoord,r=this.getTileGridForProjection(t),o=r.getTileCoordExtent(i),s=i[0],a=r.getResolution(s);gi(o,-a,o);const l=this.tileGrid,c=l.getExtent();c&&Bi(o,c,o);const u=l.getZForResolution(a,this.zDirection);l.forEachTileCoord(o,u,i=>{const r=this.tileUrlFunction(i,e,t);this.sourceTiles_[r]||(this.sourceTiles_[r]=new this.tileClass(i,r?fm:_m,r,this.format_,this.tileLoadFunction));const o=this.sourceTiles_[r];n.sourceTiles.push(o),this.tileKeysBySourceTileUrl_[r]||(this.tileKeysBySourceTileUrl_[r]=[]),this.tileKeysBySourceTileUrl_[r].push(n.getKey());const s=o.getState();if(s<mm){const e=t=>{this.handleTileChange(t);const i=o.getState();if(i===mm||i===vm){const t=o.getKey();t in n.errorTileKeys?o.getState()===mm&&delete n.errorTileKeys[t]:n.loadingSourceTiles--,i===vm?n.errorTileKeys[t]=!0:o.removeEventListener(an,e),0===n.loadingSourceTiles&&n.setState(_n(n.errorTileKeys)?mm:vm)}};o.addEventListener(an,e),n.loadingSourceTiles++}s===fm&&(o.extent=l.getTileCoordExtent(i),o.projection=t,o.resolution=l.getResolution(i[0]),o.load())}),n.loadingSourceTiles||n.setState(n.sourceTiles.some(e=>e.getState()===vm)?vm:mm)}return n.sourceTiles}removeSourceTiles(e){const t=e.getKey(),n=e.sourceTiles;for(let i=0,r=n.length;i<r;++i){const e=n[i].getTileUrl();if(!this.tileKeysBySourceTileUrl_[e])return;const r=this.tileKeysBySourceTileUrl_[e].indexOf(t);-1!==r&&(this.tileKeysBySourceTileUrl_[e].splice(r,1),0===this.tileKeysBySourceTileUrl_[e].length&&(delete this.tileKeysBySourceTileUrl_[e],delete this.sourceTiles_[e]))}}getTile(e,t,n,i,r){const o=[e,t,n];let s=this.getTileCoordForTileUrlFunction(o,r);const a=this.getTileGrid().getExtent(),l=this.getTileGridForProjection(r);if(s&&a){const t=l.getTileCoordExtent(s);gi(t,-l.getResolution(e),t),Xi(a,t)||(s=null)}let c=!0;if(null!==s){const t=this.tileGrid,n=l.getResolution(e),o=t.getZForResolution(n,1),a=l.getTileCoordExtent(s);gi(a,-n,a),t.forEachTileCoord(a,o,e=>{c=c&&!this.tileUrlFunction(e,i,r)})}const u=new wv(o,c?_m:fm,s,this.getSourceTiles.bind(this,i,r),this.removeSourceTiles.bind(this));return u.key=this.getKey(),u}getTileGridForProjection(e){const t=e.getCode();let n=this.tileGrids_[t];if(!n){const i=this.getProjection();ai(null===i||go(i,e),"A VectorTile source can only be rendered if it has a projection compatible with the view projection.");const r=this.tileGrid,o=r.getResolutions().slice(),s=o.map(function(e,t){return r.getOrigin(t)}),a=o.map(function(e,t){return r.getTileSize(t)}),l=43;for(let e=o.length;e<l;++e)o.push(o[e-1]/2),s.push(s[e-1]),a.push(a[e-1]);n=new Py({extent:r.getExtent(),origins:s,resolutions:o,tileSizes:a}),this.tileGrids_[t]=n}return n}getTilePixelRatio(e){return e}getTilePixelSize(e,t,n){const i=vc(this.getTileGridForProjection(n).getTileSize(e),this.tmpSize);return[Math.round(i[0]*t),Math.round(i[1]*t)]}setOverlaps(e){this.overlaps_=e,this.changed()}}function cx(e,t){e.setLoader(function(n,i,r){Zi(t,e.getFormat(),n,i,r,e.onLoad.bind(e),e.onError.bind(e))})}function ux(e,t){const n=e[0],i=n.width,r=n.height,o=n.data,s=new Uint8ClampedArray(o.length),a=2*t.resolution,l=i-1,c=r-1,u=[0,0,0,0],h=2*Math.PI,d=Math.PI/2,p=Math.PI*t.sunEl/180,f=Math.PI*t.sunAz/180,g=Math.cos(p),m=Math.sin(p),v=t.highlightColor,_=t.shadowColor,y=t.accentColor,x=t.encoding;let b,w,k,S,C,E,T,R,M,I,A,P,F,L,z,O,D,j,N,$,B,G;function q(e,t="mapbox"){return"mapbox"===t?.1*(256*e[0]*256+256*e[1]+e[2])-1e4:"terrarium"===t?256*e[0]+e[1]+e[2]/256-32768:void 0}for(w=0;w<=c;++w)for(C=0===w?0:w-1,E=w===c?c:w+1,b=0;b<=l;++b)k=0===b?0:b-1,S=b===l?l:b+1,T=4*(w*i+k),u[0]=o[T],u[1]=o[T+1],u[2]=o[T+2],u[3]=o[T+3],R=t.vert*q(u,x),T=4*(w*i+S),u[0]=o[T],u[1]=o[T+1],u[2]=o[T+2],u[3]=o[T+3],M=t.vert*q(u,x),I=(M-R)/a,T=4*(C*i+b),u[0]=o[T],u[1]=o[T+1],u[2]=o[T+2],u[3]=o[T+3],R=t.vert*q(u,x),T=4*(E*i+b),u[0]=o[T],u[1]=o[T+1],u[2]=o[T+2],u[3]=o[T+3],M=t.vert*q(u,x),A=(M-R)/a,F=Math.atan2(A,-I),F=F<0?d-F:F>d?h-F+d:d-F,P=Math.atan(Math.sqrt(I*I+A*A)),G=m*Math.cos(P)+g*Math.sin(P)*Math.cos(f-F),L=Math.cos(P),z=255*G,N=Math.min(Math.max(2*t.sunEl,0),1),$=1.875-1.75*t.opacity,B=.5!==t.opacity?d*((Math.pow($,P)-1)/(Math.pow($,d)-1)):P,D={r:(1-L)*y.r*N*255,g:(1-L)*y.g*N*255,b:(1-L)*y.b*N*255,a:(1-L)*y.a*N*255},O=Math.abs(((F+f)/Math.PI+.5)%2-1),j={r:(v.r*(1-O)+_.r*O)*z,g:(v.g*(1-O)+_.g*O)*z,b:(v.b*(1-O)+_.b*O)*z,a:(v.a*(1-O)+_.a*O)*z},T=4*(w*i+b),s[T]=D.r*(1-O)+j.r,s[T+1]=D.g*(1-O)+j.g,s[T+2]=D.b*(1-O)+j.b,s[T+3]=o[T+3]*t.opacity*N*Math.sin(B);return new ImageData(s,i,r)}function hx(e,t=512){return e.getExtent()?Ly({extent:e.getExtent(),tileSize:t,maxZoom:22}).getResolutions():Dv}function dx(e,t){if(!t.accessToken){t=Object.assign({},t);new URL(e).searchParams.forEach((e,n)=>{t.accessToken=e,t.accessTokenParam=n})}return t}function px(e,t,n="",i={},r=void 0){let o,s,a,l,c=!0;return"string"==typeof n||Array.isArray(n)?l=n:(a=n,l=a.source||a.layers,i=a),"string"==typeof i?(o=i,a={}):(o=i.styleUrl,a=i),!1===a.updateSource&&(c=!1),r||(r=a.resolutions),o||"string"!=typeof t||t.trim().startsWith("{")||(o=t),o&&(o=o.startsWith("data:")?location.href:Tv(o,a.accessToken),a=dx(o,a)),new Promise(function(n,i){qv(t,a).then(function(t){if(8!=t.version)return i(new Error("glStyle version 8 required."));if(!(e instanceof vd||e instanceof ky))return i(new Error("Can only apply to VectorLayer or VectorTileLayer"));const u=e instanceof ky?"vector":"geojson";if(l?s=Array.isArray(l)?t.layers.find(function(e){return e.id===l[0]}).source:l:(s=t.layers.find(function(e){return e.source&&t.sources[e.source].type===u}).source,l=s),!s)return i(new Error(`No ${u} source found in the glStyle.`));function h(){if(!c)return Promise.resolve();if(e instanceof ky)return vx(t.sources[s],o,a).then(function(t){const n=e.getSource();n?t!==n&&(n.setTileUrlFunction(t.getTileUrlFunction()),"function"==typeof n.setUrls&&"function"==typeof t.getUrls&&n.setUrls(t.getUrls()),n.format_||(n.format_=t.format_),n.getAttributions()||n.setAttributions(t.getAttributions()),n.getTileLoadFunction()===cx&&n.setTileLoadFunction(t.getTileLoadFunction()),go(n.getProjection(),t.getProjection())&&(n.tileGrid=t.getTileGrid())):e.setSource(t);const i=e.getSource().getTileGrid();!isFinite(e.getMaxResolution())&&!isFinite(e.getMinZoom())&&i.getMinZoom()>0&&e.setMaxResolution($v(Math.max(0,i.getMinZoom()-1e-12),i.getResolutions()))});const n=t.sources[s];let i=e.getSource();i&&i.get("mapbox-source")===n||(i=xx(n,o,a));const r=e.getSource();return r?i!==r&&(r.getAttributions()||r.setAttributions(i.getAttributions()),r.format_||(r.format_=i.getFormat()),r.url_=i.getUrl()):e.setSource(i),Promise.resolve()}let d,p;const f={},g={};function m(){if(p||t.sprite&&!f)p?(e.setStyle(p),h().then(n).catch(i)):i(new Error("Something went wrong trying to apply style."));else{if(a.projection&&!r){const e=co(a.projection).getUnits();"m"!==e&&(r=Dv.map(t=>t/dr[e]))}let o;const c=e.getSource();c instanceof lx&&c.format_ instanceof q_&&(o=c.format_.layerName_),p=v_(e,t,l,r,f,g,(e,t=a.webfonts)=>function(e,t="https://cdn.jsdelivr.net/npm/@fontsource/{font-family}/{fontweight}{-fontstyle}.css"){let n;for(let i=0,r=e.length;i<r;++i){const t=e[i];if(t in i_)continue;i_[t]=!0;const r=am(t,16).split(" ");n||(n=[]),n.push([r.slice(3).join(" ").replace(/"/g,""),r[1],r[0]])}return n?((async()=>{await document.fonts.ready;for(let e=0,i=n.length;e<i;++e){const i=n[e],r=i[0];if(n_.includes(r))continue;const o=i[1],s=i[2];if(!(await document.fonts.load(`${s} ${o} 16px "${r}"`)).some(e=>e.family.replace(/^['"]|['"]$/g,"").toLowerCase()===r.toLowerCase()&&e.weight==o&&e.style===s)){const e=t.replace("{font-family}",r.replace(/ /g,"-").toLowerCase()).replace("{Font+Family}",r.replace(/ /g,"+")).replace("{fontweight}",o).replace("{-fontstyle}",s.replace("normal","").replace(/(.+)/,"-$1")).replace("{fontstyle}",s);if(!document.querySelector('link[href="'+e+'"]')){const t=document.createElement("link");t.href=e,t.rel="stylesheet",document.head.appendChild(t)}}}})(),e):e}(e,t),a.getImage,o),e.getStyle()?h().then(n).catch(i):i(new Error(`Nothing to show for source [${s}]`))}}if(t.sprite){const e=function(e,t,n){if("string"==typeof e)return[{id:"default",url:Ev(e,t,n)}];for(const i of e)i.url=Ev(i.url,t,n);return e}(t.sprite,a.accessToken,o||location.href);d=window.devicePixelRatio>=1.5?.5:1;const n=.5==d?"@2x":"";Promise.all(e.map(function(e){const t=new URL(e.url);let r=t.origin+t.pathname+n+".json"+t.search;return new Promise(function(e,n){Gv("Sprite",r,a).then(e).catch(function(i){r=t.origin+t.pathname+".json"+t.search,Gv("Sprite",r,a).then(e).catch(n)})}).then(function(r){let o;if(void 0===r&&i(new Error("No sprites found.")),o=t.origin+t.pathname+n+".png"+t.search,a.transformRequest){const e=a.transformRequest(o,"SpriteImage")||o;(e instanceof Request||e instanceof Promise)&&(o=e)}g[e.id]=o;for(const t in r){const n="default"==e.id?t:`${e.id}:${t}`;f[n]=r[t]}}).catch(function(e){i(new Error(`Sprites cannot be loaded: ${r}: ${e.message}`))})})).then(m).catch(i)}else m()}).catch(i)})}function fx(e,t){let n;return e.some(function(e){if(e.id==t)return n=e.source,!0}),n}function gx(e,t,n){const i=new ax({tileJSON:t,tileSize:e.tileSize||t.tileSize||512}),r=i.getTileJSON(),o=i.getTileGrid(),s=co(n.projection||"EPSG:3857"),a=function(e,t){const n=e.bounds;if(n){const e=fo([n[0],n[1]],t),i=fo([n[2],n[3]],t);return[e[0],e[1],i[0],i[1]]}return co(t).getExtent()}(r,s),l=s.getExtent(),c=r.minzoom||0,u=r.maxzoom||22,h={attributions:i.getAttributions(),projection:s,tileGrid:new Py({origin:l?Gi(l):o.getOrigin(0),extent:a||o.getExtent(),minZoom:c,resolutions:hx(s,t.tileSize).slice(0,u+1),tileSize:o.getTileSize(0)})};return Array.isArray(r.tiles)?h.urls=r.tiles:h.url=r.tiles,h}function mx(e,t,n){const i=document.createElement("div");return i.className="ol-mapbox-style-background",i.style.position="absolute",i.style.width="100%",i.style.height="100%",new pd({source:new ca({}),render(r){const o=function(e,t,n,i){const r={id:e.id,type:e.type},o=e.layout||{},s=e.paint||{};let a;r.paint=s,s_.zoom=Nv(t,n.resolutions||Dv),s_.distanceFromCenter=0;const l=c_(r,"paint","background-color",Iv,i);return void 0!==s["background-opacity"]&&(a=c_(r,"paint","background-opacity",Iv,i)),"none"==o.visibility?void 0:d_(l,a)}(e,r.viewState.resolution,t,n);return i.style.backgroundColor=o,i}})}function vx(e,t,n){return new Promise(function(i,r){Xv(e,t,n).then(function({tileJson:t,tileLoadFunction:r}){const o=gx(e,t,n);o.tileLoadFunction=r,o.format=new q_({layerName:"mvt:layer"});const s=new lx(o);s.set("mapbox-source",e),i(s)}).catch(r)})}function _x(e){return`{bbox-${(e?e.getCode():"EPSG:3857").toLowerCase().replace(/[^a-z0-9]/g,"-")}}`}function yx(e,t,n){const i=new yy;return function(e,t,n){return new Promise(function(i,r){Xv(e,t,n).then(function({tileJson:t,tileLoadFunction:r}){const o=new ax({interpolate:void 0===n.interpolate||n.interpolate,transition:0,crossOrigin:"anonymous",tileJSON:t});o.tileGrid=gx(e,t,n).tileGrid,n.projection&&(o.projection=co(n.projection));const s=o.getTileUrlFunction();r&&o.setTileLoadFunction(r),o.setTileUrlFunction(function(e,t,n){const i=_x(n);let r=s(e,t,n);if(-1!=r.indexOf(i)){const t=o.getTileGrid().getTileCoordExtent(e);r=r.replace(i,t.toString())}return r}),o.set("mapbox-source",e),i(o)}).catch(function(e){r(e)})})}(e,t,n).then(function(e){i.setSource(e)}).catch(function(){i.setSource(void 0)}),i}function xx(e,t,n){const i=n.projection?new C_({dataProjection:n.projection}):new C_,r=e.data,o={};if("string"==typeof r){const[o]=Mv(r,n.accessToken,n.accessTokenParam||"access_token",t||location.href);if(/\{bbox-[0-9a-z-]+\}/.test(o)){const t=(e,t,n)=>{const i=_x(n);return o.replace(i,`${e.join(",")}`)},r=new ya({attributions:e.attribution,format:i,loader:(e,i,o,s,a)=>{Gv("GeoJSON","function"==typeof t?t(e,i,o):t,n).then(e=>{const t=r.getFormat().readFeatures(e,{featureProjection:o});r.addFeatures(t),s(t)}).catch(t=>{r.removeLoadedExtent(e),a()})},strategy:Ro});return r.set("mapbox-source",e),r}const s=new ya({attributions:e.attribution,format:i,url:o,loader:(e,t,i,r,a)=>{Gv("GeoJSON",o,n).then(e=>{const t=s.getFormat().readFeatures(e,{featureProjection:i});s.addFeatures(t),r(t)}).catch(t=>{s.removeLoadedExtent(e),a()})}});return s}o.features=i.readFeatures(r,{featureProjection:"EPSG:3857"});const s=new ya(Object.assign({attributions:e.attribution,format:i},o));return s.set("mapbox-source",e),s}function bx(e,t,n){let i=null;return function(r){e.paint&&"raster-opacity"in e.paint&&r.frameState.viewState.zoom!==i&&(i=r.frameState.viewState.zoom,delete n[e.id],function(e,t,n,i){s_.zoom=n,s_.distanceFromCenter=0;const r=c_(e,"paint","raster-opacity",Iv,i);t.setOpacity(r)}(e,t,i,n))}}function wx(e,t,n,i){const r=zv(e),o=e.layers,s=n.type,a=n.source||fx(o,n.ref),l=e.sources[a];let c;if("background"==s)c=mx(n,i,r);else if("vector"==l.type)c=function(e,t,n){const i=new ky({declutter:!0,visible:!1});return vx(e,t,n).then(function(e){i.setSource(e)}).catch(function(e){i.setSource(void 0)}),i}(l,t,i);else if("raster"==l.type)c=yx(l,t,i),c.setVisible(!n.layout||"none"!==n.layout.visibility),c.on("prerender",bx(n,c,r));else if("geojson"==l.type)c=function(e,t,n){return new vd({declutter:!0,source:xx(e,t,n),visible:!1})}(l,t,i);else if("raster-dem"==l.type&&"hillshade"==n.type){const e=function(e,t,n){const i=yx(e,t,n);return new Z_({source:new Xy({operationType:"image",operation:ux,sources:[i]})})}(l,t,i);c=e,e.getSource().on("beforeoperations",function(e){const t=e.data;t.resolution=uo(i.projection||"EPSG:3857",e.resolution,Oi(e.extent),"m"),s_.zoom=Nv(e.resolution,i.resolutions||Dv),s_.distanceFromCenter=0,t.encoding=l.encoding,t.vert=5*c_(n,"paint","hillshade-exaggeration",Iv,r),t.sunAz=c_(n,"paint","hillshade-illumination-direction",Iv,r),t.sunEl=35,t.opacity=.3,t.highlightColor=c_(n,"paint","hillshade-highlight-color",Iv,r),t.shadowColor=c_(n,"paint","hillshade-shadow-color",Iv,r),t.accentColor=c_(n,"paint","hillshade-accent-color",Iv,r)}),c.setVisible(!n.layout||"none"!==n.layout.visibility)}const u=a;return c&&c.set("mapbox-source",u),c}function kx(e,t,n={}){let i,r;r="string"==typeof e||e instanceof HTMLElement?new gv({target:e}):e;{const e=t.startsWith("data:")?location.href:Tv(t,n.accessToken);n=dx(e,n),i=new Promise(function(i,o){qv(t,n).then(function(t){(function(e,t,n,i){const r=[];let o=null;if(t instanceof gv){if(o=t.getView(),!o.isDef()&&!o.getRotation()&&!o.getResolutions()){const e=i.projection?co(i.projection):o.getProjection();o=new Jh(Object.assign(o.getProperties(),{maxResolution:Dv[0]/dr[e.getUnits()],projection:i.projection||o.getProjection()})),t.setView(o)}"center"in e&&!o.getCenter()&&o.setCenter(fo(e.center,o.getProjection())),"zoom"in e&&void 0===o.getZoom()&&o.setResolution(Dv[0]/dr[o.getProjection().getUnits()]/Math.pow(2,e.zoom)),o.getCenter()&&void 0!==o.getZoom()||o.fit(o.getProjection().getExtent(),{nearest:!0,size:t.getSize()})}t.set("mapbox-style",e),t.set("mapbox-metadata",{styleUrl:n,options:i});const s=e.layers;let a,l,c,u=[];for(let h=0,d=s.length;h<d;++h){const o=s[h];"heatmap"!=o.type&&(c=o.source||fx(s,o.ref),c&&c==l||(u.length&&(r.push(Sx(a,u,e,n,t,i)),u=[]),a=wx(e,n,o,i),a instanceof vd||a instanceof ky||(u=[]),l=a.get("mapbox-source")),u.push(o.id))}return r.push(Sx(a,u,e,n,t,i)),Promise.all(r)})(t,r,e,n).then(function(){i(r)}).catch(o)}).catch(function(e){o(new Error(`Could not load ${t}: ${e.message}`))})})}return i}function Sx(e,t,n,i,r,o={}){let s=24,a=0;const l=n.layers;for(let c=0,u=l.length;c<u;++c){const e=l[c];-1!==t.indexOf(e.id)&&(s=Math.min("minzoom"in e?e.minzoom:0,s),a=Math.max("maxzoom"in e?e.maxzoom:24,a))}return new Promise(function(l,c){const u=function(){const u=e.getSource();if(u&&"error"!==u.getState()){if("getTileGrid"in u){const t=u.getTileGrid();if(t){const n=t.getMinZoom();(s>0||n>0)&&e.setMaxResolution(Math.min($v(Math.max(0,s-1e-12),Dv),$v(Math.max(0,n-1e-12),t.getResolutions()))),a<24&&e.setMinResolution($v(a,Dv))}}else s>0&&e.setMaxResolution($v(Math.max(0,s-1e-12),Dv));u instanceof ya||u instanceof lx?px(e,n,t,Object.assign({styleUrl:i},o)).then(function(){!function(e,t){function n(){const n=t.get("mapbox-style");if(!n)return;const i=wd(n.layers),r=e.get("mapbox-layers"),o=i.filter(function(e){return r.includes(e.id)}).some(function(e){return!e.layout||!e.layout.visibility||"visible"===e.layout.visibility});e.get("visible")!==o&&e.setVisible(o)}e.on("change",n),n()}(e,r),l()}).catch(c):l()}else c(new Error("Error accessing data for source "+e.get("mapbox-source")))};e.set("mapbox-layers",t);const h=r.getLayers();-1===h.getArray().indexOf(e)&&h.push(e),e.getSource()?u():e.once("change:source",u)})}const Cx=((e,t)=>{const n=e.__vccOpts||e;for(const[i,r]of t)n[i]=r;return n})({__name:"Map",props:Ft,setup(e){const n=t.ref(void 0),i=t.ref(null),r=e,o=r.center,s=r.zoom,a=_d(r.driving),l=_d(r.walking),c=_d(r.points);return t.onMounted(()=>{kx(n.value,"https://api.maptiler.com/maps/outdoor-v2/style.json?key=K18uxgT9BWfvlkwGw6VG").then(e=>{i.value=e,e.getControls().clear(),e.addControl(new Jn);const t=e.getView();o&&t.setCenter(fo(function(e){if("string"==typeof e){const[t,n]=e.split(",");return[Number(t),Number(n)]}}(o))),s&&t.setZoom(s);const n=new ya;c.forEach(([e,t,i])=>{const r=new Mo({geometry:new Ds(fo([e,t]))});r.set("label",i),n.addFeature(r)}),a.forEach(([e,t,i])=>{const r=new Mo({geometry:new Ds(fo([e,t]))});r.set("label",i),n.addFeature(r)}),l.forEach(([e,t,i])=>{const r=new Mo({geometry:new Ds(fo([e,t]))});r.set("label",i),n.addFeature(r)});const r=new Cc({image:new xc({radius:5,fill:new bc({color:"rgba(255, 255, 255, 0.8)"}),stroke:new Sc({color:"#3399CC",width:1.5})}),text:new Mc({font:'bold 14px "Open Sans", "Helvetica Neue", sans-serif',textAlign:"center",textBaseline:"bottom",offsetY:-15,padding:[2,4,2,4],fill:new bc({color:"rgba(0, 0, 0, 1)"}),backgroundFill:new bc({color:"rgba(255, 255, 255, 0.8)"}),backgroundStroke:new Sc({color:"#333",width:1.5}),stroke:new Sc({color:"rgba(255, 255, 255, 0.8)",width:3}),fill:new bc({color:"#000"}),text:""})}),u=new vd({source:n,style:function(e){const t=r.clone();return t.getText().setText(e.get("label")),t}});if(e.addLayer(u),c.length>0||a.length>0||l.length>0){const e=n.getExtent();t.fit(e,{padding:[48,48,48,48],maxZoom:15,duration:0})}})}),t.onBeforeUnmount(()=>{i.value&&(i.value.setTarget(null),i.value=null)}),(e,i)=>(t.openBlock(),t.createElementBlock("div",{ref_key:"mapRef",ref:n,class:"map-container"},null,512))}},[["__scopeId","data-v-2423e6b3"]]),Ex={__name:"index",props:Ft,setup(e){const n=t.ref(!1),i=()=>{n.value=!0};return(e,r)=>(t.openBlock(),t.createBlock(t.unref(Ct),{onLoad:i},{default:t.withCtx(()=>[n.value?(t.openBlock(),t.createBlock(Cx,t.normalizeProps(t.mergeProps({key:0},e.$props)),null,16)):(t.openBlock(),t.createBlock(t.unref(Et),{key:1}))]),_:1}))}},Tx={template:xt('<div><div><b>{{this.name}}</b></div><div @click="this.switchDetail" style="margin-bottom:16px">\n<i>{{this.from}}</i>\n<i>{{this.to}}</i>\n</div></div>'),data:function(){return{detail:!1}},props:["name","date","nights"],computed:{from:function(){return this.date?window.dayjs(this.date).format("D MMM, YYYY"):""},to:function(){return this.date&&this.nights?this.detail?` - ${window.dayjs(this.date).add(this.nights,"d").format("D MMM, YYYY")}`:`, ${this.nights} night${this.nights>1?"s":""}`:""}},methods:{switchDetail:function(){this.detail=!this.detail}}},Rx=window.antd&&window.antd.Alert;window.antd&&window.antd.Button,window.antd&&window.antd.Calendar;const Mx=window.antd&&window.antd.Carousel;window.antd&&window.antd.Steps,window.antd&&window.antd.Step;const Ix=window.antd&&window.antd.Tooltip,Ax=window.antd&&window.antd.TypographyParagraph,Px={template:xt('\n<a-carousel autoplay v-if="visible">\n<div v-for="i in content">\n<a-img :name="i.name" :dir="i.dir" :key="i.name"></a-img>\n</div>\n</a-carousel>\n'),props:["img"],computed:{visible:function(){return this.content.length>0},content:function(){const e=wt();return this.img.filter(t=>!t.dir?.includes("privacy")||!!e)}},components:{"a-carousel":Mx,"a-img":It}},Fx={template:'<span class="badge"><span v-if="title" class="badge-title">{{ title }}</span><span class="badge-content"><slot></slot></span></span>',props:{title:{type:String}}},Lx={template:'<span style="border-bottom:1px dotted red;display:inline-block"><t-tooltip :title="title"><slot></slot></t-tooltip></span>',props:{title:{type:String}},components:{"t-tooltip":Ix}},zx={template:xt('\n<div class="gallery" v-if="visible">\n<div class="gallery-item" v-for="i in content" :style="{width}">\n<a-img :name="i.name" :dir="i.dir" :key="i.name"></a-img>\n</div>\n</div>\n'),props:["img"],computed:{width:function(){return 100/this.content.length+"%"},visible:function(){return this.content.length>0},content:function(){const e=wt();return this.img.filter(t=>!t?.dir?.includes("privacy")||!!e)}},components:{"a-img":It}},Ox={template:xt('<a-diction :auto-load="true" :show-origin="showOrigin" :word="word">{{ title }}</a-diction>'),props:{word:{type:String},title:{type:String},showOrigin:{type:Boolean,default:!1}},components:{"a-diction":window.vueDiction}},Dx=864e5,jx={template:xt("<div>距离{{name}}还有{{days}}</div>"),props:{date:{type:String,required:!0},name:{type:String,required:!0},type:{type:String}},computed:{days:function(){if("week"===this.type){const e=Math.ceil((new Date(this.date)-new Date)/Dx)/7;if(e>=2)return Math.ceil(e)+"周"}return Math.ceil((new Date(this.date)-new Date)/Dx)+"天"}}},Nx={template:'<div v-if="visible"><a-alert :message="\'注意：\' + message" type="warning"></a-alert></div>',props:["start","end","message"],computed:{visible:function(){const e=new Date;return e>=new Date(`${this.start} 00:00:00`)&&e<=new Date(`${this.end} 23:59:59`)}},components:{"a-alert":Rx}};const $x={mounted(){this.unmount=function(){const{createApp:e}=window.Vue,t=document.createElement("div");t.style.position="fixed",t.style.top="0",t.style.left="0",document.body.appendChild(t);const n=e({template:xt("<div v-if=\"text\" :style=\"{ position: 'absolute', left: x + 'px', top: y + 'px', width: width + 'px', height: height + 'px', background: '#fff' }\">\n  <a-typography-paragraph :copyable=\"{ text }\" style=\"margin: 0; text-align: center;\"></a-typography-paragraph>\n</div>"),data:()=>({text:"",x:0,y:0,width:0,height:0}),mounted(){document.addEventListener("selectionchange",this.listener)},beforeUnmount(){document.removeEventListener("selectionchange",this.listener),document.body.removeChild(t)},methods:{listener(){if(document.getSelection()){this.text=document.getSelection().toString();try{const e=document.getSelection().getRangeAt(0).getClientRects();if(e&&e[0]){const[{x:t,y:n,width:i,height:r}]=e;this.x=t,this.y=n,this.width=i,this.height=r}}catch(Ze){}}}},components:{"a-typography-paragraph":Ax}});return n.mount(t),()=>{n.unmount()}}()},beforeUnmount(){"function"==typeof this.unmount&&this.unmount()}},Bx={template:'<span style="font-weight:800;padding:0 2px;">/</span>'},Gx={data:function(){return{visible:!1}},methods:{switchVisible:function(){this.visible=!this.visible}},template:"<div @click=\"switchVisible\" :style=\"visible ? '' : 'white-space:nowrap;text-overflow:ellipsis;overflow:hidden;'\"><slot></slot></div>"},qx={template:'<dl style="list-style:mongolian"><dt>{{ title }}</dt><li v-for="d in this.weekData">{{ d }}</li></dl>',props:{title:{type:String},start:{type:Number,required:!0},data:{type:Object,required:!0}},computed:{currentWeek:function(){const e=0===dayjs().day()?1:0;return dayjs().week()-e},weekIndex:function(){return this.currentWeek-this.start},weekDay:function(){return dayjs().week(this.weekIndex).format()},weekData:function(){return this.data[this.weekIndex]||[]}}},Wx={template:"<span>{{content}}</span>",data:function(){return{count:0}},props:{selector:{type:String,required:!0},render:{type:Function,default:function(e){return"共"+e+"条"}}},computed:{content:function(){return this.render(this.count)}},mounted(){"string"==typeof this.selector&&this.$nextTick(()=>{this.count=document.querySelectorAll(this.selector).length||0})}};const Xx={template:"<i>{{ text }}</i>",props:["times","location"],computed:{text:function(){return"The "+function(e=1){return""+e+(["st","nd","rd"][e%10-1]||"th")}(this.times)+" time"+(this.times>1?"s":"")+" in "+this.location}}},Ux={__name:"a-bg",props:{bg:{type:String,default:"transparent"},color:{type:String,default:"#fff"}},setup(e){const n=e;return(e,i)=>(t.openBlock(),t.createElementBlock("span",{style:t.normalizeStyle({background:n.bg,color:n.color})},[t.renderSlot(e.$slots,"default")],4))}},Hx={template:'<span :style="{color}"><template v-for="i in size">★</template></span>',props:["size","color"]};window.$docsify.vueComponents={"a-img":It,"a-secret":At,"a-flight":Pt,"a-map":Ex,"a-hotel":Tx,"a-carousel":Px,"a-badge":Fx,"a-tooltip":Lx,"a-gallery":zx,"a-word":Ox,"a-countdown":jx,"a-remind":Nx,"a-select":$x,"a-slash":Bx,"a-collapse":Gx,"a-schedule":qx,"a-count":Wx,"a-times":Xx,"a-lazyload":Ct,"a-bg":Ux,"a-star":Hx,...window.$docsify.vueComponents||{}},Array.isArray(window.$docsify.plugins)||(window.$docsify.plugins=[]),window.$docsify.plugins.push(function(e){e.beforeEach(n)}),window.addEventListener("click",e=>{if("A"===e.target.nodeName&&"section-link"===e.target.className){const[e]=location.hash.split("?");location.hash=e}})});
